var OT=Object.defineProperty;var DT=(t,e,n)=>e in t?OT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var q=(t,e,n)=>DT(t,typeof e!="symbol"?e+"":e,n);function MT(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function om(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ww={exports:{}},Td={},bw={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=Symbol.for("react.element"),LT=Symbol.for("react.portal"),FT=Symbol.for("react.fragment"),VT=Symbol.for("react.strict_mode"),zT=Symbol.for("react.profiler"),UT=Symbol.for("react.provider"),BT=Symbol.for("react.context"),$T=Symbol.for("react.forward_ref"),HT=Symbol.for("react.suspense"),WT=Symbol.for("react.memo"),GT=Symbol.for("react.lazy"),Xy=Symbol.iterator;function qT(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var Ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sw=Object.assign,kw={};function mo(t,e,n){this.props=t,this.context=e,this.refs=kw,this.updater=n||Ew}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tw(){}Tw.prototype=mo.prototype;function am(t,e,n){this.props=t,this.context=e,this.refs=kw,this.updater=n||Ew}var lm=am.prototype=new Tw;lm.constructor=am;Sw(lm,mo.prototype);lm.isPureReactComponent=!0;var Jy=Array.isArray,Iw=Object.prototype.hasOwnProperty,cm={current:null},Cw={key:!0,ref:!0,__self:!0,__source:!0};function Aw(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Iw.call(e,i)&&!Cw.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:wl,type:t,key:s,ref:o,props:r,_owner:cm.current}}function KT(t,e){return{$$typeof:wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function um(t){return typeof t=="object"&&t!==null&&t.$$typeof===wl}function YT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zy=/\/+/g;function bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YT(""+t.key):e.toString(36)}function Yc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wl:case LT:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+bh(o,0):i,Jy(r)?(n="",t!=null&&(n=t.replace(Zy,"$&/")+"/"),Yc(r,e,n,"",function(c){return c})):r!=null&&(um(r)&&(r=KT(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Zy,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Jy(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+bh(s,a);o+=Yc(s,e,n,l,r)}else if(l=qT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+bh(s,a++),o+=Yc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ac(t,e,n){if(t==null)return t;var i=[],r=0;return Yc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function QT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},Qc={transition:null},XT={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Qc,ReactCurrentOwner:cm};function Nw(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ac,forEach:function(t,e,n){ac(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ac(t,function(){e++}),e},toArray:function(t){return ac(t,function(e){return e})||[]},only:function(t){if(!um(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=mo;re.Fragment=FT;re.Profiler=zT;re.PureComponent=am;re.StrictMode=VT;re.Suspense=HT;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XT;re.act=Nw;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Sw({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Iw.call(e,l)&&!Cw.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:wl,type:t.type,key:r,ref:s,props:i,_owner:o}};re.createContext=function(t){return t={$$typeof:BT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UT,_context:t},t.Consumer=t};re.createElement=Aw;re.createFactory=function(t){var e=Aw.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:$T,render:t}};re.isValidElement=um;re.lazy=function(t){return{$$typeof:GT,_payload:{_status:-1,_result:t},_init:QT}};re.memo=function(t,e){return{$$typeof:WT,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Qc.transition;Qc.transition={};try{t()}finally{Qc.transition=e}};re.unstable_act=Nw;re.useCallback=function(t,e){return Pt.current.useCallback(t,e)};re.useContext=function(t){return Pt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};re.useEffect=function(t,e){return Pt.current.useEffect(t,e)};re.useId=function(){return Pt.current.useId()};re.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Pt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};re.useRef=function(t){return Pt.current.useRef(t)};re.useState=function(t){return Pt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Pt.current.useTransition()};re.version="18.3.1";bw.exports=re;var O=bw.exports;const Rn=om(O),JT=MT({__proto__:null,default:Rn},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=O,eI=Symbol.for("react.element"),tI=Symbol.for("react.fragment"),nI=Object.prototype.hasOwnProperty,iI=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rI={key:!0,ref:!0,__self:!0,__source:!0};function Pw(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)nI.call(e,i)&&!rI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:eI,type:t,key:s,ref:o,props:r,_owner:iI.current}}Td.Fragment=tI;Td.jsx=Pw;Td.jsxs=Pw;ww.exports=Td;var d=ww.exports,Rw={exports:{}},Kt={},jw={exports:{}},Ow={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,$){var Y=U.length;U.push($);e:for(;0<Y;){var ge=Y-1>>>1,te=U[ge];if(0<r(te,$))U[ge]=$,U[Y]=te,Y=ge;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var $=U[0],Y=U.pop();if(Y!==$){U[0]=Y;e:for(var ge=0,te=U.length,ye=te>>>1;ge<ye;){var Pe=2*(ge+1)-1,Je=U[Pe],Te=Pe+1,Qt=U[Te];if(0>r(Je,Y))Te<te&&0>r(Qt,Je)?(U[ge]=Qt,U[Te]=Y,ge=Te):(U[ge]=Je,U[Pe]=Y,ge=Pe);else if(Te<te&&0>r(Qt,Y))U[ge]=Qt,U[Te]=Y,ge=Te;else break e}}return $}function r(U,$){var Y=U.sortIndex-$.sortIndex;return Y!==0?Y:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,g=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var $=n(c);$!==null;){if($.callback===null)i(c);else if($.startTime<=U)i(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function P(U){if(w=!1,S(U),!x)if(n(l)!==null)x=!0,fe(j);else{var $=n(c);$!==null&&ae(P,$.startTime-U)}}function j(U,$){x=!1,w&&(w=!1,v(E),E=-1),g=!0;var Y=p;try{for(S($),f=n(l);f!==null&&(!(f.expirationTime>$)||U&&!N());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,p=f.priorityLevel;var te=ge(f.expirationTime<=$);$=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&i(l),S($)}else i(l);f=n(l)}if(f!==null)var ye=!0;else{var Pe=n(c);Pe!==null&&ae(P,Pe.startTime-$),ye=!1}return ye}finally{f=null,p=Y,g=!1}}var M=!1,T=null,E=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function R(){if(T!==null){var U=t.unstable_now();C=U;var $=!0;try{$=T(!0,U)}finally{$?A():(M=!1,T=null)}}else M=!1}var A;if(typeof _=="function")A=function(){_(R)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=R,A=function(){Q.postMessage(null)}}else A=function(){b(R,0)};function fe(U){T=U,M||(M=!0,A())}function ae(U,$){E=b(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,fe(j))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var Y=p;p=$;try{return U()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=p;p=U;try{return $()}finally{p=Y}},t.unstable_scheduleCallback=function(U,$,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,U={id:h++,callback:$,priorityLevel:U,startTime:Y,expirationTime:te,sortIndex:-1},Y>ge?(U.sortIndex=Y,e(c,U),n(l)===null&&U===n(c)&&(w?(v(E),E=-1):w=!0,ae(P,Y-ge))):(U.sortIndex=te,e(l,U),x||g||(x=!0,fe(j))),U},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(U){var $=p;return function(){var Y=p;p=$;try{return U.apply(this,arguments)}finally{p=Y}}}})(Ow);jw.exports=Ow;var sI=jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI=O,qt=sI;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dw=new Set,La={};function ns(t,e){Ys(t,e),Ys(t+"Capture",e)}function Ys(t,e){for(La[t]=e,t=0;t<e.length;t++)Dw.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,aI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function lI(t){return Tf.call(tv,t)?!0:Tf.call(ev,t)?!1:aI.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function cI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uI(t,e,n,i){if(e===null||typeof e>"u"||cI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dm=/[\-:]([a-z])/g;function hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dm,hm);ft[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dm,hm);ft[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dm,hm);ft[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fm(t,e,n,i){var r=ft.hasOwnProperty(e)?ft[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uI(e,n,r,i)&&(n=null),i||r===null?lI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var fi=oI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),bs=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Mw=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),Fw=Symbol.for("react.offscreen"),nv=Symbol.iterator;function $o(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Eh;function sa(t){if(Eh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eh=e&&e[1]||""}return`
`+Eh+t}var Sh=!1;function kh(t,e){if(!t||Sh)return"";Sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sa(t):""}function dI(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=kh(t.type,!1),t;case 11:return t=kh(t.type.render,!1),t;case 1:return t=kh(t.type,!0),t;default:return""}}function Nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Es:return"Fragment";case bs:return"Portal";case If:return"Profiler";case pm:return"StrictMode";case Cf:return"Suspense";case Af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lw:return(t.displayName||"Context")+".Consumer";case Mw:return(t._context.displayName||"Context")+".Provider";case mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gm:return e=t.displayName||null,e!==null?e:Nf(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return Nf(t(e))}catch{}}return null}function hI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(e);case 8:return e===pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fI(t){var e=Vw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cc(t){t._valueTracker||(t._valueTracker=fI(t))}function zw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Vw(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function _u(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pf(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uw(t,e){e=e.checked,e!=null&&fm(t,"checked",e,!1)}function Rf(t,e){Uw(t,e);var n=nr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&jf(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jf(t,e,n){(e!=="number"||_u(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oa=Array.isArray;function Ms(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Of(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(oa(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function Bw(t,e){var n=nr(e.value),i=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Df(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uc,Hw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pI=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(t){pI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ga[e]=ga[t]})});function Ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ga.hasOwnProperty(t)&&ga[t]?(""+e).trim():e+"px"}function Gw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Ww(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var mI=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mf(t,e){if(e){if(mI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=null;function ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vf=null,Ls=null,Fs=null;function av(t){if(t=Sl(t)){if(typeof Vf!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Pd(e),Vf(t.stateNode,t.type,e))}}function qw(t){Ls?Fs?Fs.push(t):Fs=[t]:Ls=t}function Kw(){if(Ls){var t=Ls,e=Fs;if(Fs=Ls=null,av(t),e)for(t=0;t<e.length;t++)av(e[t])}}function Yw(t,e){return t(e)}function Qw(){}var Th=!1;function Xw(t,e,n){if(Th)return t(e,n);Th=!0;try{return Yw(t,e,n)}finally{Th=!1,(Ls!==null||Fs!==null)&&(Qw(),Kw())}}function Va(t,e){var n=t.stateNode;if(n===null)return null;var i=Pd(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var zf=!1;if(oi)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){zf=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{zf=!1}function gI(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ya=!1,wu=null,bu=!1,Uf=null,yI={onError:function(t){ya=!0,wu=t}};function vI(t,e,n,i,r,s,o,a,l){ya=!1,wu=null,gI.apply(yI,arguments)}function xI(t,e,n,i,r,s,o,a,l){if(vI.apply(this,arguments),ya){if(ya){var c=wu;ya=!1,wu=null}else throw Error(V(198));bu||(bu=!0,Uf=c)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lv(t){if(is(t)!==t)throw Error(V(188))}function _I(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return lv(r),t;if(s===i)return lv(r),e;s=s.sibling}throw Error(V(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==i)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function Zw(t){return t=_I(t),t!==null?eb(t):null}function eb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eb(t);if(e!==null)return e;t=t.sibling}return null}var tb=qt.unstable_scheduleCallback,cv=qt.unstable_cancelCallback,wI=qt.unstable_shouldYield,bI=qt.unstable_requestPaint,He=qt.unstable_now,EI=qt.unstable_getCurrentPriorityLevel,vm=qt.unstable_ImmediatePriority,nb=qt.unstable_UserBlockingPriority,Eu=qt.unstable_NormalPriority,SI=qt.unstable_LowPriority,ib=qt.unstable_IdlePriority,Id=null,jn=null;function kI(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Id,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:CI,TI=Math.log,II=Math.LN2;function CI(t){return t>>>=0,t===0?32:31-(TI(t)/II|0)|0}var dc=64,hc=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Su(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=aa(a):(s&=o,s!==0&&(i=aa(s)))}else o=n&~r,o!==0?i=aa(o):s!==0&&(i=aa(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-vn(e),r=1<<n,i|=t[n],e&=~r;return i}function AI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NI(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=AI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rb(){var t=dc;return dc<<=1,!(dc&4194240)&&(dc=64),t}function Ih(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function PI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-vn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function xm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-vn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var _e=0;function sb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ob,_m,ab,lb,cb,$f=!1,fc=[],Ui=null,Bi=null,$i=null,za=new Map,Ua=new Map,Pi=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(e.pointerId)}}function Wo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Sl(e),e!==null&&_m(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function jI(t,e,n,i,r){switch(e){case"focusin":return Ui=Wo(Ui,t,e,n,i,r),!0;case"dragenter":return Bi=Wo(Bi,t,e,n,i,r),!0;case"mouseover":return $i=Wo($i,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return za.set(s,Wo(za.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ua.set(s,Wo(Ua.get(s)||null,t,e,n,i,r)),!0}return!1}function ub(t){var e=Pr(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=Jw(n),e!==null){t.blockedOn=e,cb(t.priority,function(){ab(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ff=i,n.target.dispatchEvent(i),Ff=null}else return e=Sl(n),e!==null&&_m(e),t.blockedOn=n,!1;e.shift()}return!0}function dv(t,e,n){Xc(t)&&n.delete(e)}function OI(){$f=!1,Ui!==null&&Xc(Ui)&&(Ui=null),Bi!==null&&Xc(Bi)&&(Bi=null),$i!==null&&Xc($i)&&($i=null),za.forEach(dv),Ua.forEach(dv)}function Go(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,OI)))}function Ba(t){function e(r){return Go(r,t)}if(0<fc.length){Go(fc[0],t);for(var n=1;n<fc.length;n++){var i=fc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ui!==null&&Go(Ui,t),Bi!==null&&Go(Bi,t),$i!==null&&Go($i,t),za.forEach(e),Ua.forEach(e),n=0;n<Pi.length;n++)i=Pi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)ub(n),n.blockedOn===null&&Pi.shift()}var Vs=fi.ReactCurrentBatchConfig,ku=!0;function DI(t,e,n,i){var r=_e,s=Vs.transition;Vs.transition=null;try{_e=1,wm(t,e,n,i)}finally{_e=r,Vs.transition=s}}function MI(t,e,n,i){var r=_e,s=Vs.transition;Vs.transition=null;try{_e=4,wm(t,e,n,i)}finally{_e=r,Vs.transition=s}}function wm(t,e,n,i){if(ku){var r=Hf(t,e,n,i);if(r===null)Lh(t,e,i,Tu,n),uv(t,i);else if(jI(r,t,e,n,i))i.stopPropagation();else if(uv(t,i),e&4&&-1<RI.indexOf(t)){for(;r!==null;){var s=Sl(r);if(s!==null&&ob(s),s=Hf(t,e,n,i),s===null&&Lh(t,e,i,Tu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Lh(t,e,i,null,n)}}var Tu=null;function Hf(t,e,n,i){if(Tu=null,t=ym(i),t=Pr(t),t!==null)if(e=is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tu=t,null}function db(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EI()){case vm:return 1;case nb:return 4;case Eu:case SI:return 16;case ib:return 536870912;default:return 16}default:return 16}}var Li=null,bm=null,Jc=null;function hb(){if(Jc)return Jc;var t,e=bm,n=e.length,i,r="value"in Li?Li.value:Li.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Jc=r.slice(t,1<i?1-i:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pc(){return!0}function hv(){return!1}function Yt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pc:hv,this.isPropagationStopped=hv,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Em=Yt(go),El=Le({},go,{view:0,detail:0}),LI=Yt(El),Ch,Ah,qo,Cd=Le({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qo&&(qo&&t.type==="mousemove"?(Ch=t.screenX-qo.screenX,Ah=t.screenY-qo.screenY):Ah=Ch=0,qo=t),Ch)},movementY:function(t){return"movementY"in t?t.movementY:Ah}}),fv=Yt(Cd),FI=Le({},Cd,{dataTransfer:0}),VI=Yt(FI),zI=Le({},El,{relatedTarget:0}),Nh=Yt(zI),UI=Le({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),BI=Yt(UI),$I=Le({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HI=Yt($I),WI=Le({},go,{data:0}),pv=Yt(WI),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KI[t])?!!e[t]:!1}function Sm(){return YI}var QI=Le({},El,{key:function(t){if(t.key){var e=GI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XI=Yt(QI),JI=Le({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=Yt(JI),ZI=Le({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),eC=Yt(ZI),tC=Le({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),nC=Yt(tC),iC=Le({},Cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=Yt(iC),sC=[9,13,27,32],km=oi&&"CompositionEvent"in window,va=null;oi&&"documentMode"in document&&(va=document.documentMode);var oC=oi&&"TextEvent"in window&&!va,fb=oi&&(!km||va&&8<va&&11>=va),gv=" ",yv=!1;function pb(t,e){switch(t){case"keyup":return sC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ss=!1;function aC(t,e){switch(t){case"compositionend":return mb(e);case"keypress":return e.which!==32?null:(yv=!0,gv);case"textInput":return t=e.data,t===gv&&yv?null:t;default:return null}}function lC(t,e){if(Ss)return t==="compositionend"||!km&&pb(t,e)?(t=hb(),Jc=bm=Li=null,Ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fb&&e.locale!=="ko"?null:e.data;default:return null}}var cC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cC[t.type]:e==="textarea"}function gb(t,e,n,i){qw(i),e=Iu(e,"onChange"),0<e.length&&(n=new Em("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var xa=null,$a=null;function uC(t){Ib(t,0)}function Ad(t){var e=Is(t);if(zw(e))return t}function dC(t,e){if(t==="change")return e}var yb=!1;if(oi){var Ph;if(oi){var Rh="oninput"in document;if(!Rh){var xv=document.createElement("div");xv.setAttribute("oninput","return;"),Rh=typeof xv.oninput=="function"}Ph=Rh}else Ph=!1;yb=Ph&&(!document.documentMode||9<document.documentMode)}function _v(){xa&&(xa.detachEvent("onpropertychange",vb),$a=xa=null)}function vb(t){if(t.propertyName==="value"&&Ad($a)){var e=[];gb(e,$a,t,ym(t)),Xw(uC,e)}}function hC(t,e,n){t==="focusin"?(_v(),xa=e,$a=n,xa.attachEvent("onpropertychange",vb)):t==="focusout"&&_v()}function fC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ad($a)}function pC(t,e){if(t==="click")return Ad(e)}function mC(t,e){if(t==="input"||t==="change")return Ad(e)}function gC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:gC;function Ha(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Tf.call(e,r)||!_n(t[r],e[r]))return!1}return!0}function wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bv(t,e){var n=wv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wv(n)}}function xb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _b(){for(var t=window,e=_u();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_u(t.document)}return e}function Tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yC(t){var e=_b(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xb(n.ownerDocument.documentElement,n)){if(i!==null&&Tm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=bv(n,s);var o=bv(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vC=oi&&"documentMode"in document&&11>=document.documentMode,ks=null,Wf=null,_a=null,Gf=!1;function Ev(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gf||ks==null||ks!==_u(i)||(i=ks,"selectionStart"in i&&Tm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),_a&&Ha(_a,i)||(_a=i,i=Iu(Wf,"onSelect"),0<i.length&&(e=new Em("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ks)))}function mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},jh={},wb={};oi&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Nd(t){if(jh[t])return jh[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wb)return jh[t]=e[n];return t}var bb=Nd("animationend"),Eb=Nd("animationiteration"),Sb=Nd("animationstart"),kb=Nd("transitionend"),Tb=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,e){Tb.set(t,e),ns(e,[t])}for(var Oh=0;Oh<Sv.length;Oh++){var Dh=Sv[Oh],xC=Dh.toLowerCase(),_C=Dh[0].toUpperCase()+Dh.slice(1);cr(xC,"on"+_C)}cr(bb,"onAnimationEnd");cr(Eb,"onAnimationIteration");cr(Sb,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(kb,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function kv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,xI(i,e,void 0,t),t.currentTarget=null}function Ib(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;kv(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;kv(r,a,c),s=l}}}if(bu)throw t=Uf,bu=!1,Uf=null,t}function Ce(t,e){var n=e[Xf];n===void 0&&(n=e[Xf]=new Set);var i=t+"__bubble";n.has(i)||(Cb(e,t,2,!1),n.add(i))}function Mh(t,e,n){var i=0;e&&(i|=4),Cb(n,t,i,e)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Wa(t){if(!t[gc]){t[gc]=!0,Dw.forEach(function(n){n!=="selectionchange"&&(wC.has(n)||Mh(n,!1,t),Mh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gc]||(e[gc]=!0,Mh("selectionchange",!1,e))}}function Cb(t,e,n,i){switch(db(e)){case 1:var r=DI;break;case 4:r=MI;break;default:r=wm}n=r.bind(null,e,n,t),r=void 0,!zf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Lh(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Pr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Xw(function(){var c=s,h=ym(n),f=[];e:{var p=Tb.get(t);if(p!==void 0){var g=Em,x=t;switch(t){case"keypress":if(Zc(n)===0)break e;case"keydown":case"keyup":g=XI;break;case"focusin":x="focus",g=Nh;break;case"focusout":x="blur",g=Nh;break;case"beforeblur":case"afterblur":g=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=eC;break;case bb:case Eb:case Sb:g=BI;break;case kb:g=nC;break;case"scroll":g=LI;break;case"wheel":g=rC;break;case"copy":case"cut":case"paste":g=HI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mv}var w=(e&4)!==0,b=!w&&t==="scroll",v=w?p!==null?p+"Capture":null:p;w=[];for(var _=c,S;_!==null;){S=_;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,v!==null&&(P=Va(_,v),P!=null&&w.push(Ga(_,P,S)))),b)break;_=_.return}0<w.length&&(p=new g(p,x,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ff&&(x=n.relatedTarget||n.fromElement)&&(Pr(x)||x[ai]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?Pr(x):null,x!==null&&(b=is(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(w=fv,P="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=mv,P="onPointerLeave",v="onPointerEnter",_="pointer"),b=g==null?p:Is(g),S=x==null?p:Is(x),p=new w(P,_+"leave",g,n,h),p.target=b,p.relatedTarget=S,P=null,Pr(h)===c&&(w=new w(v,_+"enter",x,n,h),w.target=S,w.relatedTarget=b,P=w),b=P,g&&x)t:{for(w=g,v=x,_=0,S=w;S;S=gs(S))_++;for(S=0,P=v;P;P=gs(P))S++;for(;0<_-S;)w=gs(w),_--;for(;0<S-_;)v=gs(v),S--;for(;_--;){if(w===v||v!==null&&w===v.alternate)break t;w=gs(w),v=gs(v)}w=null}else w=null;g!==null&&Tv(f,p,g,w,!1),x!==null&&b!==null&&Tv(f,b,x,w,!0)}}e:{if(p=c?Is(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var j=dC;else if(vv(p))if(yb)j=mC;else{j=fC;var M=hC}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=pC);if(j&&(j=j(t,c))){gb(f,j,n,h);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&jf(p,"number",p.value)}switch(M=c?Is(c):window,t){case"focusin":(vv(M)||M.contentEditable==="true")&&(ks=M,Wf=c,_a=null);break;case"focusout":_a=Wf=ks=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,Ev(f,n,h);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":Ev(f,n,h)}var T;if(km)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ss?pb(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(fb&&n.locale!=="ko"&&(Ss||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ss&&(T=hb()):(Li=h,bm="value"in Li?Li.value:Li.textContent,Ss=!0)),M=Iu(c,E),0<M.length&&(E=new pv(E,t,null,n,h),f.push({event:E,listeners:M}),T?E.data=T:(T=mb(n),T!==null&&(E.data=T)))),(T=oC?aC(t,n):lC(t,n))&&(c=Iu(c,"onBeforeInput"),0<c.length&&(h=new pv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=T))}Ib(f,e)})}function Ga(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Iu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Va(t,n),s!=null&&i.unshift(Ga(t,s,r)),s=Va(t,e),s!=null&&i.push(Ga(t,s,r))),t=t.return}return i}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tv(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Va(n,s),l!=null&&o.unshift(Ga(n,l,a))):r||(l=Va(n,s),l!=null&&o.push(Ga(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bC=/\r\n?/g,EC=/\u0000|\uFFFD/g;function Iv(t){return(typeof t=="string"?t:""+t).replace(bC,`
`).replace(EC,"")}function yc(t,e,n){if(e=Iv(e),Iv(t)!==e&&n)throw Error(V(425))}function Cu(){}var qf=null,Kf=null;function Yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(TC)}:Qf;function TC(t){setTimeout(function(){throw t})}function Fh(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ba(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ba(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Nn="__reactFiber$"+yo,qa="__reactProps$"+yo,ai="__reactContainer$"+yo,Xf="__reactEvents$"+yo,IC="__reactListeners$"+yo,CC="__reactHandles$"+yo;function Pr(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Av(t);t!==null;){if(n=t[Nn])return n;t=Av(t)}return e}t=n,n=t.parentNode}return null}function Sl(t){return t=t[Nn]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Pd(t){return t[qa]||null}var Jf=[],Cs=-1;function ur(t){return{current:t}}function Ne(t){0>Cs||(t.current=Jf[Cs],Jf[Cs]=null,Cs--)}function Ee(t,e){Cs++,Jf[Cs]=t.current,t.current=e}var ir={},kt=ur(ir),Vt=ur(!1),Br=ir;function Qs(t,e){var n=t.type.contextTypes;if(!n)return ir;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function zt(t){return t=t.childContextTypes,t!=null}function Au(){Ne(Vt),Ne(kt)}function Nv(t,e,n){if(kt.current!==ir)throw Error(V(168));Ee(kt,e),Ee(Vt,n)}function Ab(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(V(108,hI(t)||"Unknown",r));return Le({},n,i)}function Nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ir,Br=kt.current,Ee(kt,t),Ee(Vt,Vt.current),!0}function Pv(t,e,n){var i=t.stateNode;if(!i)throw Error(V(169));n?(t=Ab(t,e,Br),i.__reactInternalMemoizedMergedChildContext=t,Ne(Vt),Ne(kt),Ee(kt,t)):Ne(Vt),Ee(Vt,n)}var Qn=null,Rd=!1,Vh=!1;function Nb(t){Qn===null?Qn=[t]:Qn.push(t)}function AC(t){Rd=!0,Nb(t)}function dr(){if(!Vh&&Qn!==null){Vh=!0;var t=0,e=_e;try{var n=Qn;for(_e=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Qn=null,Rd=!1}catch(r){throw Qn!==null&&(Qn=Qn.slice(t+1)),tb(vm,dr),r}finally{_e=e,Vh=!1}}return null}var As=[],Ns=0,Pu=null,Ru=0,Zt=[],en=0,$r=null,Jn=1,Zn="";function kr(t,e){As[Ns++]=Ru,As[Ns++]=Pu,Pu=t,Ru=e}function Pb(t,e,n){Zt[en++]=Jn,Zt[en++]=Zn,Zt[en++]=$r,$r=t;var i=Jn;t=Zn;var r=32-vn(i)-1;i&=~(1<<r),n+=1;var s=32-vn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Jn=1<<32-vn(e)+r|n<<r|i,Zn=s+t}else Jn=1<<s|n<<r|i,Zn=t}function Im(t){t.return!==null&&(kr(t,1),Pb(t,1,0))}function Cm(t){for(;t===Pu;)Pu=As[--Ns],As[Ns]=null,Ru=As[--Ns],As[Ns]=null;for(;t===$r;)$r=Zt[--en],Zt[en]=null,Zn=Zt[--en],Zt[en]=null,Jn=Zt[--en],Zt[en]=null}var Gt=null,Wt=null,je=!1,fn=null;function Rb(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Wt=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$r!==null?{id:Jn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Wt=null,!0):!1;default:return!1}}function Zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ep(t){if(je){var e=Wt;if(e){var n=e;if(!Rv(t,e)){if(Zf(t))throw Error(V(418));e=Hi(n.nextSibling);var i=Gt;e&&Rv(t,e)?Rb(i,n):(t.flags=t.flags&-4097|2,je=!1,Gt=t)}}else{if(Zf(t))throw Error(V(418));t.flags=t.flags&-4097|2,je=!1,Gt=t}}}function jv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function vc(t){if(t!==Gt)return!1;if(!je)return jv(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yf(t.type,t.memoizedProps)),e&&(e=Wt)){if(Zf(t))throw jb(),Error(V(418));for(;e;)Rb(t,e),e=Hi(e.nextSibling)}if(jv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Gt?Hi(t.stateNode.nextSibling):null;return!0}function jb(){for(var t=Wt;t;)t=Hi(t.nextSibling)}function Xs(){Wt=Gt=null,je=!1}function Am(t){fn===null?fn=[t]:fn.push(t)}var NC=fi.ReactCurrentBatchConfig;function Ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var i=n.stateNode}if(!i)throw Error(V(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function xc(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ov(t){var e=t._init;return e(t._payload)}function Ob(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function r(v,_){return v=Ki(v,_),v.index=0,v.sibling=null,v}function s(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,S,P){return _===null||_.tag!==6?(_=Gh(S,v.mode,P),_.return=v,_):(_=r(_,S),_.return=v,_)}function l(v,_,S,P){var j=S.type;return j===Es?h(v,_,S.props.children,P,S.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ci&&Ov(j)===_.type)?(P=r(_,S.props),P.ref=Ko(v,_,S),P.return=v,P):(P=ou(S.type,S.key,S.props,null,v.mode,P),P.ref=Ko(v,_,S),P.return=v,P)}function c(v,_,S,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=qh(S,v.mode,P),_.return=v,_):(_=r(_,S.children||[]),_.return=v,_)}function h(v,_,S,P,j){return _===null||_.tag!==7?(_=Lr(S,v.mode,P,j),_.return=v,_):(_=r(_,S),_.return=v,_)}function f(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Gh(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:return S=ou(_.type,_.key,_.props,null,v.mode,S),S.ref=Ko(v,null,_),S.return=v,S;case bs:return _=qh(_,v.mode,S),_.return=v,_;case Ci:var P=_._init;return f(v,P(_._payload),S)}if(oa(_)||$o(_))return _=Lr(_,v.mode,S,null),_.return=v,_;xc(v,_)}return null}function p(v,_,S,P){var j=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:a(v,_,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lc:return S.key===j?l(v,_,S,P):null;case bs:return S.key===j?c(v,_,S,P):null;case Ci:return j=S._init,p(v,_,j(S._payload),P)}if(oa(S)||$o(S))return j!==null?null:h(v,_,S,P,null);xc(v,S)}return null}function g(v,_,S,P,j){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(S)||null,a(_,v,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case lc:return v=v.get(P.key===null?S:P.key)||null,l(_,v,P,j);case bs:return v=v.get(P.key===null?S:P.key)||null,c(_,v,P,j);case Ci:var M=P._init;return g(v,_,S,M(P._payload),j)}if(oa(P)||$o(P))return v=v.get(S)||null,h(_,v,P,j,null);xc(_,P)}return null}function x(v,_,S,P){for(var j=null,M=null,T=_,E=_=0,I=null;T!==null&&E<S.length;E++){T.index>E?(I=T,T=null):I=T.sibling;var C=p(v,T,S[E],P);if(C===null){T===null&&(T=I);break}t&&T&&C.alternate===null&&e(v,T),_=s(C,_,E),M===null?j=C:M.sibling=C,M=C,T=I}if(E===S.length)return n(v,T),je&&kr(v,E),j;if(T===null){for(;E<S.length;E++)T=f(v,S[E],P),T!==null&&(_=s(T,_,E),M===null?j=T:M.sibling=T,M=T);return je&&kr(v,E),j}for(T=i(v,T);E<S.length;E++)I=g(T,v,E,S[E],P),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),_=s(I,_,E),M===null?j=I:M.sibling=I,M=I);return t&&T.forEach(function(N){return e(v,N)}),je&&kr(v,E),j}function w(v,_,S,P){var j=$o(S);if(typeof j!="function")throw Error(V(150));if(S=j.call(S),S==null)throw Error(V(151));for(var M=j=null,T=_,E=_=0,I=null,C=S.next();T!==null&&!C.done;E++,C=S.next()){T.index>E?(I=T,T=null):I=T.sibling;var N=p(v,T,C.value,P);if(N===null){T===null&&(T=I);break}t&&T&&N.alternate===null&&e(v,T),_=s(N,_,E),M===null?j=N:M.sibling=N,M=N,T=I}if(C.done)return n(v,T),je&&kr(v,E),j;if(T===null){for(;!C.done;E++,C=S.next())C=f(v,C.value,P),C!==null&&(_=s(C,_,E),M===null?j=C:M.sibling=C,M=C);return je&&kr(v,E),j}for(T=i(v,T);!C.done;E++,C=S.next())C=g(T,v,E,C.value,P),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?E:C.key),_=s(C,_,E),M===null?j=C:M.sibling=C,M=C);return t&&T.forEach(function(R){return e(v,R)}),je&&kr(v,E),j}function b(v,_,S,P){if(typeof S=="object"&&S!==null&&S.type===Es&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case lc:e:{for(var j=S.key,M=_;M!==null;){if(M.key===j){if(j=S.type,j===Es){if(M.tag===7){n(v,M.sibling),_=r(M,S.props.children),_.return=v,v=_;break e}}else if(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ci&&Ov(j)===M.type){n(v,M.sibling),_=r(M,S.props),_.ref=Ko(v,M,S),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}S.type===Es?(_=Lr(S.props.children,v.mode,P,S.key),_.return=v,v=_):(P=ou(S.type,S.key,S.props,null,v.mode,P),P.ref=Ko(v,_,S),P.return=v,v=P)}return o(v);case bs:e:{for(M=S.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=r(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=qh(S,v.mode,P),_.return=v,v=_}return o(v);case Ci:return M=S._init,b(v,_,M(S._payload),P)}if(oa(S))return x(v,_,S,P);if($o(S))return w(v,_,S,P);xc(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=r(_,S),_.return=v,v=_):(n(v,_),_=Gh(S,v.mode,P),_.return=v,v=_),o(v)):n(v,_)}return b}var Js=Ob(!0),Db=Ob(!1),ju=ur(null),Ou=null,Ps=null,Nm=null;function Pm(){Nm=Ps=Ou=null}function Rm(t){var e=ju.current;Ne(ju),t._currentValue=e}function tp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function zs(t,e){Ou=t,Nm=Ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(Nm!==t)if(t={context:t,memoizedValue:e,next:null},Ps===null){if(Ou===null)throw Error(V(308));Ps=t,Ou.dependencies={lanes:0,firstContext:t}}else Ps=Ps.next=t;return e}var Rr=null;function jm(t){Rr===null?Rr=[t]:Rr.push(t)}function Mb(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,jm(e)):(n.next=r.next,r.next=n),e.interleaved=n,li(t,i)}function li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function Om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,de&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,li(t,n)}return r=i.interleaved,r===null?(e.next=e,jm(i)):(e.next=r.next,r.next=e),i.interleaved=e,li(t,n)}function eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,xm(t,n)}}function Dv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Du(t,e,n,i){var r=t.updateQueue;Ai=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(p=e,g=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(g,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(g,f,p):x,p==null)break e;f=Le({},f,p);break e;case 2:Ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Wr|=o,t.lanes=o,t.memoizedState=f}}function Mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(V(191,r));r.call(i)}}}var kl={},On=ur(kl),Ka=ur(kl),Ya=ur(kl);function jr(t){if(t===kl)throw Error(V(174));return t}function Dm(t,e){switch(Ee(Ya,e),Ee(Ka,t),Ee(On,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Df(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Df(e,t)}Ne(On),Ee(On,e)}function Zs(){Ne(On),Ne(Ka),Ne(Ya)}function Fb(t){jr(Ya.current);var e=jr(On.current),n=Df(e,t.type);e!==n&&(Ee(Ka,t),Ee(On,n))}function Mm(t){Ka.current===t&&(Ne(On),Ne(Ka))}var De=ur(0);function Mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function Lm(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var tu=fi.ReactCurrentDispatcher,Uh=fi.ReactCurrentBatchConfig,Hr=0,Me=null,Ye=null,tt=null,Lu=!1,wa=!1,Qa=0,PC=0;function gt(){throw Error(V(321))}function Fm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function Vm(t,e,n,i,r,s){if(Hr=s,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tu.current=t===null||t.memoizedState===null?DC:MC,t=n(i,r),wa){s=0;do{if(wa=!1,Qa=0,25<=s)throw Error(V(301));s+=1,tt=Ye=null,e.updateQueue=null,tu.current=LC,t=n(i,r)}while(wa)}if(tu.current=Fu,e=Ye!==null&&Ye.next!==null,Hr=0,tt=Ye=Me=null,Lu=!1,e)throw Error(V(300));return t}function zm(){var t=Qa!==0;return Qa=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Me.memoizedState=tt=t:tt=tt.next=t,tt}function on(){if(Ye===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=tt===null?Me.memoizedState:tt.next;if(e!==null)tt=e,Ye=t;else{if(t===null)throw Error(V(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Me.memoizedState=tt=t:tt=tt.next=t}return tt}function Xa(t,e){return typeof e=="function"?e(t):e}function Bh(t){var e=on(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var i=Ye,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Hr&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Me.lanes|=h,Wr|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,_n(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Me.lanes|=s,Wr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $h(t){var e=on(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);_n(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Vb(){}function zb(t,e){var n=Me,i=on(),r=e(),s=!_n(i.memoizedState,r);if(s&&(i.memoizedState=r,Ft=!0),i=i.queue,Um($b.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Ja(9,Bb.bind(null,n,i,r,e),void 0,null),rt===null)throw Error(V(349));Hr&30||Ub(n,e,r)}return r}function Ub(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bb(t,e,n,i){e.value=n,e.getSnapshot=i,Hb(e)&&Wb(t)}function $b(t,e,n){return n(function(){Hb(e)&&Wb(t)})}function Hb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function Wb(t){var e=li(t,1);e!==null&&xn(e,t,1,-1)}function Lv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:t},e.queue=t,t=t.dispatch=OC.bind(null,Me,t),[e.memoizedState,t]}function Ja(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Gb(){return on().memoizedState}function nu(t,e,n,i){var r=In();Me.flags|=t,r.memoizedState=Ja(1|e,n,void 0,i===void 0?null:i)}function jd(t,e,n,i){var r=on();i=i===void 0?null:i;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,i!==null&&Fm(i,o.deps)){r.memoizedState=Ja(e,n,s,i);return}}Me.flags|=t,r.memoizedState=Ja(1|e,n,s,i)}function Fv(t,e){return nu(8390656,8,t,e)}function Um(t,e){return jd(2048,8,t,e)}function qb(t,e){return jd(4,2,t,e)}function Kb(t,e){return jd(4,4,t,e)}function Yb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qb(t,e,n){return n=n!=null?n.concat([t]):null,jd(4,4,Yb.bind(null,e,t),n)}function Bm(){}function Xb(t,e){var n=on();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Fm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Jb(t,e){var n=on();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Fm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Zb(t,e,n){return Hr&21?(_n(n,e)||(n=rb(),Me.lanes|=n,Wr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function RC(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var i=Uh.transition;Uh.transition={};try{t(!1),e()}finally{_e=n,Uh.transition=i}}function e1(){return on().memoizedState}function jC(t,e,n){var i=qi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},t1(t))n1(e,n);else if(n=Mb(t,e,n,i),n!==null){var r=Nt();xn(n,t,i,r),i1(n,e,i)}}function OC(t,e,n){var i=qi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(t1(t))n1(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,_n(a,o)){var l=e.interleaved;l===null?(r.next=r,jm(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Mb(t,e,r,i),n!==null&&(r=Nt(),xn(n,t,i,r),i1(n,e,i))}}function t1(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function n1(t,e){wa=Lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function i1(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,xm(t,n)}}var Fu={readContext:sn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},DC={readContext:sn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:Fv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nu(4194308,4,Yb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return nu(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=In();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=jC.bind(null,Me,t),[i.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Lv,useDebugValue:Bm,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Lv(!1),e=t[0];return t=RC.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Me,r=In();if(je){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),rt===null)throw Error(V(349));Hr&30||Ub(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Fv($b.bind(null,i,s,t),[t]),i.flags|=2048,Ja(9,Bb.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=In(),e=rt.identifierPrefix;if(je){var n=Zn,i=Jn;n=(i&~(1<<32-vn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MC={readContext:sn,useCallback:Xb,useContext:sn,useEffect:Um,useImperativeHandle:Qb,useInsertionEffect:qb,useLayoutEffect:Kb,useMemo:Jb,useReducer:Bh,useRef:Gb,useState:function(){return Bh(Xa)},useDebugValue:Bm,useDeferredValue:function(t){var e=on();return Zb(e,Ye.memoizedState,t)},useTransition:function(){var t=Bh(Xa)[0],e=on().memoizedState;return[t,e]},useMutableSource:Vb,useSyncExternalStore:zb,useId:e1,unstable_isNewReconciler:!1},LC={readContext:sn,useCallback:Xb,useContext:sn,useEffect:Um,useImperativeHandle:Qb,useInsertionEffect:qb,useLayoutEffect:Kb,useMemo:Jb,useReducer:$h,useRef:Gb,useState:function(){return $h(Xa)},useDebugValue:Bm,useDeferredValue:function(t){var e=on();return Ye===null?e.memoizedState=t:Zb(e,Ye.memoizedState,t)},useTransition:function(){var t=$h(Xa)[0],e=on().memoizedState;return[t,e]},useMutableSource:Vb,useSyncExternalStore:zb,useId:e1,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function np(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Od={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Nt(),r=qi(t),s=ii(i,r);s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,r),e!==null&&(xn(e,t,r,i),eu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Nt(),r=qi(t),s=ii(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,r),e!==null&&(xn(e,t,r,i),eu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),i=qi(t),r=ii(n,i);r.tag=2,e!=null&&(r.callback=e),e=Wi(t,r,i),e!==null&&(xn(e,t,i,n),eu(e,t,i))}};function Vv(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ha(n,i)||!Ha(r,s):!0}function r1(t,e,n){var i=!1,r=ir,s=e.contextType;return typeof s=="object"&&s!==null?s=sn(s):(r=zt(e)?Br:kt.current,i=e.contextTypes,s=(i=i!=null)?Qs(t,r):ir),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Od,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function zv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Od.enqueueReplaceState(e,e.state,null)}function ip(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Om(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=sn(s):(s=zt(e)?Br:kt.current,r.context=Qs(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(np(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Od.enqueueReplaceState(r,r.state,null),Du(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function eo(t,e){try{var n="",i=e;do n+=dI(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function s1(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){zu||(zu=!0,pp=i),rp(t,e)},n}function o1(t,e,n){n=ii(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){rp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rp(t,e),typeof i!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new FC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=JC.bind(null,t,e,n),e.then(t,t))}function Bv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $v(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var VC=fi.ReactCurrentOwner,Ft=!1;function Ct(t,e,n,i){e.child=t===null?Db(e,null,n,i):Js(e,t.child,n,i)}function Hv(t,e,n,i,r){n=n.render;var s=e.ref;return zs(e,r),i=Vm(t,e,n,i,s,r),n=zm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(je&&n&&Im(e),e.flags|=1,Ct(t,e,i,r),e.child)}function Wv(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Qm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,a1(t,e,s,i,r)):(t=ou(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ha,n(o,i)&&t.ref===e.ref)return ci(t,e,r)}return e.flags|=1,t=Ki(s,i),t.ref=e.ref,t.return=e,e.child=t}function a1(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Ha(s,i)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,ci(t,e,r)}return sp(t,e,n,i,r)}function l1(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(js,Ht),Ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(js,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ee(js,Ht),Ht|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ee(js,Ht),Ht|=i;return Ct(t,e,r,n),e.child}function c1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sp(t,e,n,i,r){var s=zt(n)?Br:kt.current;return s=Qs(e,s),zs(e,r),n=Vm(t,e,n,i,s,r),i=zm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(je&&i&&Im(e),e.flags|=1,Ct(t,e,n,r),e.child)}function Gv(t,e,n,i,r){if(zt(n)){var s=!0;Nu(e)}else s=!1;if(zs(e,r),e.stateNode===null)iu(t,e),r1(e,n,i),ip(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=zt(n)?Br:kt.current,c=Qs(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&zv(e,o,i,c),Ai=!1;var p=e.memoizedState;o.state=p,Du(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Vt.current||Ai?(typeof h=="function"&&(np(e,n,h,i),l=e.memoizedState),(a=Ai||Vv(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Lb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=zt(n)?Br:kt.current,l=Qs(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&zv(e,o,i,l),Ai=!1,p=e.memoizedState,o.state=p,Du(e,i,o,r);var x=e.memoizedState;a!==f||p!==x||Vt.current||Ai?(typeof g=="function"&&(np(e,n,g,i),x=e.memoizedState),(c=Ai||Vv(e,n,c,i,p,x,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),o.props=i,o.state=x,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return op(t,e,n,i,s,r)}function op(t,e,n,i,r,s){c1(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Pv(e,n,!1),ci(t,e,s);i=e.stateNode,VC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Js(e,t.child,null,s),e.child=Js(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=i.state,r&&Pv(e,n,!0),e.child}function u1(t){var e=t.stateNode;e.pendingContext?Nv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nv(t,e.context,!1),Dm(t,e.containerInfo)}function qv(t,e,n,i,r){return Xs(),Am(r),e.flags|=256,Ct(t,e,n,i),e.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function d1(t,e,n){var i=e.pendingProps,r=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ee(De,r&1),t===null)return ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ld(o,i,0,null),t=Lr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lp(n),e.memoizedState=ap,t):$m(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return zC(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ki(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ki(a,s):(s=Lr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ap,i}return s=t.child,t=s.sibling,i=Ki(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function $m(t,e){return e=Ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,n,i){return i!==null&&Am(i),Js(e,t.child,null,n),t=$m(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zC(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Hh(Error(V(422))),_c(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ld({mode:"visible",children:i.children},r,0,null),s=Lr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Js(e,t.child,null,o),e.child.memoizedState=lp(o),e.memoizedState=ap,s);if(!(e.mode&1))return _c(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(V(419)),i=Hh(s,i,void 0),_c(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ft||a){if(i=rt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,li(t,r),xn(i,t,r,-1))}return Ym(),i=Hh(Error(V(421))),_c(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=ZC.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Wt=Hi(r.nextSibling),Gt=e,je=!0,fn=null,t!==null&&(Zt[en++]=Jn,Zt[en++]=Zn,Zt[en++]=$r,Jn=t.id,Zn=t.overflow,$r=e),e=$m(e,i.children),e.flags|=4096,e)}function Kv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),tp(t.return,e,n)}function Wh(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function h1(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ct(t,e,i.children,n),i=De.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kv(t,n,e);else if(t.tag===19)Kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ee(De,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Mu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Wh(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Mu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Wh(e,!0,n,null,s);break;case"together":Wh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=Ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UC(t,e,n){switch(e.tag){case 3:u1(e),Xs();break;case 5:Fb(e);break;case 1:zt(e.type)&&Nu(e);break;case 4:Dm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ee(ju,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ee(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?d1(t,e,n):(Ee(De,De.current&1),t=ci(t,e,n),t!==null?t.sibling:null);Ee(De,De.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return h1(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ee(De,De.current),i)break;return null;case 22:case 23:return e.lanes=0,l1(t,e,n)}return ci(t,e,n)}var f1,cp,p1,m1;f1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cp=function(){};p1=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,jr(On.current);var s=null;switch(n){case"input":r=Pf(t,r),i=Pf(t,i),s=[];break;case"select":r=Le({},r,{value:void 0}),i=Le({},i,{value:void 0}),s=[];break;case"textarea":r=Of(t,r),i=Of(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Cu)}Mf(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(La.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(La.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};m1=function(t,e,n,i){n!==i&&(e.flags|=4)};function Yo(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function BC(t,e,n){var i=e.pendingProps;switch(Cm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return zt(e.type)&&Au(),yt(e),null;case 3:return i=e.stateNode,Zs(),Ne(Vt),Ne(kt),Lm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(vc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(yp(fn),fn=null))),cp(t,e),yt(e),null;case 5:Mm(e);var r=jr(Ya.current);if(n=e.type,t!==null&&e.stateNode!=null)p1(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(V(166));return yt(e),null}if(t=jr(On.current),vc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Nn]=e,i[qa]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(r=0;r<la.length;r++)Ce(la[r],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":iv(i,s),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",i);break;case"textarea":sv(i,s),Ce("invalid",i)}Mf(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&yc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yc(i.textContent,a,t),r=["children",""+a]):La.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",i)}switch(n){case"input":cc(i),rv(i,s,!0);break;case"textarea":cc(i),ov(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Cu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Nn]=e,t[qa]=i,f1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lf(n,i),n){case"dialog":Ce("cancel",t),Ce("close",t),r=i;break;case"iframe":case"object":case"embed":Ce("load",t),r=i;break;case"video":case"audio":for(r=0;r<la.length;r++)Ce(la[r],t);r=i;break;case"source":Ce("error",t),r=i;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),r=i;break;case"details":Ce("toggle",t),r=i;break;case"input":iv(t,i),r=Pf(t,i),Ce("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Le({},i,{value:void 0}),Ce("invalid",t);break;case"textarea":sv(t,i),r=Of(t,i),Ce("invalid",t);break;default:r=i}Mf(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Gw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fa(t,l):typeof l=="number"&&Fa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(La.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",t):l!=null&&fm(t,s,l,o))}switch(n){case"input":cc(t),rv(t,i,!1);break;case"textarea":cc(t),ov(t);break;case"option":i.value!=null&&t.setAttribute("value",""+nr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ms(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ms(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)m1(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(V(166));if(n=jr(Ya.current),jr(On.current),vc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Nn]=e,(s=i.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:yc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Nn]=e,e.stateNode=i}return yt(e),null;case 13:if(Ne(De),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Wt!==null&&e.mode&1&&!(e.flags&128))jb(),Xs(),e.flags|=98560,s=!1;else if(s=vc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(V(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[Nn]=e}else Xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else fn!==null&&(yp(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Qe===0&&(Qe=3):Ym())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return Zs(),cp(t,e),t===null&&Wa(e.stateNode.containerInfo),yt(e),null;case 10:return Rm(e.type._context),yt(e),null;case 17:return zt(e.type)&&Au(),yt(e),null;case 19:if(Ne(De),s=e.memoizedState,s===null)return yt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Yo(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mu(t),o!==null){for(e.flags|=128,Yo(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>to&&(e.flags|=128,i=!0,Yo(s,!1),e.lanes=4194304)}else{if(!i)if(t=Mu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return yt(e),null}else 2*He()-s.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,i=!0,Yo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=De.current,Ee(De,i?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Km(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ht&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function $C(t,e){switch(Cm(e),e.tag){case 1:return zt(e.type)&&Au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zs(),Ne(Vt),Ne(kt),Lm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mm(e),null;case 13:if(Ne(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(De),null;case 4:return Zs(),null;case 10:return Rm(e.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var wc=!1,wt=!1,HC=typeof WeakSet=="function"?WeakSet:Set,W=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ve(t,e,i)}else n.current=null}function up(t,e,n){try{n()}catch(i){Ve(t,e,i)}}var Yv=!1;function WC(t,e){if(qf=ku,t=_b(),Tm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:t,selectionRange:n},ku=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:dn(e.type,w),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(P){Ve(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return x=Yv,Yv=!1,x}function ba(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&up(e,n,s)}r=r.next}while(r!==i)}}function Dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g1(t){var e=t.alternate;e!==null&&(t.alternate=null,g1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[qa],delete e[Xf],delete e[IC],delete e[CC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y1(t){return t.tag===5||t.tag===3||t.tag===4}function Qv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cu));else if(i!==4&&(t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}function fp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}var at=null,hn=!1;function Si(t,e,n){for(n=n.child;n!==null;)v1(t,e,n),n=n.sibling}function v1(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Id,n)}catch{}switch(n.tag){case 5:wt||Rs(n,e);case 6:var i=at,r=hn;at=null,Si(t,e,n),at=i,hn=r,at!==null&&(hn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(hn?(t=at,n=n.stateNode,t.nodeType===8?Fh(t.parentNode,n):t.nodeType===1&&Fh(t,n),Ba(t)):Fh(at,n.stateNode));break;case 4:i=at,r=hn,at=n.stateNode.containerInfo,hn=!0,Si(t,e,n),at=i,hn=r;break;case 0:case 11:case 14:case 15:if(!wt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&up(n,e,o),r=r.next}while(r!==i)}Si(t,e,n);break;case 1:if(!wt&&(Rs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ve(n,e,a)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(wt=(i=wt)||n.memoizedState!==null,Si(t,e,n),wt=i):Si(t,e,n);break;default:Si(t,e,n)}}function Xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HC),e.forEach(function(i){var r=e2.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,hn=!1;break e;case 3:at=a.stateNode.containerInfo,hn=!0;break e;case 4:at=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(at===null)throw Error(V(160));v1(s,o,r),at=null,hn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ve(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x1(e,t),e=e.sibling}function x1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),En(t),i&4){try{ba(3,t,t.return),Dd(3,t)}catch(w){Ve(t,t.return,w)}try{ba(5,t,t.return)}catch(w){Ve(t,t.return,w)}}break;case 1:un(e,t),En(t),i&512&&n!==null&&Rs(n,n.return);break;case 5:if(un(e,t),En(t),i&512&&n!==null&&Rs(n,n.return),t.flags&32){var r=t.stateNode;try{Fa(r,"")}catch(w){Ve(t,t.return,w)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Uw(r,s),Lf(a,o);var c=Lf(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Gw(r,f):h==="dangerouslySetInnerHTML"?Hw(r,f):h==="children"?Fa(r,f):fm(r,h,f,c)}switch(a){case"input":Rf(r,s);break;case"textarea":Bw(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ms(r,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ms(r,!!s.multiple,s.defaultValue,!0):Ms(r,!!s.multiple,s.multiple?[]:"",!1))}r[qa]=s}catch(w){Ve(t,t.return,w)}}break;case 6:if(un(e,t),En(t),i&4){if(t.stateNode===null)throw Error(V(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){Ve(t,t.return,w)}}break;case 3:if(un(e,t),En(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(e.containerInfo)}catch(w){Ve(t,t.return,w)}break;case 4:un(e,t),En(t);break;case 13:un(e,t),En(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Gm=He())),i&4&&Xv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(wt=(c=wt)||h,un(e,t),wt=c):un(e,t),En(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(f=W=h;W!==null;){switch(p=W,g=p.child,p.tag){case 0:case 11:case 14:case 15:ba(4,p,p.return);break;case 1:Rs(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){Ve(i,n,w)}}break;case 5:Rs(p,p.return);break;case 22:if(p.memoizedState!==null){Zv(f);continue}}g!==null?(g.return=p,W=g):Zv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ww("display",o))}catch(w){Ve(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Ve(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(e,t),En(t),i&4&&Xv(t);break;case 21:break;default:un(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y1(n)){var i=n;break e}n=n.return}throw Error(V(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Fa(r,""),i.flags&=-33);var s=Qv(t);fp(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Qv(t);hp(t,a,o);break;default:throw Error(V(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GC(t,e,n){W=t,_1(t)}function _1(t,e,n){for(var i=(t.mode&1)!==0;W!==null;){var r=W,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||wc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||wt;a=wc;var c=wt;if(wc=o,(wt=l)&&!c)for(W=r;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?ex(r):l!==null?(l.return=o,W=l):ex(r);for(;s!==null;)W=s,_1(s),s=s.sibling;W=r,wc=a,wt=c}Jv(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,W=s):Jv(t)}}function Jv(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wt||Dd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!wt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mv(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}wt||e.flags&512&&dp(e)}catch(p){Ve(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Zv(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function ex(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dd(4,e)}catch(l){Ve(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ve(e,r,l)}}var s=e.return;try{dp(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{dp(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var qC=Math.ceil,Vu=fi.ReactCurrentDispatcher,Hm=fi.ReactCurrentOwner,rn=fi.ReactCurrentBatchConfig,de=0,rt=null,Ke=null,dt=0,Ht=0,js=ur(0),Qe=0,Za=null,Wr=0,Md=0,Wm=0,Ea=null,Mt=null,Gm=0,to=1/0,Yn=null,zu=!1,pp=null,Gi=null,bc=!1,Fi=null,Uu=0,Sa=0,mp=null,ru=-1,su=0;function Nt(){return de&6?He():ru!==-1?ru:ru=He()}function qi(t){return t.mode&1?de&2&&dt!==0?dt&-dt:NC.transition!==null?(su===0&&(su=rb()),su):(t=_e,t!==0||(t=window.event,t=t===void 0?16:db(t.type)),t):1}function xn(t,e,n,i){if(50<Sa)throw Sa=0,mp=null,Error(V(185));bl(t,n,i),(!(de&2)||t!==rt)&&(t===rt&&(!(de&2)&&(Md|=n),Qe===4&&Ri(t,dt)),Ut(t,i),n===1&&de===0&&!(e.mode&1)&&(to=He()+500,Rd&&dr()))}function Ut(t,e){var n=t.callbackNode;NI(t,e);var i=Su(t,t===rt?dt:0);if(i===0)n!==null&&cv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&cv(n),e===1)t.tag===0?AC(tx.bind(null,t)):Nb(tx.bind(null,t)),kC(function(){!(de&6)&&dr()}),n=null;else{switch(sb(i)){case 1:n=vm;break;case 4:n=nb;break;case 16:n=Eu;break;case 536870912:n=ib;break;default:n=Eu}n=C1(n,w1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w1(t,e){if(ru=-1,su=0,de&6)throw Error(V(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var i=Su(t,t===rt?dt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Bu(t,i);else{e=i;var r=de;de|=2;var s=E1();(rt!==t||dt!==e)&&(Yn=null,to=He()+500,Mr(t,e));do try{QC();break}catch(a){b1(t,a)}while(!0);Pm(),Vu.current=s,de=r,Ke!==null?e=0:(rt=null,dt=0,e=Qe)}if(e!==0){if(e===2&&(r=Bf(t),r!==0&&(i=r,e=gp(t,r))),e===1)throw n=Za,Mr(t,0),Ri(t,i),Ut(t,He()),n;if(e===6)Ri(t,i);else{if(r=t.current.alternate,!(i&30)&&!KC(r)&&(e=Bu(t,i),e===2&&(s=Bf(t),s!==0&&(i=s,e=gp(t,s))),e===1))throw n=Za,Mr(t,0),Ri(t,i),Ut(t,He()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(V(345));case 2:Tr(t,Mt,Yn);break;case 3:if(Ri(t,i),(i&130023424)===i&&(e=Gm+500-He(),10<e)){if(Su(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Nt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Qf(Tr.bind(null,t,Mt,Yn),e);break}Tr(t,Mt,Yn);break;case 4:if(Ri(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-vn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=He()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qC(i/1960))-i,10<i){t.timeoutHandle=Qf(Tr.bind(null,t,Mt,Yn),i);break}Tr(t,Mt,Yn);break;case 5:Tr(t,Mt,Yn);break;default:throw Error(V(329))}}}return Ut(t,He()),t.callbackNode===n?w1.bind(null,t):null}function gp(t,e){var n=Ea;return t.current.memoizedState.isDehydrated&&(Mr(t,e).flags|=256),t=Bu(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&yp(e)),t}function yp(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function KC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!_n(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~Wm,e&=~Md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),i=1<<n;t[n]=-1,e&=~i}}function tx(t){if(de&6)throw Error(V(327));Us();var e=Su(t,0);if(!(e&1))return Ut(t,He()),null;var n=Bu(t,e);if(t.tag!==0&&n===2){var i=Bf(t);i!==0&&(e=i,n=gp(t,i))}if(n===1)throw n=Za,Mr(t,0),Ri(t,e),Ut(t,He()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,Mt,Yn),Ut(t,He()),null}function qm(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(to=He()+500,Rd&&dr())}}function Gr(t){Fi!==null&&Fi.tag===0&&!(de&6)&&Us();var e=de;de|=1;var n=rn.transition,i=_e;try{if(rn.transition=null,_e=1,t)return t()}finally{_e=i,rn.transition=n,de=e,!(de&6)&&dr()}}function Km(){Ht=js.current,Ne(js)}function Mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SC(n)),Ke!==null)for(n=Ke.return;n!==null;){var i=n;switch(Cm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Au();break;case 3:Zs(),Ne(Vt),Ne(kt),Lm();break;case 5:Mm(i);break;case 4:Zs();break;case 13:Ne(De);break;case 19:Ne(De);break;case 10:Rm(i.type._context);break;case 22:case 23:Km()}n=n.return}if(rt=t,Ke=t=Ki(t.current,null),dt=Ht=e,Qe=0,Za=null,Wm=Md=Wr=0,Mt=Ea=null,Rr!==null){for(e=0;e<Rr.length;e++)if(n=Rr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Rr=null}return t}function b1(t,e){do{var n=Ke;try{if(Pm(),tu.current=Fu,Lu){for(var i=Me.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Lu=!1}if(Hr=0,tt=Ye=Me=null,wa=!1,Qa=0,Hm.current=null,n===null||n.return===null){Qe=1,Za=e,Ke=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Bv(o);if(g!==null){g.flags&=-257,$v(g,o,a,s,e),g.mode&1&&Uv(s,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){Uv(s,c,e),Ym();break e}l=Error(V(426))}}else if(je&&a.mode&1){var b=Bv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$v(b,o,a,s,e),Am(eo(l,a));break e}}s=l=eo(l,a),Qe!==4&&(Qe=2),Ea===null?Ea=[s]:Ea.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=s1(s,l,e);Dv(s,v);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Gi===null||!Gi.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=o1(s,a,e);Dv(s,P);break e}}s=s.return}while(s!==null)}k1(n)}catch(j){e=j,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function E1(){var t=Vu.current;return Vu.current=Fu,t===null?Fu:t}function Ym(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),rt===null||!(Wr&268435455)&&!(Md&268435455)||Ri(rt,dt)}function Bu(t,e){var n=de;de|=2;var i=E1();(rt!==t||dt!==e)&&(Yn=null,Mr(t,e));do try{YC();break}catch(r){b1(t,r)}while(!0);if(Pm(),de=n,Vu.current=i,Ke!==null)throw Error(V(261));return rt=null,dt=0,Qe}function YC(){for(;Ke!==null;)S1(Ke)}function QC(){for(;Ke!==null&&!wI();)S1(Ke)}function S1(t){var e=I1(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?k1(t):Ke=e,Hm.current=null}function k1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$C(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ke=null;return}}else if(n=BC(n,e,Ht),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Qe===0&&(Qe=5)}function Tr(t,e,n){var i=_e,r=rn.transition;try{rn.transition=null,_e=1,XC(t,e,n,i)}finally{rn.transition=r,_e=i}return null}function XC(t,e,n,i){do Us();while(Fi!==null);if(de&6)throw Error(V(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PI(t,s),t===rt&&(Ke=rt=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bc||(bc=!0,C1(Eu,function(){return Us(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rn.transition,rn.transition=null;var o=_e;_e=1;var a=de;de|=4,Hm.current=null,WC(t,n),x1(n,t),yC(Kf),ku=!!qf,Kf=qf=null,t.current=n,GC(n),bI(),de=a,_e=o,rn.transition=s}else t.current=n;if(bc&&(bc=!1,Fi=t,Uu=r),s=t.pendingLanes,s===0&&(Gi=null),kI(n.stateNode),Ut(t,He()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(zu)throw zu=!1,t=pp,pp=null,t;return Uu&1&&t.tag!==0&&Us(),s=t.pendingLanes,s&1?t===mp?Sa++:(Sa=0,mp=t):Sa=0,dr(),null}function Us(){if(Fi!==null){var t=sb(Uu),e=rn.transition,n=_e;try{if(rn.transition=null,_e=16>t?16:t,Fi===null)var i=!1;else{if(t=Fi,Fi=null,Uu=0,de&6)throw Error(V(331));var r=de;for(de|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:ba(8,h,s)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var p=h.sibling,g=h.return;if(g1(h),h===c){W=null;break}if(p!==null){p.return=g,W=p;break}W=g}}}var x=s.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ba(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,W=v;break e}W=s.return}}var _=t.current;for(W=_;W!==null;){o=W;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,W=S;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dd(9,a)}}catch(j){Ve(a,a.return,j)}if(a===o){W=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,W=P;break e}W=a.return}}if(de=r,dr(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Id,t)}catch{}i=!0}return i}finally{_e=n,rn.transition=e}}return!1}function nx(t,e,n){e=eo(n,e),e=s1(t,e,1),t=Wi(t,e,1),e=Nt(),t!==null&&(bl(t,1,e),Ut(t,e))}function Ve(t,e,n){if(t.tag===3)nx(t,t,n);else for(;e!==null;){if(e.tag===3){nx(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gi===null||!Gi.has(i))){t=eo(n,t),t=o1(e,t,1),e=Wi(e,t,1),t=Nt(),e!==null&&(bl(e,1,t),Ut(e,t));break}}e=e.return}}function JC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(dt&n)===n&&(Qe===4||Qe===3&&(dt&130023424)===dt&&500>He()-Gm?Mr(t,0):Wm|=n),Ut(t,e)}function T1(t,e){e===0&&(t.mode&1?(e=hc,hc<<=1,!(hc&130023424)&&(hc=4194304)):e=1);var n=Nt();t=li(t,e),t!==null&&(bl(t,e,n),Ut(t,n))}function ZC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),T1(t,n)}function e2(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(V(314))}i!==null&&i.delete(e),T1(t,n)}var I1;I1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,UC(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,je&&e.flags&1048576&&Pb(e,Ru,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;iu(t,e),t=e.pendingProps;var r=Qs(e,kt.current);zs(e,n),r=Vm(null,e,i,t,r,n);var s=zm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(i)?(s=!0,Nu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Om(e),r.updater=Od,e.stateNode=r,r._reactInternals=e,ip(e,i,t,n),e=op(null,e,i,!0,s,n)):(e.tag=0,je&&s&&Im(e),Ct(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(iu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=n2(i),t=dn(i,t),r){case 0:e=sp(null,e,i,t,n);break e;case 1:e=Gv(null,e,i,t,n);break e;case 11:e=Hv(null,e,i,t,n);break e;case 14:e=Wv(null,e,i,dn(i.type,t),n);break e}throw Error(V(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),sp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Gv(t,e,i,r,n);case 3:e:{if(u1(e),t===null)throw Error(V(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Lb(t,e),Du(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=eo(Error(V(423)),e),e=qv(t,e,i,n,r);break e}else if(i!==r){r=eo(Error(V(424)),e),e=qv(t,e,i,n,r);break e}else for(Wt=Hi(e.stateNode.containerInfo.firstChild),Gt=e,je=!0,fn=null,n=Db(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),i===r){e=ci(t,e,n);break e}Ct(t,e,i,n)}e=e.child}return e;case 5:return Fb(e),t===null&&ep(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Yf(i,r)?o=null:s!==null&&Yf(i,s)&&(e.flags|=32),c1(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&ep(e),null;case 13:return d1(t,e,n);case 4:return Dm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Js(e,null,i,n):Ct(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Hv(t,e,i,r,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ee(ju,i._currentValue),i._currentValue=o,s!==null)if(_n(s.value,o)){if(s.children===r.children&&!Vt.current){e=ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ii(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),tp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,zs(e,n),r=sn(r),i=i(r),e.flags|=1,Ct(t,e,i,n),e.child;case 14:return i=e.type,r=dn(i,e.pendingProps),r=dn(i.type,r),Wv(t,e,i,r,n);case 15:return a1(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),iu(t,e),e.tag=1,zt(i)?(t=!0,Nu(e)):t=!1,zs(e,n),r1(e,i,r),ip(e,i,r,n),op(null,e,i,!0,t,n);case 19:return h1(t,e,n);case 22:return l1(t,e,n)}throw Error(V(156,e.tag))};function C1(t,e){return tb(t,e)}function t2(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,i){return new t2(t,e,n,i)}function Qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function n2(t){if(typeof t=="function")return Qm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mm)return 11;if(t===gm)return 14}return 2}function Ki(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ou(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Qm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Es:return Lr(n.children,r,s,e);case pm:o=8,r|=8;break;case If:return t=tn(12,n,e,r|2),t.elementType=If,t.lanes=s,t;case Cf:return t=tn(13,n,e,r),t.elementType=Cf,t.lanes=s,t;case Af:return t=tn(19,n,e,r),t.elementType=Af,t.lanes=s,t;case Fw:return Ld(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mw:o=10;break e;case Lw:o=9;break e;case mm:o=11;break e;case gm:o=14;break e;case Ci:o=16,i=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=tn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Lr(t,e,n,i){return t=tn(7,t,i,e),t.lanes=n,t}function Ld(t,e,n,i){return t=tn(22,t,i,e),t.elementType=Fw,t.lanes=n,t.stateNode={isHidden:!1},t}function Gh(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function qh(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i2(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ih(0),this.expirationTimes=Ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Xm(t,e,n,i,r,s,o,a,l){return t=new i2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Om(s),t}function r2(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function A1(t){if(!t)return ir;t=t._reactInternals;e:{if(is(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(zt(n))return Ab(t,n,e)}return e}function N1(t,e,n,i,r,s,o,a,l){return t=Xm(n,i,!0,t,r,s,o,a,l),t.context=A1(null),n=t.current,i=Nt(),r=qi(n),s=ii(i,r),s.callback=e??null,Wi(n,s,r),t.current.lanes=r,bl(t,r,i),Ut(t,i),t}function Fd(t,e,n,i){var r=e.current,s=Nt(),o=qi(r);return n=A1(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Wi(r,e,o),t!==null&&(xn(t,r,o,s),eu(t,r,o)),o}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ix(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jm(t,e){ix(t,e),(t=t.alternate)&&ix(t,e)}function s2(){return null}var P1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}Vd.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Fd(t,e,null,null)};Vd.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gr(function(){Fd(null,t,null,null)}),e[ai]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=lb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pi.length&&e!==0&&e<Pi[n].priority;n++);Pi.splice(n,0,t),n===0&&ub(t)}};function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rx(){}function o2(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=$u(o);s.call(c)}}var o=N1(e,i,t,0,null,!1,!1,"",rx);return t._reactRootContainer=o,t[ai]=o.current,Wa(t.nodeType===8?t.parentNode:t),Gr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=$u(l);a.call(c)}}var l=Xm(t,0,!1,null,null,!1,!1,"",rx);return t._reactRootContainer=l,t[ai]=l.current,Wa(t.nodeType===8?t.parentNode:t),Gr(function(){Fd(e,l,n,i)}),l}function Ud(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=$u(o);a.call(l)}}Fd(e,o,t,r)}else o=o2(n,e,t,r,i);return $u(o)}ob=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(xm(e,n|1),Ut(e,He()),!(de&6)&&(to=He()+500,dr()))}break;case 13:Gr(function(){var i=li(t,1);if(i!==null){var r=Nt();xn(i,t,1,r)}}),Jm(t,1)}};_m=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var n=Nt();xn(e,t,134217728,n)}Jm(t,134217728)}};ab=function(t){if(t.tag===13){var e=qi(t),n=li(t,e);if(n!==null){var i=Nt();xn(n,t,e,i)}Jm(t,e)}};lb=function(){return _e};cb=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Vf=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Pd(i);if(!r)throw Error(V(90));zw(i),Rf(i,r)}}}break;case"textarea":Bw(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};Yw=qm;Qw=Gr;var a2={usingClientEntryPoint:!1,Events:[Sl,Is,Pd,qw,Kw,qm]},Qo={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l2={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zw(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||s2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Id=Ec.inject(l2),jn=Ec}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a2;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eg(e))throw Error(V(200));return r2(t,e,null,n)};Kt.createRoot=function(t,e){if(!eg(t))throw Error(V(299));var n=!1,i="",r=P1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Xm(t,1,!1,null,null,n,!1,i,r),t[ai]=e.current,Wa(t.nodeType===8?t.parentNode:t),new Zm(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=Zw(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Gr(t)};Kt.hydrate=function(t,e,n){if(!zd(e))throw Error(V(200));return Ud(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!eg(t))throw Error(V(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=P1;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=N1(e,null,t,1,n??null,r,!1,s,o),t[ai]=e.current,Wa(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Vd(e)};Kt.render=function(t,e,n){if(!zd(e))throw Error(V(200));return Ud(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!zd(t))throw Error(V(40));return t._reactRootContainer?(Gr(function(){Ud(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Kt.unstable_batchedUpdates=qm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!zd(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Ud(t,e,n,!1,i)};Kt.version="18.3.1-next-f1338f8080-20240426";function R1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R1)}catch(t){console.error(t)}}R1(),Rw.exports=Kt;var c2=Rw.exports,j1,sx=c2;j1=sx.createRoot,sx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},el.apply(this,arguments)}var Vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vi||(Vi={}));const ox="popstate";function u2(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return vp("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Hu(r)}return h2(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function O1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d2(){return Math.random().toString(36).substr(2,8)}function ax(t,e){return{usr:t.state,key:t.key,idx:e}}function vp(t,e,n,i){return n===void 0&&(n=null),el({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vo(e):e,{state:n,key:e&&e.key||i||d2()})}function Hu(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function vo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function h2(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Vi.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(el({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Vi.Pop;let b=h(),v=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:v})}function p(b,v){a=Vi.Push;let _=vp(w.location,b,v);c=h()+1;let S=ax(_,c),P=w.createHref(_);try{o.pushState(S,"",P)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(P)}s&&l&&l({action:a,location:w.location,delta:1})}function g(b,v){a=Vi.Replace;let _=vp(w.location,b,v);c=h();let S=ax(_,c),P=w.createHref(_);o.replaceState(S,"",P),s&&l&&l({action:a,location:w.location,delta:0})}function x(b){let v=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof b=="string"?b:Hu(b);return _=_.replace(/ $/,"%20"),Ge(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let w={get action(){return a},get location(){return t(r,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ox,f),l=b,()=>{r.removeEventListener(ox,f),l=null}},createHref(b){return e(r,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(b){return o.go(b)}};return w}var lx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lx||(lx={}));function f2(t,e,n){return n===void 0&&(n="/"),p2(t,e,n,!1)}function p2(t,e,n,i){let r=typeof e=="string"?vo(e):e,s=tg(r.pathname||"/",n);if(s==null)return null;let o=D1(t);m2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=T2(s);a=S2(o[l],c,i)}return a}function D1(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Yi([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),D1(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:b2(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of M1(s.path))r(s,o,l)}),e}function M1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=M1(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:E2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const g2=/^:[\w-]+$/,y2=3,v2=2,x2=1,_2=10,w2=-2,cx=t=>t==="*";function b2(t,e){let n=t.split("/"),i=n.length;return n.some(cx)&&(i+=w2),e&&(i+=v2),n.filter(r=>!cx(r)).reduce((r,s)=>r+(g2.test(s)?y2:s===""?x2:_2),i)}function E2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function S2(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=ux({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=ux({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:Yi([s,f.pathname]),pathnameBase:N2(Yi([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Yi([s,f.pathnameBase]))}return o}function ux(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=k2(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[f];return g&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function k2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),O1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function T2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return O1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function I2(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?vo(t):t;return{pathname:n?n.startsWith("/")?n:C2(n,e):e,search:P2(i),hash:R2(r)}}function C2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Kh(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ng(t,e){let n=A2(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function ig(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=vo(t):(r=el({},t),Ge(!r.pathname||!r.pathname.includes("?"),Kh("?","pathname","search",r)),Ge(!r.pathname||!r.pathname.includes("#"),Kh("#","pathname","hash",r)),Ge(!r.search||!r.search.includes("#"),Kh("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=I2(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),N2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const L1=["post","put","patch","delete"];new Set(L1);const O2=["get",...L1];new Set(O2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tl.apply(this,arguments)}const rg=O.createContext(null),D2=O.createContext(null),hr=O.createContext(null),Bd=O.createContext(null),pi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),F1=O.createContext(null);function M2(t,e){let{relative:n}=e===void 0?{}:e;xo()||Ge(!1);let{basename:i,navigator:r}=O.useContext(hr),{hash:s,pathname:o,search:a}=z1(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Yi([i,o])),r.createHref({pathname:l,search:a,hash:s})}function xo(){return O.useContext(Bd)!=null}function mi(){return xo()||Ge(!1),O.useContext(Bd).location}function V1(t){O.useContext(hr).static||O.useLayoutEffect(t)}function $d(){let{isDataRoute:t}=O.useContext(pi);return t?X2():L2()}function L2(){xo()||Ge(!1);let t=O.useContext(rg),{basename:e,future:n,navigator:i}=O.useContext(hr),{matches:r}=O.useContext(pi),{pathname:s}=mi(),o=JSON.stringify(ng(r,n.v7_relativeSplatPath)),a=O.useRef(!1);return V1(()=>{a.current=!0}),O.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=ig(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yi([e,f.pathname])),(h.replace?i.replace:i.push)(f,h.state,h)},[e,i,o,s,t])}const F2=O.createContext(null);function V2(t){let e=O.useContext(pi).outlet;return e&&O.createElement(F2.Provider,{value:t},e)}function z1(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=O.useContext(hr),{matches:r}=O.useContext(pi),{pathname:s}=mi(),o=JSON.stringify(ng(r,i.v7_relativeSplatPath));return O.useMemo(()=>ig(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function z2(t,e){return U2(t,e)}function U2(t,e,n,i){xo()||Ge(!1);let{navigator:r,static:s}=O.useContext(hr),{matches:o}=O.useContext(pi),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=mi(),f;if(e){var p;let v=typeof e=="string"?vo(e):e;c==="/"||(p=v.pathname)!=null&&p.startsWith(c)||Ge(!1),f=v}else f=h;let g=f.pathname||"/",x=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:f2(t,{pathname:x}),b=G2(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Yi([c,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Yi([c,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,i);return e&&b?O.createElement(Bd.Provider,{value:{location:tl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vi.Pop}},b):b}function B2(){let t=Q2(),e=j2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:r},n):null,null)}const $2=O.createElement(B2,null);class H2 extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(pi.Provider,{value:this.props.routeContext},O.createElement(F1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W2(t){let{routeContext:e,match:n,children:i}=t,r=O.useContext(rg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(pi.Provider,{value:e},i)}function G2(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ge(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=n,x=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,x=!1,w=null,b=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||$2,l&&(c<0&&p===0?(x=!0,b=null):c===p&&(x=!0,b=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),_=()=>{let S;return g?S=w:x?S=b:f.route.Component?S=O.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,O.createElement(W2,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?O.createElement(H2,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var U1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U1||{}),Wu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wu||{});function q2(t){let e=O.useContext(rg);return e||Ge(!1),e}function K2(t){let e=O.useContext(D2);return e||Ge(!1),e}function Y2(t){let e=O.useContext(pi);return e||Ge(!1),e}function B1(t){let e=Y2(),n=e.matches[e.matches.length-1];return n.route.id||Ge(!1),n.route.id}function Q2(){var t;let e=O.useContext(F1),n=K2(Wu.UseRouteError),i=B1(Wu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function X2(){let{router:t}=q2(U1.UseNavigateStable),e=B1(Wu.UseNavigateStable),n=O.useRef(!1);return V1(()=>{n.current=!0}),O.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,tl({fromRouteId:e},s)))},[t,e])}function J2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $1(t){let{to:e,replace:n,state:i,relative:r}=t;xo()||Ge(!1);let{future:s,static:o}=O.useContext(hr),{matches:a}=O.useContext(pi),{pathname:l}=mi(),c=$d(),h=ig(e,ng(a,s.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(h);return O.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:r}),[c,f,r,n,i]),null}function H1(t){return V2(t.context)}function Ot(t){Ge(!1)}function Z2(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Vi.Pop,navigator:s,static:o=!1,future:a}=t;xo()&&Ge(!1);let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:o,future:tl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=vo(i));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:x="default"}=i,w=O.useMemo(()=>{let b=tg(h,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:x},navigationType:r}},[l,h,f,p,g,x,r]);return w==null?null:O.createElement(hr.Provider,{value:c},O.createElement(Bd.Provider,{children:n,value:w}))}function eA(t){let{children:e,location:n}=t;return z2(xp(e),n)}new Promise(()=>{});function xp(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(i,r)=>{if(!O.isValidElement(i))return;let s=[...e,r];if(i.type===O.Fragment){n.push.apply(n,xp(i.props.children,s));return}i.type!==Ot&&Ge(!1),!i.props.index||!i.props.children||Ge(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=xp(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_p.apply(this,arguments)}function tA(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function nA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iA(t,e){return t.button===0&&(!e||e==="_self")&&!nA(t)}const rA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sA="6";try{window.__reactRouterVersion=sA}catch{}const oA="startTransition",dx=JT[oA];function aA(t){let{basename:e,children:n,future:i,window:r}=t,s=O.useRef();s.current==null&&(s.current=u2({window:r,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=O.useCallback(f=>{c&&dx?dx(()=>l(f)):l(f)},[l,c]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.useEffect(()=>J2(i),[i]),O.createElement(Z2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=O.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=tA(e,rA),{basename:g}=O.useContext(hr),x,w=!1;if(typeof c=="string"&&cA.test(c)&&(x=c,lA))try{let S=new URL(window.location.href),P=c.startsWith("//")?new URL(S.protocol+c):new URL(c),j=tg(P.pathname,g);P.origin===S.origin&&j!=null?c=j+P.search+P.hash:w=!0}catch{}let b=M2(c,{relative:r}),v=uA(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:f});function _(S){i&&i(S),S.defaultPrevented||v(S)}return O.createElement("a",_p({},p,{href:x||b,onClick:w||s?i:_,ref:n,target:l}))});var hx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hx||(hx={}));var fx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fx||(fx={}));function uA(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=$d(),c=mi(),h=z1(t,{relative:o});return O.useCallback(f=>{if(iA(f,n)){f.preventDefault();let p=i!==void 0?i:Hu(c)===Hu(h);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,i,r,n,t,s,o,a])}const dA={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyAGkTWovXeyZ5TBKchb9gv5xbU5yuKoQwo"},px=t=>{let e;const n=new Set,i=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const g=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(x=>x(e,g))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(dA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(i,r,l);return l},hA=t=>t?px(t):px;var W1={exports:{}},G1={},q1={exports:{}},K1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=O;function fA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pA=typeof Object.is=="function"?Object.is:fA,mA=no.useState,gA=no.useEffect,yA=no.useLayoutEffect,vA=no.useDebugValue;function xA(t,e){var n=e(),i=mA({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return yA(function(){r.value=n,r.getSnapshot=e,Yh(r)&&s({inst:r})},[t,n,e]),gA(function(){return Yh(r)&&s({inst:r}),t(function(){Yh(r)&&s({inst:r})})},[t]),vA(n),n}function Yh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pA(t,n)}catch{return!0}}function _A(t,e){return e()}var wA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_A:xA;K1.useSyncExternalStore=no.useSyncExternalStore!==void 0?no.useSyncExternalStore:wA;q1.exports=K1;var bA=q1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=O,EA=bA;function SA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kA=typeof Object.is=="function"?Object.is:SA,TA=EA.useSyncExternalStore,IA=Hd.useRef,CA=Hd.useEffect,AA=Hd.useMemo,NA=Hd.useDebugValue;G1.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=IA(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=AA(function(){function l(g){if(!c){if(c=!0,h=g,g=i(g),r!==void 0&&o.hasValue){var x=o.value;if(r(x,g))return f=x}return f=g}if(x=f,kA(h,g))return x;var w=i(g);return r!==void 0&&r(x,w)?(h=g,x):(h=g,f=w)}var c=!1,h,f,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,i,r]);var a=TA(t,s[0],s[1]);return CA(function(){o.hasValue=!0,o.value=a},[a]),NA(a),a};W1.exports=G1;var PA=W1.exports;const RA=om(PA),Y1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyAGkTWovXeyZ5TBKchb9gv5xbU5yuKoQwo"},{useDebugValue:jA}=Rn,{useSyncExternalStoreWithSelector:OA}=RA;let mx=!1;const DA=t=>t;function MA(t,e=DA,n){(Y1?"production":void 0)!=="production"&&n&&!mx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mx=!0);const i=OA(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return jA(i),i}const LA=t=>{(Y1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?hA(t):t,n=(i,r)=>MA(e,i,r);return Object.assign(n,e),n},sg=t=>LA,FA={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyAGkTWovXeyZ5TBKchb9gv5xbU5yuKoQwo"};function VA(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(r))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const nl=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return nl(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return nl(i)(n)}}}},zA=(t,e)=>(n,i,r)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,v)=>({...v,...b}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},i,r);const h=nl(s.serialize),f=()=>{const b=s.partialize({...i()});let v;const _=h({state:b,version:s.version}).then(S=>c.setItem(s.name,S)).catch(S=>{v=S});if(v)throw v;return _},p=r.setState;r.setState=(b,v)=>{p(b,v),f()};const g=t((...b)=>{n(...b),f()},i,r);let x;const w=()=>{var b;if(!c)return;o=!1,a.forEach(_=>_(i()));const v=((b=s.onRehydrateStorage)==null?void 0:b.call(s,i()))||void 0;return nl(c.getItem.bind(c))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var S;return x=s.merge(_,(S=i())!=null?S:g),n(x,!0),f()}).then(()=>{v==null||v(x,void 0),o=!0,l.forEach(_=>_(x))}).catch(_=>{v==null||v(void 0,_)})};return r.persist={setOptions:b=>{s={...s,...b},b.getStorage&&(c=b.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},w(),x||g},UA=(t,e)=>(n,i,r)=>{let s={storage:VA(()=>localStorage),partialize:w=>w,version:0,merge:(w,b)=>({...b,...w}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},i,r);const h=()=>{const w=s.partialize({...i()});return c.setItem(s.name,{state:w,version:s.version})},f=r.setState;r.setState=(w,b)=>{f(w,b),h()};const p=t((...w)=>{n(...w),h()},i,r);r.getInitialState=()=>p;let g;const x=()=>{var w,b;if(!c)return;o=!1,a.forEach(_=>{var S;return _((S=i())!=null?S:p)});const v=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(w=i())!=null?w:p))||void 0;return nl(c.getItem.bind(c))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var S;const[P,j]=_;if(g=s.merge(j,(S=i())!=null?S:p),n(g,!0),P)return h()}).then(()=>{v==null||v(g,void 0),g=i(),o=!0,l.forEach(_=>_(g))}).catch(_=>{v==null||v(void 0,_)})};return r.persist={setOptions:w=>{s={...s,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},s.skipHydration||x(),g||p},BA=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((FA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),zA(t,e)):UA(t,e),Q1=BA,fr=sg()(Q1(t=>({isAuthenticated:!1,user:null,login:e=>t({isAuthenticated:!0,user:e}),logout:()=>t({isAuthenticated:!1,user:null}),updateProfile:e=>t(n=>({user:n.user?{...n.user,...e}:null}))}),{name:"nutrify-auth"}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,e)=>{const n=O.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},h)=>O.createElement("svg",{ref:h,...$A,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${HA(t)}`,a].join(" "),...c},[...e.map(([f,p])=>O.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=he("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=he("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=he("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=he("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=he("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=he("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=he("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=he("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=he("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cN=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(!1),{isAuthenticated:r}=fr(),s=mi();return O.useEffect(()=>{const o=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),O.useEffect(()=>{e(!1)},[s.pathname]),d.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${n?"bg-white shadow-md py-2":"bg-transparent py-4"}`,children:d.jsxs("div",{className:"nutrify-container",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs(ve,{to:"/",className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-nutrify-accent",children:d.jsx(Tl,{size:28})}),d.jsx("span",{className:"font-bold text-xl text-nutrify-accent",children:"Nutrify"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[d.jsx(gx,{to:"/",label:"Home",isScrolled:n}),d.jsx(gx,{to:"/about",label:"About",isScrolled:n}),r?d.jsx(ve,{to:"/dashboard",className:"nutrify-btn-primary",children:"Dashboard"}):d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(ve,{to:"/login",className:"nutrify-btn-outline",children:"Log In"}),d.jsx(ve,{to:"/register",className:"nutrify-btn-primary",children:"Sign Up"})]})]}),d.jsx("button",{className:"md:hidden",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?d.jsx(nE,{size:24,className:n?"text-gray-800":"text-nutrify-accent"}):d.jsx(tN,{size:24,className:n?"text-gray-800":"text-nutrify-accent"})})]}),t&&d.jsx("div",{className:"md:hidden pt-4 pb-2 transition-all duration-300 ease-in-out",children:d.jsxs("div",{className:"flex flex-col space-y-4",children:[d.jsx(yx,{to:"/",label:"Home",onClick:()=>e(!1)}),d.jsx(yx,{to:"/about",label:"About",onClick:()=>e(!1)}),r?d.jsx(ve,{to:"/dashboard",className:"nutrify-btn-primary text-center",onClick:()=>e(!1),children:"Dashboard"}):d.jsxs(d.Fragment,{children:[d.jsx(ve,{to:"/login",className:"nutrify-btn-outline text-center",onClick:()=>e(!1),children:"Log In"}),d.jsx(ve,{to:"/register",className:"nutrify-btn-primary text-center",onClick:()=>e(!1),children:"Sign Up"})]})]})})]})})},gx=({to:t,label:e,isScrolled:n})=>{const r=mi().pathname===t;return d.jsx(ve,{to:t,className:`
        font-medium hover:text-nutrify-accent transition-colors
        ${r?"text-nutrify-accent":"text-gray-800"}
      `,children:e})},yx=({to:t,label:e,onClick:n})=>{const r=mi().pathname===t;return d.jsx(ve,{to:t,className:`
        py-2 font-medium text-center
        ${r?"text-nutrify-accent":"text-gray-800"}
      `,onClick:n,children:e})},uN=()=>d.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 pt-12 pb-8",children:d.jsxs("div",{className:"nutrify-container",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"md:col-span-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(Tl,{className:"h-6 w-6 text-nutrify-accent"}),d.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Nutrify"})]}),d.jsx("p",{className:"text-gray-600 mb-4 max-w-xs",children:"Your AI-powered nutrition companion for healthier living through accurate food analysis."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(Jh,{icon:ZA,label:"Instagram",href:"#"}),d.jsx(Jh,{icon:lN,label:"Twitter",href:"#"}),d.jsx(Jh,{icon:JA,label:"Facebook",href:"#"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-gray-900 font-semibold mb-4",children:"Product"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx(Xt,{href:"/",children:"Home"}),d.jsx(Xt,{href:"/about",children:"About"}),d.jsx(Xt,{href:"/login",children:"Log In"}),d.jsx(Xt,{href:"/register",children:"Sign Up"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-gray-900 font-semibold mb-4",children:"Resources"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx(Xt,{href:"#",children:"Blog"}),d.jsx(Xt,{href:"#",children:"Nutrition Guide"}),d.jsx(Xt,{href:"#",children:"Recipe Database"}),d.jsx(Xt,{href:"#",children:"Research"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-gray-900 font-semibold mb-4",children:"Company"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx(Xt,{href:"#",children:"About Us"}),d.jsx(Xt,{href:"#",children:"Careers"}),d.jsx(Xt,{href:"#",children:"Contact"}),d.jsx(Xt,{href:"#",children:"Privacy Policy"})]})]})]}),d.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("p",{className:"text-gray-500 text-sm mb-4 md:mb-0",children:[" ",new Date().getFullYear()," Nutrify. All rights reserved."]}),d.jsxs("div",{className:"flex space-x-6",children:[d.jsx(ve,{to:"#",className:"text-gray-500 hover:text-gray-700 text-sm",children:"Terms of Service"}),d.jsx(ve,{to:"#",className:"text-gray-500 hover:text-gray-700 text-sm",children:"Privacy Policy"}),d.jsx(ve,{to:"#",className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cookies"})]})]})})]})}),Jh=({icon:t,label:e,href:n})=>d.jsx("a",{href:n,"aria-label":e,className:"text-gray-500 hover:text-nutrify-accent transition-colors",children:d.jsx(t,{size:20})}),Xt=({href:t,children:e})=>d.jsx("li",{children:d.jsx(ve,{to:t,className:"text-gray-600 hover:text-nutrify-accent transition-colors",children:e})}),dN=()=>d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(cN,{}),d.jsx("main",{className:"flex-grow",children:d.jsx(H1,{})}),d.jsx(uN,{})]}),hN=[{name:"Dashboard",href:"/dashboard",icon:X1},{name:"Food Analysis",href:"/analysis",icon:Gu},{name:"Meal Log",href:"/meal-log",icon:tE},{name:"Nutrition Chat",href:"/chatbot",icon:og},{name:"Tools",href:"/tools",icon:Wd},{name:"Profile",href:"/profile",icon:Gd}],fN=()=>{const t=mi();return d.jsxs("div",{className:"hidden md:flex flex-col h-full w-64 bg-white border-r border-gray-200",children:[d.jsx("div",{className:"flex h-16 items-center justify-center border-b border-gray-200",children:d.jsxs(ve,{to:"/dashboard",className:"flex items-center space-x-2",children:[d.jsx(Tl,{className:"h-7 w-7 text-nutrify-accent"}),d.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Nutrify"})]})}),d.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:hN.map(e=>{const n=t.pathname===e.href;return d.jsxs(ve,{to:e.href,className:`
                group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all
                ${n?"bg-nutrify-secondary text-gray-900":"text-gray-700 hover:bg-nutrify-light hover:text-gray-900"}
              `,children:[d.jsx(e.icon,{className:`
                  mr-3 h-5 w-5 transition-colors
                  ${n?"text-nutrify-accent":"text-gray-500 group-hover:text-nutrify-accent"}
                `,"aria-hidden":"true"}),e.name]},e.name)})}),d.jsx("div",{className:"p-4 border-t border-gray-200",children:d.jsxs("div",{className:"bg-nutrify-light rounded-lg p-3",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-1",children:"Need help?"}),d.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Have questions about your nutrition plan?"}),d.jsx(ve,{to:"/chatbot",className:"text-xs font-medium text-nutrify-accent hover:text-green-700 transition-colors",children:"Ask our nutrition assistant "})]})})]})},pN=()=>{var n;const{user:t,logout:e}=fr();return d.jsx("header",{className:"bg-white border-b border-gray-200 py-2",children:d.jsxs("div",{className:"px-4 md:px-6 flex justify-between items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx("h2",{className:"text-lg font-medium text-gray-800 hidden md:block",children:`Welcome, ${(t==null?void 0:t.name)||"User"}`})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{className:"p-2 rounded-full text-gray-600 hover:bg-gray-100 transition","aria-label":"Notifications",children:d.jsx(GA,{size:20})}),d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-nutrify-accent flex items-center justify-center text-white",children:d.jsx(Gd,{size:18})}),d.jsx("span",{className:"hidden md:inline-block text-sm text-gray-700",children:((n=t==null?void 0:t.name)==null?void 0:n.split(" ")[0])||"User"})]}),d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block",children:[d.jsx(ve,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile Settings"}),d.jsx("button",{onClick:e,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})]})]})]})})},mN=()=>d.jsxs("div",{className:"flex h-screen bg-nutrify-light",children:[d.jsx(fN,{}),d.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[d.jsx(pN,{}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:d.jsx("div",{className:"nutrify-container",children:d.jsx(H1,{})})})]})]}),gN=()=>d.jsxs("div",{className:"pt-16",children:[d.jsx("section",{className:"py-20 bg-nutrify-light",children:d.jsx("div",{className:"nutrify-container",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[d.jsxs("div",{className:"md:w-1/2 mb-12 md:mb-0",children:[d.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 leading-tight mb-6",children:["Your AI-Powered",d.jsx("br",{}),d.jsx("span",{className:"text-nutrify-accent",children:"Nutrition Assistant"})]}),d.jsx("p",{className:"text-lg text-gray-700 mb-8 max-w-lg",children:"Take a photo of your food and instantly get detailed nutritional information powered by advanced AI. Track your diet, make healthier choices, and achieve your nutrition goals."}),d.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[d.jsx(ve,{to:"/register",className:"nutrify-btn-primary text-center py-3 px-8 text-lg",children:"Get Started Free"}),d.jsx(ve,{to:"/about",className:"nutrify-btn-outline text-center py-3 px-8 text-lg",children:"Learn More"})]})]}),d.jsx("div",{className:"md:w-1/2",children:d.jsx("img",{src:"https://images.pexels.com/photos/1640770/pexels-photo-1640770.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Fresh healthy food",className:"rounded-lg shadow-xl w-full h-auto object-cover"})})]})})}),d.jsx("section",{className:"py-16 bg-white",children:d.jsxs("div",{className:"nutrify-container",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"How Nutrify Works"}),d.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Our AI-powered platform makes nutrition tracking simple, accurate, and accessible for everyone."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[d.jsx(Sc,{icon:Gu,title:"Snap & Analyze",description:"Take a photo of your meal and our AI identifies food items and portion sizes."}),d.jsx(Sc,{icon:X1,title:"Track Progress",description:"Monitor your nutrition intake with detailed charts and personalized insights."}),d.jsx(Sc,{icon:og,title:"Nutrition Chat",description:"Ask questions and get personalized nutrition advice from our AI assistant."}),d.jsx(Sc,{icon:Wd,title:"Health Tools",description:"Calculate BMI, estimate calories, and plan meals with our integrated tools."})]})]})}),d.jsx("section",{className:"py-20 bg-nutrify-secondary",children:d.jsx("div",{className:"nutrify-container",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Ready to transform your nutrition journey?"}),d.jsx("p",{className:"text-lg text-gray-700 mb-8 max-w-2xl mx-auto",children:"Join thousands of users who are making healthier choices with Nutrify's AI-powered nutrition analysis."}),d.jsx(ve,{to:"/register",className:"nutrify-btn-primary text-center py-3 px-8 text-lg inline-block",children:"Sign Up for Free"})]})})}),d.jsx("section",{className:"py-16 bg-white",children:d.jsxs("div",{className:"nutrify-container",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"What Our Users Say"}),d.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Nutrify is helping people achieve their health goals through accurate nutrition tracking."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsx(Zh,{quote:"Nutrify has completely changed how I track my nutrition. No more guessing or manual logging - just take a photo and get all the details.",author:"Sarah K.",role:"Fitness Enthusiast",image:"https://images.pexels.com/photos/773371/pexels-photo-773371.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}),d.jsx(Zh,{quote:"As a nutritionist, I recommend Nutrify to all my clients. It's accurate, easy to use, and helps people stay accountable to their nutrition goals.",author:"Dr. Michael L.",role:"Nutritionist",image:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}),d.jsx(Zh,{quote:"The nutrition chatbot is like having a personal dietitian. I can ask questions anytime and get expert advice instantly.",author:"James T.",role:"Weight Loss Journey",image:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"})]})]})})]}),Sc=({icon:t,title:e,description:n})=>d.jsxs("div",{className:"bg-nutrify-light rounded-xl p-6 transition-all hover:shadow-md",children:[d.jsx("div",{className:"bg-nutrify-secondary inline-flex p-3 rounded-full mb-4",children:d.jsx(t,{size:24,className:"text-nutrify-accent"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e}),d.jsx("p",{className:"text-gray-700",children:n})]}),Zh=({quote:t,author:e,role:n,image:i})=>d.jsxs("div",{className:"bg-nutrify-light rounded-xl p-6 shadow-sm",children:[d.jsxs("p",{className:"text-gray-700 mb-6 italic",children:['"',t,'"']}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:i,alt:e,className:"w-12 h-12 rounded-full object-cover mr-4"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:e}),d.jsx("p",{className:"text-sm text-gray-600",children:n})]})]})]}),yN=()=>d.jsxs("div",{className:"pt-16",children:[d.jsx("section",{className:"py-16 bg-nutrify-light",children:d.jsx("div",{className:"nutrify-container",children:d.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"About Nutrify"}),d.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"We're on a mission to make nutrition tracking effortless and accessible for everyone through cutting-edge AI technology."})]})})}),d.jsx("section",{className:"py-16 bg-white",children:d.jsx("div",{className:"nutrify-container",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[d.jsxs("div",{className:"md:w-1/2 mb-10 md:mb-0 md:pr-12",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Mission"}),d.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"At Nutrify, we believe that understanding what you eat is the foundation of a healthy lifestyle. Yet traditional methods of tracking nutrition are tedious, inaccurate, and difficult to maintain."}),d.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"That's why we've built an AI-powered platform that makes nutrition tracking as simple as taking a photo. By combining cutting-edge computer vision with comprehensive nutritional databases, we provide accurate, instant insights into your food."}),d.jsx("p",{className:"text-lg text-gray-700",children:"Our goal is to empower individuals to make informed dietary choices, support health professionals with reliable data, and ultimately contribute to healthier communities worldwide."})]}),d.jsx("div",{className:"md:w-1/2",children:d.jsx("img",{src:"https://images.pexels.com/photos/761854/pexels-photo-761854.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",alt:"Fresh vegetables and fruits",className:"rounded-lg shadow-lg w-full h-auto"})})]})})}),d.jsx("section",{className:"py-16 bg-nutrify-light",children:d.jsxs("div",{className:"nutrify-container",children:[d.jsxs("div",{className:"mx-auto max-w-3xl text-center mb-16",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Technology"}),d.jsx("p",{className:"text-lg text-gray-700",children:"Nutrify leverages advanced AI to transform food photos into detailed nutritional insights."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsx(kc,{icon:qA,title:"Convolutional Neural Networks",description:"Our AI uses deep learning models trained on millions of food images to identify dishes with high accuracy."}),d.jsx(kc,{icon:XA,title:"Comprehensive Nutrient Database",description:"We map identified foods to an extensive database with detailed macro and micronutrient information."}),d.jsx(kc,{icon:WA,title:"Portion Size Estimation",description:"Advanced computer vision techniques estimate portion sizes from photos for accurate nutritional calculations."}),d.jsx(kc,{icon:eN,title:"Secure Data Processing",description:"All user data is processed securely with state-of-the-art encryption and privacy protections."})]})]})}),d.jsx("section",{className:"py-16 bg-white",children:d.jsxs("div",{className:"nutrify-container",children:[d.jsxs("div",{className:"mx-auto max-w-3xl text-center mb-16",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Team"}),d.jsx("p",{className:"text-lg text-gray-700",children:"Nutrify was created by a passionate team of nutrition experts, AI engineers, and health advocates."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsx(ef,{name:"Dr. Emma Wilson",role:"Chief Nutrition Scientist",bio:"PhD in Nutritional Sciences with 15+ years of experience in dietary research and clinical nutrition.",image:"https://images.pexels.com/photos/5726706/pexels-photo-5726706.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}),d.jsx(ef,{name:"Alex Chen",role:"AI Research Lead",bio:"Computer vision specialist with expertise in deep learning and a passion for applying AI to solve real-world problems.",image:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}),d.jsx(ef,{name:"Sophia Martinez",role:"Product Director",bio:"Former dietitian with a background in product management, focused on creating intuitive user experiences.",image:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"})]})]})}),d.jsx("section",{className:"py-16 bg-nutrify-secondary",children:d.jsx("div",{className:"nutrify-container",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Start Your Nutrition Journey Today"}),d.jsx("p",{className:"text-lg text-gray-700 mb-8 max-w-2xl mx-auto",children:"Join Nutrify and discover how easy tracking your nutrition can be with our AI-powered platform."}),d.jsx(ve,{to:"/register",className:"nutrify-btn-primary text-center py-3 px-8 text-lg inline-block",children:"Sign Up Free"})]})})})]}),kc=({icon:t,title:e,description:n})=>d.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm hover:shadow-md transition-all",children:[d.jsx("div",{className:"bg-nutrify-secondary inline-flex p-3 rounded-full mb-4",children:d.jsx(t,{size:24,className:"text-nutrify-accent"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e}),d.jsx("p",{className:"text-gray-700",children:n})]}),ef=({name:t,role:e,bio:n,image:i})=>d.jsxs("div",{className:"bg-nutrify-light rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all",children:[d.jsx("img",{src:i,alt:t,className:"w-full h-64 object-cover"}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:t}),d.jsx("p",{className:"text-nutrify-accent font-medium mb-3",children:e}),d.jsx("p",{className:"text-gray-700",children:n})]})]});var vx;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(vx||(vx={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xx;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(xx||(xx={}));var _x;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(_x||(_x={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=["user","model","function","system"];var bx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(bx||(bx={}));var Ex;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ex||(Ex={}));var Sx;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Sx||(Sx={}));var kx;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(kx||(kx={}));var ka;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(ka||(ka={}));var Tx;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Tx||(Tx={}));var Ix;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Ix||(Ix={}));var Cx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Cx||(Cx={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ys extends Et{constructor(e,n){super(e),this.response=n}}class iE extends Et{constructor(e,n,i,r){super(e),this.status=n,this.statusText=i,this.errorDetails=r}}class Qi extends Et{}class rE extends Et{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="https://generativelanguage.googleapis.com",xN="v1beta",_N="0.24.1",wN="genai-js";var qr;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(qr||(qr={}));class bN{constructor(e,n,i,r,s){this.model=e,this.task=n,this.apiKey=i,this.stream=r,this.requestOptions=s}toString(){var e,n;const i=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||xN;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||vN}/${i}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function EN(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${wN}/${_N}`),e.join(" ")}async function SN(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",EN(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let i=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(r){throw new Qi(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${r.message}`)}for(const[r,s]of i.entries()){if(r==="x-goog-api-key")throw new Qi(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Qi(`Header name ${r} can only be set using the apiClient field`);n.append(r,s)}}return n}async function kN(t,e,n,i,r,s){const o=new bN(t,e,n,i,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},AN(s)),{method:"POST",headers:await SN(o),body:r})}}async function Il(t,e,n,i,r,s={},o=fetch){const{url:a,fetchOptions:l}=await kN(t,e,n,i,r,s);return TN(a,l,o)}async function TN(t,e,n=fetch){let i;try{i=await n(t,e)}catch(r){IN(r,t)}return i.ok||await CN(i,t),i}function IN(t,e){let n=t;throw n.name==="AbortError"?(n=new rE(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof iE||t instanceof Qi||(n=new Et(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function CN(t,e){let n="",i;try{const r=await t.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,i=r.error.details)}catch{}throw new iE(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,i)}function AN(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),au(t.candidates[0]))throw new ys(`${Ni(t)}`,t);return NN(t)}else if(t.promptFeedback)throw new ys(`Text not available. ${Ni(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),au(t.candidates[0]))throw new ys(`${Ni(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Ax(t)[0]}else if(t.promptFeedback)throw new ys(`Function call not available. ${Ni(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),au(t.candidates[0]))throw new ys(`${Ni(t)}`,t);return Ax(t)}else if(t.promptFeedback)throw new ys(`Function call not available. ${Ni(t)}`,t)},t}function NN(t){var e,n,i,r;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function Ax(t){var e,n,i,r;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(r=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0?void 0:r.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const PN=[ka.RECITATION,ka.SAFETY,ka.LANGUAGE];function au(t){return!!t.finishReason&&PN.includes(t.finishReason)}function Ni(t){var e,n,i;let r="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)r+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((i=t.candidates)===null||i===void 0)&&i[0]){const s=t.candidates[0];au(s)&&(r+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(r+=`: ${s.finishMessage}`))}return r}function il(t){return this instanceof il?(this.v=t,this):new il(t)}function RN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(p){i[p]&&(r[p]=function(g){return new Promise(function(x,w){s.push([p,g,x,w])>1||a(p,g)})})}function a(p,g){try{l(i[p](g))}catch(x){f(s[0][3],x)}}function l(p){p.value instanceof il?Promise.resolve(p.value.v).then(c,h):f(s[0][2],p)}function c(p){a("next",p)}function h(p){a("throw",p)}function f(p,g){p(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function jN(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=MN(e),[i,r]=n.tee();return{stream:DN(i),response:ON(r)}}async function ON(t){const e=[],n=t.getReader();for(;;){const{done:i,value:r}=await n.read();if(i)return ag(LN(e));e.push(r)}}function DN(t){return RN(this,arguments,function*(){const n=t.getReader();for(;;){const{value:i,done:r}=yield il(n.read());if(r)break;yield yield il(ag(i))}})}function MN(t){const e=t.getReader();return new ReadableStream({start(i){let r="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(r.trim()){i.error(new Et("Failed to parse stream"));return}i.close();return}r+=o;let l=r.match(Nx),c;for(;l;){try{c=JSON.parse(l[1])}catch{i.error(new Et(`Error parsing JSON response: "${l[1]}"`));return}i.enqueue(c),r=r.substring(l[0].length),l=r.match(Nx)}return s()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new rE("Request aborted when reading from the stream"):a=new Et("Error reading from the stream"),a})}}})}function LN(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const i of t){if(i.candidates){let r=0;for(const s of i.candidates)if(n.candidates||(n.candidates=[]),n.candidates[r]||(n.candidates[r]={index:r}),n.candidates[r].citationMetadata=s.citationMetadata,n.candidates[r].groundingMetadata=s.groundingMetadata,n.candidates[r].finishReason=s.finishReason,n.candidates[r].finishMessage=s.finishMessage,n.candidates[r].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[r].content||(n.candidates[r].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[r].content.parts.push(o)}r++}i.usageMetadata&&(n.usageMetadata=i.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(t,e,n,i){const r=await Il(e,qr.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),i);return jN(r)}async function oE(t,e,n,i){const s=await(await Il(e,qr.GENERATE_CONTENT,t,!1,JSON.stringify(n),i)).json();return{response:ag(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function rl(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return FN(e)}function FN(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let i=!1,r=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),r=!0):(e.parts.push(s),i=!0);if(i&&r)throw new Et("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!r)throw new Et("No content is provided for sending chat message.");return i?e:n}function VN(t,e){var n;let i={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=t.generateContentRequest!=null;if(t.contents){if(r)throw new Qi("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=t.contents}else if(r)i=Object.assign(Object.assign({},i),t.generateContentRequest);else{const s=rl(t);i.contents=[s]}return{generateContentRequest:i}}function Px(t){let e;return t.contents?e=t:e={contents:[rl(t)]},t.systemInstruction&&(e.systemInstruction=aE(t.systemInstruction)),e}function zN(t){return typeof t=="string"||Array.isArray(t)?{content:rl(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],UN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function BN(t){let e=!1;for(const n of t){const{role:i,parts:r}=n;if(!e&&i!=="user")throw new Et(`First content should be with role 'user', got ${i}`);if(!wx.includes(i))throw new Et(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(wx)}`);if(!Array.isArray(r))throw new Et("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new Et("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of r)for(const l of Rx)l in a&&(s[l]+=1);const o=UN[i];for(const a of Rx)if(!o.includes(a)&&s[a]>0)throw new Et(`Content with role '${i}' can't contain '${a}' part`);e=!0}}function jx(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const i of n.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="SILENT_ERROR";class $N{constructor(e,n,i,r={}){this.model=n,this.params=i,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,i!=null&&i.history&&(BN(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var i,r,s,o,a,l;await this._sendPromise;const c=rl(e),h={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>oE(this._apiKey,this.model,h,f)).then(g=>{var x;if(jx(g.response)){this._history.push(c);const w=Object.assign({parts:[],role:"model"},(x=g.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(w)}else{const w=Ni(g.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}p=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,p}async sendMessageStream(e,n={}){var i,r,s,o,a,l;await this._sendPromise;const c=rl(e),h={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),n),p=sE(this._apiKey,this.model,h,f);return this._sendPromise=this._sendPromise.then(()=>p).catch(g=>{throw new Error(Ox)}).then(g=>g.response).then(g=>{if(jx(g)){this._history.push(c);const x=Object.assign({},g.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Ni(g);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(g=>{g.message!==Ox&&console.error(g)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e,n,i){return(await Il(e,qr.COUNT_TOKENS,t,!1,JSON.stringify(n),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n,i){return(await Il(e,qr.EMBED_CONTENT,t,!1,JSON.stringify(n),i)).json()}async function GN(t,e,n,i){const r=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Il(e,qr.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:r}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,i={}){this.apiKey=e,this._requestOptions=i,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=aE(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var i;const r=Px(e),s=Object.assign(Object.assign({},this._requestOptions),n);return oE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}async generateContentStream(e,n={}){var i;const r=Px(e),s=Object.assign(Object.assign({},this._requestOptions),n);return sE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},r),s)}startChat(e){var n;return new $N(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const i=VN(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return HN(this.apiKey,this.model,i,r)}async embedContent(e,n={}){const i=zN(e),r=Object.assign(Object.assign({},this._requestOptions),n);return WN(this.apiKey,this.model,i,r)}async batchEmbedContents(e,n={}){const i=Object.assign(Object.assign({},this._requestOptions),n);return GN(this.apiKey,this.model,e,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Et("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Dx(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,i){if(!e.name)throw new Qi("Cached content must contain a `name` field.");if(!e.model)throw new Qi("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const o of r)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new Qi(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Dx(this.apiKey,s,i)}}const Bs=async t=>{try{const e=await KN(t);return YN(e)}catch(e){throw console.error("Food analysis failed:",e),new Error(`Failed to analyze food: ${e instanceof Error?e.message:"Unknown error"}`)}};async function KN(t){try{return(await QN(t)).map((n,i)=>({id:`ai-${Date.now()}-${i}`,name:n.name,portion:n.portion,calories:n.calories,protein:n.protein,carbs:n.carbs,fat:n.fat,fiber:n.fiber||0,sugar:n.sugar||0,sodium:n.sodium||0,date:new Date().toISOString().split("T")[0]}))}catch(e){throw console.error("Failed to detect food items:",e),new Error("Could not identify food items from input")}}function YN(t){return{foodItems:t,totalCalories:t.reduce((e,n)=>e+n.calories,0),totalProtein:t.reduce((e,n)=>e+n.protein,0),totalCarbs:t.reduce((e,n)=>e+n.carbs,0),totalFat:t.reduce((e,n)=>e+n.fat,0)}}async function QN(t){const e="AIzaSyAGkTWovXeyZ5TBKchb9gv5xbU5yuKoQwo",i=new qN(e).getGenerativeModel({model:"gemini-1.5-flash"}),r=`You are a precise nutrition analysis AI. Analyze the input and return ONLY a JSON array of food items with EXACTLY these fields for each:
- name: string (food name)
- portion: string (e.g., "100g", "1 cup")
- calories: number
- protein: number (grams)
- carbs: number (grams)
- fat: number (grams)
- fiber: number (grams, optional)
- sugar: number (grams, optional)
- sodium: number (mg, optional)

Rules:
1. Return ONLY the JSON array with no additional text
2. If no food is detected, return []
3. Be accurate - don't guess if uncertain
4. For meals, break into components
5. Use standard portion sizes and nutrition data`;try{let s;if(typeof t=="string")s=await i.generateContent(`${r}
Food description: ${t}`);else{const c=await XN(t);s=await i.generateContent({contents:[{parts:[{text:r},{inlineData:{mimeType:t.type,data:c}}]}]})}const a=(await s.response).text();let l;try{if(l=JSON.parse(a),!Array.isArray(l))throw new Error("Not an array")}catch{const h=a.indexOf("["),f=a.lastIndexOf("]");if(h!==-1&&f!==-1){const p=a.slice(h,f+1);try{l=JSON.parse(p)}catch{throw new Error("Gemini did not return valid nutrition data. Try a different image or use text input.")}}else throw new Error("Gemini did not return valid nutrition data. Try a different image or use text input.")}return l}catch(s){throw console.error("API call failed:",s),new Error("Failed to process food analysis request: "+(s instanceof Error?s.message:String(s)))}}async function XN(t){return new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.split(",")[1])},i.onerror=n,i.readAsDataURL(t)})}const gi=sg()(Q1((t,e)=>({foodLogs:[],recentAnalysis:null,addFoodItem:n=>t(i=>({foodLogs:[n,...i.foodLogs]})),removeFoodItem:n=>t(i=>({foodLogs:i.foodLogs.filter(r=>r.id!==n)})),setRecentAnalysis:n=>t({recentAnalysis:n}),clearRecentAnalysis:()=>t({recentAnalysis:null}),getFoodLogsByDate:n=>e().foodLogs.filter(i=>i.date===n),classifyFoodWithGemini:async n=>{var i;try{const r=await Bs(n.name),s=r.foodItems&&((i=r.foodItems[0])!=null&&i.name)?`Classified as: ${r.foodItems[0].name}`:"Classification unavailable";t(o=>({foodLogs:o.foodLogs.map(a=>a.id===n.id?{...a,geminiClassification:s}:a)}))}catch{t(s=>({foodLogs:s.foodLogs.map(o=>o.id===n.id?{...o,geminiClassification:"Classification failed"}:o)}))}}}),{name:"nutrify-nutrition"})),JN=({date:t})=>{const{foodLogs:e}=gi(),n=O.useMemo(()=>{const r=e.filter(s=>s.date===t);return{calories:r.reduce((s,o)=>s+o.calories,0),protein:r.reduce((s,o)=>s+o.protein,0),carbs:r.reduce((s,o)=>s+o.carbs,0),fat:r.reduce((s,o)=>s+o.fat,0),fiber:r.reduce((s,o)=>s+(o.fiber||0),0),sugar:r.reduce((s,o)=>s+(o.sugar||0),0),sodium:r.reduce((s,o)=>s+(o.sodium||0),0)}},[e,t]),i={calories:2e3,protein:50,carbs:275,fat:55,fiber:28,sugar:50,sodium:2300};return d.jsx("div",{children:e.filter(r=>r.date===t).length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Xo,{label:"Calories",value:n.calories,max:i.calories,unit:"kcal",color:"bg-nutrify-accent"}),d.jsx(Xo,{label:"Protein",value:n.protein,max:i.protein,unit:"g",color:"bg-blue-500"}),d.jsx(Xo,{label:"Carbs",value:n.carbs,max:i.carbs,unit:"g",color:"bg-orange-500"}),d.jsx(Xo,{label:"Fat",value:n.fat,max:i.fat,unit:"g",color:"bg-purple-500"}),d.jsx(Xo,{label:"Fiber",value:n.fiber,max:i.fiber,unit:"g",color:"bg-teal-500"})]}),d.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Sugar"}),d.jsxs("p",{className:"font-medium",children:[n.sugar.toFixed(1),d.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"g"})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Sodium"}),d.jsxs("p",{className:"font-medium",children:[n.sodium.toFixed(0),d.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"mg"})]})]})]})]}):d.jsx("div",{className:"text-center py-6",children:d.jsx("p",{className:"text-gray-500",children:"No nutrition data for this date"})})})},Xo=({label:t,value:e,max:n,unit:i,color:r})=>{const s=Math.min(100,e/n*100);return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between mb-1",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:t}),d.jsxs("span",{className:"text-sm text-gray-600",children:[e.toFixed(1),"/",n," ",i]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:d.jsx("div",{className:`${r} h-2.5 rounded-full`,style:{width:`${s}%`}})})]})},ZN=({food:t})=>{const e=new Date(t.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}),n=i=>{switch(i){case"breakfast":return"";case"lunch":return"";case"dinner":return"";case"snack":return"";default:return""}};return d.jsxs("div",{className:"bg-nutrify-light rounded-lg p-3 hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-lg mr-2",children:n(t.mealType)}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),d.jsx("p",{className:"text-sm text-gray-600",children:t.portion})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-semibold text-gray-900",children:[t.calories," kcal"]}),d.jsx("p",{className:"text-xs text-gray-500",children:e})]})]}),d.jsxs("div",{className:"mt-2 flex space-x-3 text-xs",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Protein:"})," ",t.protein.toFixed(1),"g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Carbs:"})," ",t.carbs.toFixed(1),"g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Fat:"})," ",t.fat.toFixed(1),"g"]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Cl(t){return t+.5|0}const zi=(t,e,n)=>Math.max(Math.min(t,n),e);function ca(t){return zi(Cl(t*2.55),0,255)}function Xi(t){return zi(Cl(t*255),0,255)}function Xn(t){return zi(Cl(t/2.55)/100,0,1)}function Mx(t){return zi(Cl(t*100),0,100)}const Jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wp=[..."0123456789ABCDEF"],eP=t=>wp[t&15],tP=t=>wp[(t&240)>>4]+wp[t&15],Tc=t=>(t&240)>>4===(t&15),nP=t=>Tc(t.r)&&Tc(t.g)&&Tc(t.b)&&Tc(t.a);function iP(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Jt[t[1]]*17,g:255&Jt[t[2]]*17,b:255&Jt[t[3]]*17,a:e===5?Jt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Jt[t[1]]<<4|Jt[t[2]],g:Jt[t[3]]<<4|Jt[t[4]],b:Jt[t[5]]<<4|Jt[t[6]],a:e===9?Jt[t[7]]<<4|Jt[t[8]]:255})),n}const rP=(t,e)=>t<255?e(t):"";function sP(t){var e=nP(t)?eP:tP;return t?"#"+e(t.r)+e(t.g)+e(t.b)+rP(t.a,e):void 0}const oP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lE(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function aP(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function lP(t,e,n){const i=lE(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function cP(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function lg(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),l=cP(n,i,r,h,s),l=l*60+.5),[l|0,c||0,a]}function cg(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Xi)}function ug(t,e,n){return cg(lE,t,e,n)}function uP(t,e,n){return cg(lP,t,e,n)}function dP(t,e,n){return cg(aP,t,e,n)}function cE(t){return(t%360+360)%360}function hP(t){const e=oP.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ca(+e[5]):Xi(+e[5]));const r=cE(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=uP(r,s,o):e[1]==="hsv"?i=dP(r,s,o):i=ug(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function fP(t,e){var n=lg(t);n[0]=cE(n[0]+e),n=ug(n),t.r=n[0],t.g=n[1],t.b=n[2]}function pP(t){if(!t)return;const e=lg(t),n=e[0],i=Mx(e[1]),r=Mx(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Xn(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Lx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mP(){const t={},e=Object.keys(Fx),n=Object.keys(Lx);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Lx[s]);s=parseInt(Fx[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Ic;function gP(t){Ic||(Ic=mP(),Ic.transparent=[0,0,0,0]);const e=Ic[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const yP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function vP(t){const e=yP.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?ca(o):zi(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?ca(i):zi(i,0,255)),r=255&(e[4]?ca(r):zi(r,0,255)),s=255&(e[6]?ca(s):zi(s,0,255)),{r:i,g:r,b:s,a:n}}}function xP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const tf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,vs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function _P(t,e,n){const i=vs(Xn(t.r)),r=vs(Xn(t.g)),s=vs(Xn(t.b));return{r:Xi(tf(i+n*(vs(Xn(e.r))-i))),g:Xi(tf(r+n*(vs(Xn(e.g))-r))),b:Xi(tf(s+n*(vs(Xn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Cc(t,e,n){if(t){let i=lg(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ug(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function uE(t,e){return t&&Object.assign(e||{},t)}function Vx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Xi(t[3]))):(e=uE(t,{r:0,g:0,b:0,a:1}),e.a=Xi(e.a)),e}function wP(t){return t.charAt(0)==="r"?vP(t):hP(t)}class sl{constructor(e){if(e instanceof sl)return e;const n=typeof e;let i;n==="object"?i=Vx(e):n==="string"&&(i=iP(e)||gP(e)||wP(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=uE(this._rgb);return e&&(e.a=Xn(e.a)),e}set rgb(e){this._rgb=Vx(e)}rgbString(){return this._valid?xP(this._rgb):void 0}hexString(){return this._valid?sP(this._rgb):void 0}hslString(){return this._valid?pP(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=_P(this._rgb,e._rgb,n)),this}clone(){return new sl(this.rgb)}alpha(e){return this._rgb.a=Xi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Cl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Cc(this._rgb,2,e),this}darken(e){return Cc(this._rgb,2,-e),this}saturate(e){return Cc(this._rgb,1,e),this}desaturate(e){return Cc(this._rgb,1,-e),this}rotate(e){return fP(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gn(){}const bP=(()=>{let t=0;return()=>t++})();function Se(t){return t==null}function nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function me(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function an(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Sn(t,e){return an(t)?t:e}function oe(t,e){return typeof t>"u"?e:t}const EP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,dE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ae(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function xe(t,e,n,i){let r,s,o;if(nt(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(me(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Yu(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Qu(t){if(nt(t))return t.map(Qu);if(me(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Qu(t[n[r]]);return e}return t}function hE(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function SP(t,e,n,i){if(!hE(t))return;const r=e[t],s=n[t];me(r)&&me(s)?ol(r,s,i):e[t]=Qu(s)}function ol(t,e,n){const i=nt(e)?e:[e],r=i.length;if(!me(t))return t;n=n||{};const s=n.merger||SP;let o;for(let a=0;a<r;++a){if(o=i[a],!me(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)s(l[c],t,o,n)}return t}function Ta(t,e){return ol(t,e,{merger:kP})}function kP(t,e,n){if(!hE(t))return;const i=e[t],r=n[t];me(i)&&me(r)?Ta(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Qu(r))}const zx={"":t=>t,x:t=>t.x,y:t=>t.y};function TP(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function IP(t){const e=TP(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function al(t,e){return(zx[e]||(zx[e]=IP(e)))(t)}function dg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Xu=t=>typeof t<"u",rr=t=>typeof t=="function",Ux=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function CP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Be=Math.PI,Ue=2*Be,AP=Ue+Be,Ju=Number.POSITIVE_INFINITY,NP=Be/180,Xe=Be/2,br=Be/4,Bx=Be*2/3,bp=Math.log10,io=Math.sign;function Ia(t,e,n){return Math.abs(t-e)<n}function $x(t){const e=Math.round(t);t=Ia(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(bp(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function PP(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function RP(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ll(t){return!RP(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function jP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function OP(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ei(t){return t*(Be/180)}function DP(t){return t*(180/Be)}function Hx(t){if(!an(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function fE(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Be&&(s+=Ue),{angle:s,distance:r}}function Ep(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function MP(t,e){return(t-e+AP)%Ue-Be}function Ii(t){return(t%Ue+Ue)%Ue}function cl(t,e,n,i){const r=Ii(t),s=Ii(e),o=Ii(n),a=Ii(s-r),l=Ii(o-r),c=Ii(r-s),h=Ii(r-o);return r===s||r===o||i&&s===o||a>l&&c<h}function At(t,e,n){return Math.max(e,Math.min(n,t))}function LP(t){return At(t,-32768,32767)}function Os(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function hg(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Or=(t,e,n,i)=>hg(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),FP=(t,e,n)=>hg(t,n,i=>t[i][e]>=n);function VP(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const pE=["push","pop","shift","splice","unshift"];function zP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pE.forEach(n=>{const i="_onData"+dg(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Wx(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(pE.forEach(s=>{delete t[s]}),delete t._chartjs)}function UP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const mE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function gE(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,mE.call(window,()=>{i=!1,t.apply(e,n)}))}}function BP(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const fg=t=>t==="start"?"left":t==="end"?"right":"center",xt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,$P=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function HP(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:f,max:p,minDefined:g,maxDefined:x}=o.getUserBounds();if(g){if(r=Math.min(Or(l,h,f).lo,n?i:Or(e,h,o.getPixelForValue(f)).lo),c){const w=l.slice(0,r+1).reverse().findIndex(b=>!Se(b[a.axis]));r-=Math.max(0,w)}r=At(r,0,i-1)}if(x){let w=Math.max(Or(l,o.axis,p,!0).hi+1,n?0:Or(e,h,o.getPixelForValue(p),!0).hi+1);if(c){const b=l.slice(w-1).findIndex(v=>!Se(v[a.axis]));w+=Math.max(0,b)}s=At(w,r,i)-r}else s=i-r}return{start:r,count:s}}function WP(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Ac=t=>t===0||t===1,Gx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ue/n)),qx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ue/n)+1,Ca={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xe)+1,easeOutSine:t=>Math.sin(t*Xe),easeInOutSine:t=>-.5*(Math.cos(Be*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ac(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ac(t)?t:Gx(t,.075,.3),easeOutElastic:t=>Ac(t)?t:qx(t,.075,.3),easeInOutElastic(t){return Ac(t)?t:t<.5?.5*Gx(t*2,.1125,.45):.5+.5*qx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ca.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ca.easeInBounce(t*2)*.5:Ca.easeOutBounce(t*2-1)*.5+.5};function pg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Kx(t){return pg(t)?t:new sl(t)}function nf(t){return pg(t)?t:new sl(t).saturate(.5).darken(.1).hexString()}const GP=["x","y","borderWidth","radius","tension"],qP=["color","borderColor","backgroundColor"];function KP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:qP},numbers:{type:"number",properties:GP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function YP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Yx=new Map;function QP(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Yx.get(n);return i||(i=new Intl.NumberFormat(t,e),Yx.set(n,i)),i}function mg(t,e,n){return QP(e,n).format(t)}const yE={values(t){return nt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=XP(t,n)}const o=bp(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),mg(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(bp(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?yE.numeric.call(this,t,e,n):""}};function XP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var vE={formatters:yE};function JP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Kr=Object.create(null),Sp=Object.create(null);function Aa(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function rf(t,e,n){return typeof e=="string"?ol(Aa(t,e),n):ol(Aa(t,""),e)}class ZP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>nf(r.backgroundColor),this.hoverBorderColor=(i,r)=>nf(r.borderColor),this.hoverColor=(i,r)=>nf(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return rf(this,e,n)}get(e){return Aa(this,e)}describe(e,n){return rf(Sp,e,n)}override(e,n){return rf(Kr,e,n)}route(e,n,i,r){const s=Aa(this,e),o=Aa(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return me(l)?Object.assign({},c,l):oe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var We=new ZP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[KP,YP,JP]);function eR(t){return!t||Se(t.size)||Se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Qx(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Er(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Xx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function kp(t,e,n,i){xE(t,e,n,i,null)}function xE(t,e,n,i,r){let s,o,a,l,c,h,f,p;const g=e.pointStyle,x=e.rotation,w=e.radius;let b=(x||0)*NP;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,i,r/2,w,0,0,Ue):t.arc(n,i,w,0,Ue),t.closePath();break;case"triangle":h=r?r/2:w,t.moveTo(n+Math.sin(b)*h,i-Math.cos(b)*w),b+=Bx,t.lineTo(n+Math.sin(b)*h,i-Math.cos(b)*w),b+=Bx,t.lineTo(n+Math.sin(b)*h,i-Math.cos(b)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(b+br)*l,f=Math.cos(b+br)*(r?r/2-c:l),a=Math.sin(b+br)*l,p=Math.sin(b+br)*(r?r/2-c:l),t.arc(n-f,i-a,c,b-Be,b-Xe),t.arc(n+p,i-o,c,b-Xe,b),t.arc(n+f,i+a,c,b,b+Xe),t.arc(n-p,i+o,c,b+Xe,b+Be),t.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*w,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}b+=br;case"rectRot":f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+p,i-o),t.lineTo(n+f,i+a),t.lineTo(n-p,i+o),t.closePath();break;case"crossRot":b+=br;case"cross":f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"star":f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o),b+=br,f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"line":o=r?r/2:Math.cos(b)*w,a=Math.sin(b)*w,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(b)*(r?r/2:w),i+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ul(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function gg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function yg(t){t.restore()}function tR(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function nR(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function iR(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function rR(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function sR(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function dl(t,e,n,i,r,s={}){const o=nt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,iR(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&sR(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),rR(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Tp(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Be,Be,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Be,Xe,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Xe,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Xe,!0),t.lineTo(n+o.topLeft,i)}const oR=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aR=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lR(t,e){const n=(""+t).match(oR);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const cR=t=>+t||0;function vg(t,e){const n={},i=me(e),r=i?Object.keys(e):e,s=me(t)?i?o=>oe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=cR(s(o));return n}function uR(t){return vg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Na(t){return vg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ln(t){const e=uR(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function St(t,e){t=t||{},e=e||We.font;let n=oe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=oe(t.style,e.style);i&&!(""+i).match(aR)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:oe(t.family,e.family),lineHeight:lR(oe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:oe(t.weight,e.weight),string:""};return r.string=eR(r),r}function Nc(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function dR(t,e,n){const{min:i,max:r}=t,s=dE(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function rs(t,e){return Object.assign(Object.create(t),e)}function xg(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=EE("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>xg([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return wE(a,l,()=>xR(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Zx(a).includes(l)},ownKeys(a){return Zx(a)},set(a,l,c){const h=a._storage||(a._storage=r());return a[l]=h[l]=c,delete a._keys,!0}})}function ro(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_E(t,i),setContext:s=>ro(t,s,n,i),override:s=>ro(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return wE(s,o,()=>fR(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function _E(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:rr(n)?n:()=>n,isIndexable:rr(i)?i:()=>i}}const hR=(t,e)=>t?t+dg(e):e,_g=(t,e)=>me(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function wE(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function fR(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return rr(a)&&o.isScriptable(e)&&(a=pR(e,a,t,n)),nt(a)&&a.length&&(a=mR(e,a,t,o.isIndexable)),_g(e,a)&&(a=ro(a,r,s&&s[e],o)),a}function pR(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),_g(t,l)&&(l=wg(r._scopes,r,t,l)),l}function mR(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(me(e[0])){const l=e,c=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const f=wg(c,r,t,h);e.push(ro(f,s,o&&o[t],a))}}return e}function bE(t,e,n){return rr(t)?t(e,n):t}const gR=(t,e)=>t===!0?e:typeof t=="string"?al(e,t):void 0;function yR(t,e,n,i,r){for(const s of e){const o=gR(n,s);if(o){t.add(o);const a=bE(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function wg(t,e,n,i){const r=e._rootScopes,s=bE(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=Jx(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=Jx(a,o,s,l,i),l===null)?!1:xg(Array.from(a),[""],r,s,()=>vR(e,n,i))}function Jx(t,e,n,i,r){for(;n;)n=yR(t,e,n,i,r);return n}function vR(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return nt(r)&&me(n)?n:r||{}}function xR(t,e,n,i){let r;for(const s of e)if(r=EE(hR(s,t),n),typeof r<"u")return _g(t,r)?wg(n,i,t,r):r}function EE(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Zx(t){let e=t._keys;return e||(e=t._keys=_R(t._scopes)),e}function _R(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const wR=Number.EPSILON||1e-14,so=(t,e)=>e<t.length&&!t[e].skip&&t[e],SE=t=>t==="x"?"y":"x";function bR(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Ep(s,r),l=Ep(o,s);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const f=i*c,p=i*h;return{previous:{x:s.x-f*(o.x-r.x),y:s.y-f*(o.y-r.y)},next:{x:s.x+p*(o.x-r.x),y:s.y+p*(o.y-r.y)}}}function ER(t,e,n){const i=t.length;let r,s,o,a,l,c=so(t,0);for(let h=0;h<i-1;++h)if(l=c,c=so(t,h+1),!(!l||!c)){if(Ia(e[h],0,wR)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=r*o*e[h],n[h+1]=s*o*e[h])}}function SR(t,e,n="x"){const i=SE(n),r=t.length;let s,o,a,l=so(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=so(t,c+1),!a)continue;const h=a[n],f=a[i];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${i}`]=f-s*e[c]),l&&(s=(l[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${i}`]=f+s*e[c])}}function kR(t,e="x"){const n=SE(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=so(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=so(t,o+1),!!l){if(c){const h=c[e]-l[e];r[o]=h!==0?(c[n]-l[n])/h:0}s[o]=a?c?io(r[o-1])!==io(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}ER(t,r,s),SR(t,s,e)}function Pc(t,e,n){return Math.max(Math.min(t,n),e)}function TR(t,e){let n,i,r,s,o,a=ul(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&ul(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Pc(r.cp1x,e.left,e.right),r.cp1y=Pc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Pc(r.cp2x,e.left,e.right),r.cp2y=Pc(r.cp2y,e.top,e.bottom)))}function IR(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")kR(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=bR(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&TR(t,n)}function bg(){return typeof window<"u"&&typeof document<"u"}function Eg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Zu(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const qd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function CR(t,e){return qd(t).getPropertyValue(e)}const AR=["top","right","bottom","left"];function Fr(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=AR[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const NR=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function PR(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(NR(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ir(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=qd(n),s=r.boxSizing==="border-box",o=Fr(r,"padding"),a=Fr(r,"border","width"),{x:l,y:c,box:h}=PR(t,n),f=o.left+(h&&a.left),p=o.top+(h&&a.top);let{width:g,height:x}=e;return s&&(g-=o.width+a.width,x-=o.height+a.height),{x:Math.round((l-f)/g*n.width/i),y:Math.round((c-p)/x*n.height/i)}}function RR(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Eg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=qd(s),l=Fr(a,"border","width"),c=Fr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Zu(a.maxWidth,s,"clientWidth"),r=Zu(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ju,maxHeight:r||Ju}}const Rc=t=>Math.round(t*10)/10;function jR(t,e,n,i){const r=qd(t),s=Fr(r,"margin"),o=Zu(r.maxWidth,t,"clientWidth")||Ju,a=Zu(r.maxHeight,t,"clientHeight")||Ju,l=RR(t,e,n);let{width:c,height:h}=l;if(r.boxSizing==="content-box"){const p=Fr(r,"border","width"),g=Fr(r,"padding");c-=g.width+p.width,h-=g.height+p.height}return c=Math.max(0,c-s.width),h=Math.max(0,i?c/i:h-s.height),c=Rc(Math.min(c,o,l.maxWidth)),h=Rc(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Rc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Rc(Math.floor(h*i))),{width:c,height:h}}function e0(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const OR=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function t0(t,e){const n=CR(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Cr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function DR(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function MR(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Cr(t,r,n),a=Cr(r,s,n),l=Cr(s,e,n),c=Cr(o,a,n),h=Cr(a,l,n);return Cr(c,h,n)}const LR=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},FR=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function $s(t,e,n){return t?LR(e,n):FR()}function kE(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function TE(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function IE(t){return t==="angle"?{between:cl,compare:MP,normalize:Ii}:{between:Os,compare:(e,n)=>e-n,normalize:e=>e}}function n0({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function VR(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=IE(i),l=e.length;let{start:c,end:h,loop:f}=t,p,g;if(f){for(c+=l,h+=l,p=0,g=l;p<g&&o(a(e[c%l][i]),r,s);++p)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:f,style:t.style}}function zR(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=IE(i),{start:h,end:f,loop:p,style:g}=VR(t,e,n),x=[];let w=!1,b=null,v,_,S;const P=()=>l(r,S,v)&&a(r,S)!==0,j=()=>a(s,v)===0||l(s,S,v),M=()=>w||P(),T=()=>!w||j();for(let E=h,I=h;E<=f;++E)_=e[E%o],!_.skip&&(v=c(_[i]),v!==S&&(w=l(v,r,s),b===null&&M()&&(b=a(v,r)===0?E:I),b!==null&&T()&&(x.push(n0({start:b,end:E,loop:p,count:o,style:g})),b=null),I=E,S=v));return b!==null&&x.push(n0({start:b,end:f,loop:p,count:o,style:g})),x}function UR(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=zR(i[r],t.points,e);s.length&&n.push(...s)}return n}function BR(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function $R(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function HR(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=BR(n,r,s,i);if(i===!0)return i0(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return i0(t,$R(n,o,l,c),n,e)}function i0(t,e,n,i){return!i||!i.setContext||!n?e:WR(t,e,n,i)}function WR(t,e,n,i){const r=t._chart.getContext(),s=r0(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let h=s,f=e[0].start,p=f;function g(x,w,b,v){const _=a?-1:1;if(x!==w){for(x+=l;n[x%l].skip;)x-=_;for(;n[w%l].skip;)w+=_;x%l!==w%l&&(c.push({start:x%l,end:w%l,loop:b,style:v}),h=v,f=w%l)}}for(const x of e){f=a?f:x.start;let w=n[f%l],b;for(p=f+1;p<=x.end;p++){const v=n[p%l];b=r0(i.setContext(rs(r,{type:"segment",p0:w,p1:v,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),GR(b,h)&&g(f,p-1,x.loop,h),w=v,h=b}f<p-1&&g(f,p-1,x.loop,h)}return c}function r0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function GR(t,e){if(!e)return!1;const n=[],i=function(r,s){return pg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function jc(t,e,n){return t.options.clip?t[n]:e[n]}function qR(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:jc(n,e,"left"),right:jc(n,e,"right"),top:jc(i,e,"top"),bottom:jc(i,e,"bottom")}:e}function KR(t,e){const n=e._clip;if(n.disabled)return!1;const i=qR(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=mE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qn=new YR;const s0="transparent",QR={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Kx(t||s0),r=i.valid&&Kx(e||s0);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class XR{constructor(e,n,i,r){const s=n[i];r=Nc([e.to,r,s,e.from]);const o=Nc([e.from,s,r]);this._active=!0,this._fn=e.fn||QR[e.type||typeof o],this._easing=Ca[e.easing]||Ca.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Nc([e.to,n,r,e.from]),this._from=Nc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class CE{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!me(e))return;const n=Object.keys(We.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!me(s))return;const o={};for(const a of n)o[a]=s[a];(nt(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=ZR(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&JR(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[c];let f=s[c];const p=i.get(c);if(f)if(p&&f.active()){f.update(p,h,a);continue}else f.cancel();if(!p||!p.duration){e[c]=h;continue}s[c]=f=new XR(p,e,c,h),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return qn.add(this._chart,i),!0}}function JR(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function ZR(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function o0(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function ej(t,e,n){if(n===!1)return!1;const i=o0(t,n),r=o0(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function tj(t){let e,n,i,r;return me(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function AE(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function a0(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let h=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(h=!0,i.all)continue;break}c=t.values[l],an(c)&&(s||e===0||io(e)===io(c))&&(e+=c)}return!h&&!i.all?0:e}function nj(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[r]:h,[s]:t[h]};return a}function sf(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ij(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function rj(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function sj(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function l0(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function c0(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,h=ij(s,o,i),f=e.length;let p;for(let g=0;g<f;++g){const x=e[g],{[l]:w,[c]:b}=x,v=x._stacks||(x._stacks={});p=v[c]=sj(r,h,w),p[a]=b,p._top=l0(p,o,!0,i.type),p._bottom=l0(p,o,!1,i.type);const _=p._visualValues||(p._visualValues={});_[a]=b}}function of(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function oj(t,e){return rs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aj(t,e,n){return rs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Jo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const af=t=>t==="reset"||t==="none",u0=(t,e)=>e?t:Object.assign({},t),lj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:AE(n,!0),values:null};class Hs{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=sf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(f,p,g,x)=>f==="x"?p:f==="r"?x:g,s=n.xAxisID=oe(i.xAxisID,of(e,"x")),o=n.yAxisID=oe(i.yAxisID,of(e,"y")),a=n.rAxisID=oe(i.rAxisID,of(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),h=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Wx(this._data,this),e._stacked&&Jo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(me(n)){const r=this._cachedMeta;this._data=nj(n,r)}else if(i!==n){if(i){Wx(i,this);const r=this._cachedMeta;Jo(r),r._parsed=[]}n&&Object.isExtensible(n)&&zP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=sf(n.vScale,n),n.stack!==i.stack&&(r=!0,Jo(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(c0(this,n._parsed),n._stacked=sf(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,f,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{nt(r[e])?p=this.parseArrayData(i,r,e,n):me(r[e])?p=this.parseObjectData(i,r,e,n):p=this.parsePrimitiveData(i,r,e,n);const g=()=>f[a]===null||c&&f[a]<c[a];for(h=0;h<n;++h)i._parsed[h+e]=f=p[h],l&&(g()&&(l=!1),c=f);i._sorted=l}o&&c0(this,p)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),h=s===o,f=new Array(r);let p,g,x;for(p=0,g=r;p<g;++p)x=p+i,f[p]={[a]:h||s.parse(c[x],x),[l]:o.parse(n[x],x)};return f}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,h,f;for(l=0,c=r;l<c;++l)h=l+i,f=n[h],a[l]={x:s.parse(f[0],h),y:o.parse(f[1],h)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let h,f,p,g;for(h=0,f=r;h<f;++h)p=h+i,g=n[p],c[h]={x:s.parse(al(g,a),p),y:o.parse(al(g,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:AE(r,!0),values:n._stacks[e.axis]._visualValues};return a0(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=a0(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=lj(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=rj(a);let p,g;function x(){g=r[p];const w=g[a.axis];return!an(g[e.axis])||h>w||f<w}for(p=0;p<o&&!(!x()&&(this.updateRangeFromParsed(c,e,g,l),s));++p);if(s){for(p=o-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],an(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=tj(oe(this.options.clip,ej(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const f=r[h];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=aj(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=oj(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Xu(i);if(a)return u0(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),h),g=Object.keys(We.elements[e]),x=()=>this.getContext(i,r,n),w=c.resolveNamedOptions(p,g,x,f);return w.$shared&&(w.$shared=l,s[o]=Object.freeze(u0(w,l))),w}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(p,this.getContext(e,i,n))}const c=new CE(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||af(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){af(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!af(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Jo(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}q(Hs,"defaults",{}),q(Hs,"datasetElementType",null),q(Hs,"dataElementType",null);function cj(t,e,n){let i=1,r=1,s=0,o=0;if(e<Ue){const a=t,l=a+e,c=Math.cos(a),h=Math.sin(a),f=Math.cos(l),p=Math.sin(l),g=(S,P,j)=>cl(S,a,l,!0)?1:Math.max(P,P*n,j,j*n),x=(S,P,j)=>cl(S,a,l,!0)?-1:Math.min(P,P*n,j,j*n),w=g(0,c,f),b=g(Xe,h,p),v=x(Be,c,f),_=x(Be+Xe,h,p);i=(w-v)/2,r=(b-_)/2,s=-(w+v)/2,o=-(b+_)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class ua extends Hs{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(me(i[e])){const{key:l="value"}=this._parsing;s=c=>+al(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return ei(this.options.rotation-90)}_getCircumference(){return ei(this.options.circumference)}_getRotationExtents(){let e=Ue,n=-Ue;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(EP(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:x,offsetY:w}=cj(f,h,l),b=(i.width-o)/p,v=(i.height-o)/g,_=Math.max(Math.min(b,v)/2,0),S=dE(this.options.radius,_),P=Math.max(S*l,0),j=(S-P)/this._getVisibleDatasetWeightTotal();this.offsetX=x*S,this.offsetY=w*S,r.total=this.calculateTotal(),this.outerRadius=S-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Ue)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2,p=s&&c.animateScale,g=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:w,includeOptions:b}=this._getSharedOptions(n,r);let v=this._getRotation(),_;for(_=0;_<n;++_)v+=this._circumference(_,s);for(_=n;_<n+i;++_){const S=this._circumference(_,s),P=e[_],j={x:h+this.offsetX,y:f+this.offsetY,startAngle:v,endAngle:v+S,circumference:S,outerRadius:x,innerRadius:g};b&&(j.options=w||this.resolveDataElementOptions(_,P.active?"active":r)),v+=S,this.updateElement(P,_,j,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ue*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=mg(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}q(ua,"id","doughnut"),q(ua,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),q(ua,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),q(ua,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class lu extends Hs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=HP(n,r,o);this._drawStart=a,this._drawCount=l,WP(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r),p=o.axis,g=a.axis,{spanGaps:x,segment:w}=this.options,b=ll(x)?x:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",_=n+i,S=e.length;let P=n>0&&this.getParsed(n-1);for(let j=0;j<S;++j){const M=e[j],T=v?M:{};if(j<n||j>=_){T.skip=!0;continue}const E=this.getParsed(j),I=Se(E[g]),C=T[p]=o.getPixelForValue(E[p],j),N=T[g]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],j);T.skip=isNaN(C)||isNaN(N)||I,T.stop=j>0&&Math.abs(E[p]-P[p])>b,w&&(T.parsed=E,T.raw=c.data[j]),f&&(T.options=h||this.resolveDataElementOptions(j,M.active?"active":r)),v||this.updateElement(M,j,T,r),P=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}q(lu,"id","line"),q(lu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),q(lu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ip extends ua{}q(Ip,"id","pie"),q(Ip,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sg{constructor(e){q(this,"options");this.options=e||{}}static override(e){Object.assign(Sg.prototype,e)}init(){}formats(){return Sr()}parse(){return Sr()}format(){return Sr()}add(){return Sr()}diff(){return Sr()}startOf(){return Sr()}endOf(){return Sr()}}var uj={_date:Sg};function dj(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?FP:Or;if(i){if(r._sharedOptions){const h=s[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const p=c(s,e,n-f),g=c(s,e,n+f);return{lo:p.lo,hi:g.hi}}}}else{const h=c(s,e,n);if(l){const{vScale:f}=r._cachedMeta,{_parsed:p}=t,g=p.slice(0,h.lo+1).reverse().findIndex(w=>!Se(w[f.axis]));h.lo-=Math.max(0,g);const x=p.slice(h.hi).findIndex(w=>!Se(w[f.axis]));h.hi+=Math.max(0,x)}return h}}return{lo:0,hi:s.length-1}}function Al(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:h}=s[a],{lo:f,hi:p}=dj(s[a],e,o,r);for(let g=f;g<=p;++g){const x=h[g];x.skip||i(x,c,g)}}}function hj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function lf(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Al(t,n,e,function(a,l,c){!r&&!ul(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function fj(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:f}=fE(o,{x:e.x,y:e.y});cl(f,c,h)&&r.push({element:o,datasetIndex:a,index:l})}return Al(t,n,e,s),r}function pj(t,e,n,i,r,s){let o=[];const a=hj(n);let l=Number.POSITIVE_INFINITY;function c(h,f,p){const g=h.inRange(e.x,e.y,r);if(i&&!g)return;const x=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(x))&&!g)return;const b=a(e,x);b<l?(o=[{element:h,datasetIndex:f,index:p}],l=b):b===l&&o.push({element:h,datasetIndex:f,index:p})}return Al(t,n,e,c),o}function cf(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?fj(t,e,n,r):pj(t,e,n,i,r,s)}function d0(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Al(t,n,e,(l,c,h)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var mj={evaluateInteractionItems:Al,modes:{index(t,e,n,i){const r=Ir(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?lf(t,r,s,i,o):cf(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,f=c.data[h];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const r=Ir(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?lf(t,r,s,i,o):cf(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const r=Ir(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return lf(t,r,s,i,o)},nearest(t,e,n,i){const r=Ir(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return cf(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Ir(e,t);return d0(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Ir(e,t);return d0(t,r,"y",n.intersect,i)}}};const NE=["left","top","right","bottom"];function Zo(t,e){return t.filter(n=>n.pos===e)}function h0(t,e){return t.filter(n=>NE.indexOf(n.pos)===-1&&n.box.axis===e)}function ea(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function gj(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function yj(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!NE.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function vj(t,e){const n=yj(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:l&&e.availableHeight)}return n}function xj(t){const e=gj(t),n=ea(e.filter(c=>c.box.fullSize),!0),i=ea(Zo(e,"left"),!0),r=ea(Zo(e,"right")),s=ea(Zo(e,"top"),!0),o=ea(Zo(e,"bottom")),a=h0(e,"x"),l=h0(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Zo(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function f0(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function PE(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function _j(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!me(r)){n.size&&(t[r]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[r]+=n.size}s.getPadding&&PE(o,s.getPadding());const a=Math.max(0,e.outerWidth-f0(o,t,"left","right")),l=Math.max(0,e.outerHeight-f0(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function wj(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function bj(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function da(t,e,n,i){const r=[];let s,o,a,l,c,h;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,bj(a.horizontal,e));const{same:f,other:p}=_j(e,n,a,i);c|=f&&r.length,h=h||p,l.fullSize||r.push(a)}return c&&da(r,e,n,i)||h}function Oc(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function p0(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*h,p=c.size||l.height;Xu(c.start)&&(o=c.start),l.fullSize?Oc(l,r.left,o,n.outerWidth-r.right-r.left,p):Oc(l,e.left+c.placed,o,f,p),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*h,p=c.size||l.width;Xu(c.start)&&(s=c.start),l.fullSize?Oc(l,s,r.top,p,n.outerHeight-r.bottom-r.top):Oc(l,s,e.top+c.placed,p,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var nn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=ln(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=xj(t.boxes),l=a.vertical,c=a.horizontal;xe(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const h=l.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),p=Object.assign({},r);PE(p,ln(i));const g=Object.assign({maxPadding:p,w:s,h:o,x:r.left,y:r.top},r),x=vj(l.concat(c),f);da(a.fullSize,g,f,x),da(l,g,f,x),da(c,g,f,x)&&da(l,g,f,x),wj(g),p0(a.leftAndTop,g,f,x),g.x+=g.w,g.y+=g.h,p0(a.rightAndBottom,g,f,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},xe(a.chartArea,w=>{const b=w.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class RE{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Ej extends RE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cu="$chartjs",Sj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},m0=t=>t===null||t==="";function kj(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[cu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",m0(r)){const s=t0(t,"width");s!==void 0&&(t.width=s)}if(m0(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=t0(t,"height");s!==void 0&&(t.height=s)}return t}const jE=OR?{passive:!0}:!1;function Tj(t,e,n){t&&t.addEventListener(e,n,jE)}function Ij(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,jE)}function Cj(t,e){const n=Sj[t.type]||t.type,{x:i,y:r}=Ir(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ed(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Aj(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ed(a.addedNodes,i),o=o&&!ed(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Nj(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ed(a.removedNodes,i),o=o&&!ed(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const hl=new Map;let g0=0;function OE(){const t=window.devicePixelRatio;t!==g0&&(g0=t,hl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Pj(t,e){hl.size||window.addEventListener("resize",OE),hl.set(t,e)}function Rj(t){hl.delete(t),hl.size||window.removeEventListener("resize",OE)}function jj(t,e,n){const i=t.canvas,r=i&&Eg(i);if(!r)return;const s=gE((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(r),Pj(t,s),o}function uf(t,e,n){n&&n.disconnect(),e==="resize"&&Rj(t)}function Oj(t,e,n){const i=t.canvas,r=gE(s=>{t.ctx!==null&&n(Cj(s,t))},t);return Tj(i,e,r),r}class Dj extends RE{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(kj(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[cu])return!1;const i=n[cu].initial;["height","width"].forEach(s=>{const o=i[s];Se(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[cu],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:Aj,detach:Nj,resize:jj}[n]||Oj;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:uf,detach:uf,resize:uf}[n]||Ij)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return jR(e,n,i,r)}isAttached(e){const n=e&&Eg(e);return!!(n&&n.isConnected)}}function Mj(t){return!bg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ej:Dj}class Ln{constructor(){q(this,"x");q(this,"y");q(this,"active",!1);q(this,"options");q(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ll(this.x)&&ll(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}q(Ln,"defaults",{}),q(Ln,"defaultRoutes");function Lj(t,e){const n=t.options.ticks,i=Fj(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?zj(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return Uj(e,c,s,o/r),c;const h=Vj(s,e,r);if(o>0){let f,p;const g=o>1?Math.round((l-a)/(o-1)):null;for(Dc(e,c,h,Se(g)?0:a-g,a),f=0,p=o-1;f<p;f++)Dc(e,c,h,s[f],s[f+1]);return Dc(e,c,h,l,Se(g)?e.length:l+g),c}return Dc(e,c,h),c}function Fj(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Vj(t,e,n){const i=Bj(t),r=e.length/n;if(!i)return Math.max(r,1);const s=PP(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function zj(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Uj(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Dc(t,e,n,i,r){const s=oe(i,0),o=Math.min(oe(r,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(s+a*n))}function Bj(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const $j=t=>t==="left"?"right":t==="right"?"left":t,y0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,v0=(t,e)=>Math.min(e||t,t);function x0(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function Hj(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function Wj(t,e){xe(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function ta(t){return t.drawTicks?t.tickLength:0}function _0(t,e){if(!t.display)return 0;const n=St(t.font,e),i=ln(t.padding);return(nt(t.text)?t.text.length:1)*n.lineHeight+i.height}function Gj(t,e){return rs(t,{scale:e,type:"scale"})}function qj(t,e,n){return rs(t,{tick:n,index:e,type:"tick"})}function Kj(t,e,n){let i=fg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=$j(i)),i}function Yj(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let f=0,p,g,x;const w=o-r,b=a-s;if(t.isHorizontal()){if(g=xt(i,s,a),me(n)){const v=Object.keys(n)[0],_=n[v];x=h[v].getPixelForValue(_)+w-e}else n==="center"?x=(c.bottom+c.top)/2+w-e:x=y0(t,n,e);p=a-s}else{if(me(n)){const v=Object.keys(n)[0],_=n[v];g=h[v].getPixelForValue(_)-b+e}else n==="center"?g=(c.left+c.right)/2-b+e:g=y0(t,n,e);x=xt(i,o,r),f=n==="left"?-Xe:Xe}return{titleX:g,titleY:x,maxWidth:p,rotation:f}}class _o extends Ln{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Sn(e,Number.POSITIVE_INFINITY),n=Sn(n,Number.NEGATIVE_INFINITY),i=Sn(i,Number.POSITIVE_INFINITY),r=Sn(r,Number.NEGATIVE_INFINITY),{min:Sn(e,i),max:Sn(n,r),minDefined:an(e),maxDefined:an(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Sn(n,Sn(i,n)),max:Sn(i,Sn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ae(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dR(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?x0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Lj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ae(this.options.afterUpdate,[this])}beforeSetDimensions(){Ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ae(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ae(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Ae(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=v0(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),f=h.widest.width,p=h.highest.height,g=At(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),f+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-ta(e.grid)-n.padding-_0(e.title,this.chart.options.font),c=Math.sqrt(f*f+p*p),o=DP(Math.min(Math.asin(At((h.highest.height+6)/a,-1,1)),Math.asin(At(l/c,-1,1))-Math.asin(At(p/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ae(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=_0(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=ta(s)+l):(e.height=this.maxHeight,e.width=ta(s)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:p}=this._getLabelSizes(),g=i.padding*2,x=ei(this.labelRotation),w=Math.cos(x),b=Math.sin(x);if(a){const v=i.mirror?0:b*f.width+w*p.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{const v=i.mirror?0:w*f.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(c,h,b,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;l?c?(p=r*e.width,g=i*n.height):(p=i*e.height,g=r*n.width):s==="start"?g=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;s==="start"?(h=0,f=e.height):s==="end"&&(h=n.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ae(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=x0(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/v0(n,i));let c=0,h=0,f,p,g,x,w,b,v,_,S,P,j;for(f=0;f<n;f+=l){if(x=e[f].label,w=this._resolveTickFontOptions(f),r.font=b=w.string,v=s[b]=s[b]||{data:{},gc:[]},_=w.lineHeight,S=P=0,!Se(x)&&!nt(x))S=Qx(r,v.data,v.gc,S,x),P=_;else if(nt(x))for(p=0,g=x.length;p<g;++p)j=x[p],!Se(j)&&!nt(j)&&(S=Qx(r,v.data,v.gc,S,j),P+=_);o.push(S),a.push(P),c=Math.max(S,c),h=Math.max(P,h)}Wj(s,n);const M=o.indexOf(c),T=a.indexOf(h),E=I=>({width:o[I]||0,height:a[I]||0});return{first:E(0),last:E(n-1),widest:E(M),highest:E(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return LP(this._alignToPixels?Er(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=qj(this.getContext(),e,i))}return this.$context||(this.$context=Gj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ei(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),p=ta(s),g=[],x=a.setContext(this.getContext()),w=x.display?x.width:0,b=w/2,v=function(fe){return Er(i,fe,w)};let _,S,P,j,M,T,E,I,C,N,R,A;if(o==="top")_=v(this.bottom),T=this.bottom-p,I=_-b,N=v(e.top)+b,A=e.bottom;else if(o==="bottom")_=v(this.top),N=e.top,A=v(e.bottom)-b,T=_+b,I=this.top+p;else if(o==="left")_=v(this.right),M=this.right-p,E=_-b,C=v(e.left)+b,R=e.right;else if(o==="right")_=v(this.left),C=e.left,R=v(e.right)-b,M=_+b,E=this.left+p;else if(n==="x"){if(o==="center")_=v((e.top+e.bottom)/2+.5);else if(me(o)){const fe=Object.keys(o)[0],ae=o[fe];_=v(this.chart.scales[fe].getPixelForValue(ae))}N=e.top,A=e.bottom,T=_+b,I=T+p}else if(n==="y"){if(o==="center")_=v((e.left+e.right)/2);else if(me(o)){const fe=Object.keys(o)[0],ae=o[fe];_=v(this.chart.scales[fe].getPixelForValue(ae))}M=_-b,E=M-p,C=e.left,R=e.right}const Z=oe(r.ticks.maxTicksLimit,f),Q=Math.max(1,Math.ceil(f/Z));for(S=0;S<f;S+=Q){const fe=this.getContext(S),ae=s.setContext(fe),U=a.setContext(fe),$=ae.lineWidth,Y=ae.color,ge=U.dash||[],te=U.dashOffset,ye=ae.tickWidth,Pe=ae.tickColor,Je=ae.tickBorderDash||[],Te=ae.tickBorderDashOffset;P=Hj(this,S,l),P!==void 0&&(j=Er(i,P,$),c?M=E=C=R=j:T=I=N=A=j,g.push({tx1:M,ty1:T,tx2:E,ty2:I,x1:C,y1:N,x2:R,y2:A,width:$,color:Y,borderDash:ge,borderDashOffset:te,tickWidth:ye,tickColor:Pe,tickBorderDash:Je,tickBorderDashOffset:Te}))}return this._ticksLength=f,this._borderValue=_,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=s,p=ta(i.grid),g=p+h,x=f?-h:g,w=-ei(this.labelRotation),b=[];let v,_,S,P,j,M,T,E,I,C,N,R,A="middle";if(r==="top")M=this.bottom-x,T=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+x,T=this._getXAxisLabelAlignment();else if(r==="left"){const Q=this._getYAxisLabelAlignment(p);T=Q.textAlign,j=Q.x}else if(r==="right"){const Q=this._getYAxisLabelAlignment(p);T=Q.textAlign,j=Q.x}else if(n==="x"){if(r==="center")M=(e.top+e.bottom)/2+g;else if(me(r)){const Q=Object.keys(r)[0],fe=r[Q];M=this.chart.scales[Q].getPixelForValue(fe)+g}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")j=(e.left+e.right)/2-g;else if(me(r)){const Q=Object.keys(r)[0],fe=r[Q];j=this.chart.scales[Q].getPixelForValue(fe)}T=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));const Z=this._getLabelSizes();for(v=0,_=a.length;v<_;++v){S=a[v],P=S.label;const Q=s.setContext(this.getContext(v));E=this.getPixelForTick(v)+s.labelOffset,I=this._resolveTickFontOptions(v),C=I.lineHeight,N=nt(P)?P.length:1;const fe=N/2,ae=Q.color,U=Q.textStrokeColor,$=Q.textStrokeWidth;let Y=T;o?(j=E,T==="inner"&&(v===_-1?Y=this.options.reverse?"left":"right":v===0?Y=this.options.reverse?"right":"left":Y="center"),r==="top"?c==="near"||w!==0?R=-N*C+C/2:c==="center"?R=-Z.highest.height/2-fe*C+C:R=-Z.highest.height+C/2:c==="near"||w!==0?R=C/2:c==="center"?R=Z.highest.height/2-fe*C:R=Z.highest.height-N*C,f&&(R*=-1),w!==0&&!Q.showLabelBackdrop&&(j+=C/2*Math.sin(w))):(M=E,R=(1-N)*C/2);let ge;if(Q.showLabelBackdrop){const te=ln(Q.backdropPadding),ye=Z.heights[v],Pe=Z.widths[v];let Je=R-te.top,Te=0-te.left;switch(A){case"middle":Je-=ye/2;break;case"bottom":Je-=ye;break}switch(T){case"center":Te-=Pe/2;break;case"right":Te-=Pe;break;case"inner":v===_-1?Te-=Pe:v>0&&(Te-=Pe/2);break}ge={left:Te,top:Je,width:Pe+te.width,height:ye+te.height,color:Q.backdropColor}}b.push({label:P,font:I,textOffset:R,options:{rotation:w,color:ae,strokeColor:U,strokeWidth:$,textAlign:Y,textBaseline:A,translation:[j,M],backdrop:ge}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ei(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,h;return n==="left"?r?(h=this.right+s,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,f,p;this.isHorizontal()?(c=Er(e,this.left,o)-o/2,h=Er(e,this.right,a)+a/2,f=p=l):(f=Er(e,this.top,o)-o/2,p=Er(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&gg(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,h=o.textOffset;dl(i,c,0,h,l,a)}r&&yg(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=St(i.font),o=ln(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||me(n)?(l+=o.bottom,nt(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:f,rotation:p}=Yj(this,l,n,a);dl(e,i.text,0,0,s,{color:i.color,maxWidth:f,rotation:p,textAlign:Kj(a,n,r),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=oe(e.grid&&e.grid.z,-1),r=oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==_o.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return St(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Jj(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Qj(e,o,i),this.override&&We.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in We[r]&&(delete We[r][i],this.override&&delete Kr[i])}}function Qj(t,e,n){const i=ol(Object.create(null),[n?We.get(n):{},We.get(e),t.defaults]);We.set(e,i),t.defaultRoutes&&Xj(e,t.defaultRoutes),t.descriptors&&We.describe(e,t.descriptors)}function Xj(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");We.route(s,r,l,a)})}function Jj(t){return"id"in t&&"defaults"in t}class Zj{constructor(){this.controllers=new Mc(Hs,"datasets",!0),this.elements=new Mc(Ln,"elements"),this.plugins=new Mc(Object,"plugins"),this.scales=new Mc(_o,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):xe(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=dg(e);Ae(i["before"+r],[],i),n[e](i),Ae(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Cn=new Zj;class eO{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Ae(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=oe(i.options&&i.options.plugins,{}),s=tO(i);return r===!1&&!n?[]:iO(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function tO(t){const e={},n=[],i=Object.keys(Cn.plugins.items);for(let s=0;s<i.length;s++)n.push(Cn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function nO(t,e){return!e&&t===!1?null:t===!0?{}:t}function iO(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=nO(i[l],r);c!==null&&s.push({plugin:a,options:rO(t.config,{plugin:a,local:n[l]},c,o)})}return s}function rO(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cp(t,e){const n=We.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function sO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function oO(t,e){return t===e?"_index_":"_value_"}function w0(t){if(t==="x"||t==="y"||t==="r")return t}function aO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ap(t,...e){if(w0(t))return t;for(const n of e){const i=n.axis||aO(n.position)||t.length>1&&w0(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function b0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function lO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return b0(t,"x",n[0])||b0(t,"y",n[0])}return{}}function cO(t,e){const n=Kr[t.type]||{scales:{}},i=e.scales||{},r=Cp(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!me(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ap(o,a,lO(o,t),We.scales[a.type]),c=oO(l,r),h=n.scales||{};s[o]=Ta(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Cp(a,e),h=(Kr[a]||{}).scales||{};Object.keys(h).forEach(f=>{const p=sO(f,l),g=o[p+"AxisID"]||p;s[g]=s[g]||Object.create(null),Ta(s[g],[{axis:p},i[g],h[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];Ta(a,[We.scales[a.type],We.scale])}),s}function DE(t){const e=t.options||(t.options={});e.plugins=oe(e.plugins,{}),e.scales=cO(t,e)}function ME(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uO(t){return t=t||{},t.data=ME(t.data),DE(t),t}const E0=new Map,LE=new Set;function Lc(t,e){let n=E0.get(t);return n||(n=e(),E0.set(t,n),LE.add(n)),n}const na=(t,e,n)=>{const i=al(e,n);i!==void 0&&t.add(i)};class dO{constructor(e){this._config=uO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ME(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),DE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Lc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Lc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Lc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(f=>na(l,e,f))),h.forEach(f=>na(l,r,f)),h.forEach(f=>na(l,Kr[s]||{},f)),h.forEach(f=>na(l,We,f)),h.forEach(f=>na(l,Sp,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),LE.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Kr[n]||{},We.datasets[n]||{},{type:n},We,Sp]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=S0(this._resolverCache,e,r);let l=o;if(fO(o,n)){s.$shared=!1,i=rr(i)?i():i;const c=this.createResolver(e,i,a);l=ro(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=S0(this._resolverCache,e,i);return me(n)?ro(s,n,void 0,r):s}}function S0(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:xg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const hO=t=>me(t)&&Object.getOwnPropertyNames(t).some(e=>rr(t[e]));function fO(t,e){const{isScriptable:n,isIndexable:i}=_E(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(rr(a)||hO(a))||o&&nt(a))return!0}return!1}var pO="4.4.9";const mO=["top","bottom","left","right","chartArea"];function k0(t,e){return t==="top"||t==="bottom"||mO.indexOf(t)===-1&&e==="x"}function T0(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function I0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ae(n&&n.onComplete,[t],e)}function gO(t){const e=t.chart,n=e.options.animation;Ae(n&&n.onProgress,[t],e)}function FE(t){return bg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const uu={},C0=t=>{const e=FE(t);return Object.values(uu).filter(n=>n.canvas===e).pop()};function yO(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function vO(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Ti;let Nl=(Ti=class{static register(...e){Cn.add(...e),A0()}static unregister(...e){Cn.remove(...e),A0()}constructor(e,n){const i=this.config=new dO(n),r=FE(e),s=C0(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Mj(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=bP(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BP(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],uu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",I0),qn.listen(this,"progress",gO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Se(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Cn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():e0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xx(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(e,n){qn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,e0(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ae(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Ap(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),xe(s,o=>{const a=o.options,l=a.id,c=Ap(l,a),h=oe(a.type,o.dtype);(a.position===void 0||k0(a.position,c)!==k0(o.dposition))&&(a.position=o.dposition),r[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{const p=Cn.getScale(h);f=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,e)}),xe(r,(o,a)=>{o||delete i[a]}),xe(i,o=>{nn.configure(this,o,o.options),nn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(T0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Cp(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Cn.getController(a),{datasetElementType:c,dataElementType:h}=We.datasets[a];Object.assign(l,{dataElementType:Cn.getElement(h),datasetElementType:c&&Cn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),p=!r&&s.indexOf(f)===-1;f.buildOrUpdateElements(p),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||xe(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(T0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xe(this.scales,e=>{nn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Ux(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;yO(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Ux(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,rr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),I0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=KR(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&gg(n,r),e.controller.draw(),r&&yg(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ul(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=mj.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=rs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Xu(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),qn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Xx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete uu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};xe(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Yu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=CP(e),c=vO(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Ae(s.onHover,[e,a,this],this),l&&Ae(s.onClick,[e,a,this],this));const h=!Yu(a,r);return(h||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},q(Ti,"defaults",We),q(Ti,"instances",uu),q(Ti,"overrides",Kr),q(Ti,"registry",Cn),q(Ti,"version",pO),q(Ti,"getChart",C0),Ti);function A0(){return xe(Nl.instances,t=>t._plugins.invalidate())}function xO(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Xe,i-Xe),t.closePath(),t.clip()}function _O(t){return vg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function wO(t,e,n,i){const r=_O(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return At(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:At(r.innerStart,0,o),innerEnd:At(r.innerEnd,0,o)}}function xs(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function td(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=e,f=Math.max(e.outerRadius+i+n-c,0),p=h>0?h+i+n+c:0;let g=0;const x=r-l;if(i){const Q=h>0?h-i:0,fe=f>0?f-i:0,ae=(Q+fe)/2,U=ae!==0?x*ae/(ae+i):x;g=(x-U)/2}const w=Math.max(.001,x*f-n/Be)/f,b=(x-w)/2,v=l+b+g,_=r-b-g,{outerStart:S,outerEnd:P,innerStart:j,innerEnd:M}=wO(e,p,f,_-v),T=f-S,E=f-P,I=v+S/T,C=_-P/E,N=p+j,R=p+M,A=v+j/N,Z=_-M/R;if(t.beginPath(),s){const Q=(I+C)/2;if(t.arc(o,a,f,I,Q),t.arc(o,a,f,Q,C),P>0){const $=xs(E,C,o,a);t.arc($.x,$.y,P,C,_+Xe)}const fe=xs(R,_,o,a);if(t.lineTo(fe.x,fe.y),M>0){const $=xs(R,Z,o,a);t.arc($.x,$.y,M,_+Xe,Z+Math.PI)}const ae=(_-M/p+(v+j/p))/2;if(t.arc(o,a,p,_-M/p,ae,!0),t.arc(o,a,p,ae,v+j/p,!0),j>0){const $=xs(N,A,o,a);t.arc($.x,$.y,j,A+Math.PI,v-Xe)}const U=xs(T,v,o,a);if(t.lineTo(U.x,U.y),S>0){const $=xs(T,I,o,a);t.arc($.x,$.y,S,v-Xe,I)}}else{t.moveTo(o,a);const Q=Math.cos(I)*f+o,fe=Math.sin(I)*f+a;t.lineTo(Q,fe);const ae=Math.cos(C)*f+o,U=Math.sin(C)*f+a;t.lineTo(ae,U)}t.closePath()}function bO(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){td(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Ue||Ue))}return td(t,e,n,i,l,r),t.fill(),l}function EO(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:f,borderDashOffset:p}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=p,g?(t.lineWidth=c*2,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let x=e.endAngle;if(s){td(t,e,n,i,x,r);for(let w=0;w<s;++w)t.stroke();isNaN(a)||(x=o+(a%Ue||Ue))}g&&xO(t,e,x),s||(td(t,e,n,i,x,r),t.stroke())}class ha extends Ln{constructor(n){super();q(this,"circumference");q(this,"endAngle");q(this,"fullCircles");q(this,"innerRadius");q(this,"outerRadius");q(this,"pixelMargin");q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=fE(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,x=oe(p,c-l),w=cl(o,l,c)&&l!==c,b=x>=Ue||w,v=Os(a,h+g,f+g);return b&&v}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:h}=this.options,f=(s+o)/2,p=(a+l+h+c)/2;return{x:i+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ue?Math.floor(r/Ue):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Be,r||0)),h=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,bO(n,this,h,o,a),EO(n,this,h,o,a),n.restore()}}q(ha,"id","arc"),q(ha,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),q(ha,"defaultRoutes",{backgroundColor:"backgroundColor"}),q(ha,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function VE(t,e,n=e){t.lineCap=oe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(oe(n.borderDash,e.borderDash)),t.lineDashOffset=oe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=oe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=oe(n.borderWidth,e.borderWidth),t.strokeStyle=oe(n.borderColor,e.borderColor)}function SO(t,e,n){t.lineTo(n.x,n.y)}function kO(t){return t.stepped?tR:t.tension||t.cubicInterpolationMode==="monotone"?nR:SO}function zE(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),h=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!h?i+c-l:c-l}}function TO(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=zE(r,n,i),h=kO(s);let{move:f=!0,reverse:p}=i||{},g,x,w;for(g=0;g<=c;++g)x=r[(a+(p?c-g:g))%o],!x.skip&&(f?(t.moveTo(x.x,x.y),f=!1):h(t,w,x,p,s.stepped),w=x);return l&&(x=r[(a+(p?c:0))%o],h(t,w,x,p,s.stepped)),!!l}function IO(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=zE(r,n,i),{move:l=!0,reverse:c}=i||{};let h=0,f=0,p,g,x,w,b,v;const _=P=>(o+(c?a-P:P))%s,S=()=>{w!==b&&(t.lineTo(h,b),t.lineTo(h,w),t.lineTo(h,v))};for(l&&(g=r[_(0)],t.moveTo(g.x,g.y)),p=0;p<=a;++p){if(g=r[_(p)],g.skip)continue;const P=g.x,j=g.y,M=P|0;M===x?(j<w?w=j:j>b&&(b=j),h=(f*h+P)/++f):(S(),t.lineTo(P,j),x=M,f=0,w=b=j),v=j}S()}function Np(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?IO:TO}function CO(t){return t.stepped?DR:t.tension||t.cubicInterpolationMode==="monotone"?MR:Cr}function AO(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),VE(t,e.options),t.stroke(r)}function NO(t,e,n,i){const{segments:r,options:s}=e,o=Np(e);for(const a of r)VE(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const PO=typeof Path2D=="function";function RO(t,e,n,i){PO&&!e.options.segment?AO(t,e,n,i):NO(t,e,n,i)}class fa extends Ln{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;IR(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HR(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=UR(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=CO(i);let c,h;for(c=0,h=o.length;c<h;++c){const{start:f,end:p}=o[c],g=s[f],x=s[p];if(g===x){a.push(g);continue}const w=Math.abs((r-g[n])/(x[n]-g[n])),b=l(g,x,w,i.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Np(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Np(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),RO(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}q(fa,"id","line"),q(fa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),q(fa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),q(fa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function N0(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class du extends Ln{constructor(n){super();q(this,"parsed");q(this,"skip");q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return N0(this,n,"x",i)}inYRange(n,i){return N0(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!ul(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,kp(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}q(du,"id","point"),q(du,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),q(du,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const P0=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},jO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class R0 extends Ln{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ae(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=St(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=P0(i,s);let c,h;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+a;let f=e;s.textAlign="left",s.textBaseline="middle";let p=-1,g=-h;return this.legendItems.forEach((x,w)=>{const b=i+n/2+s.measureText(x.text).width;(w===0||c[c.length-1]+b+2*a>o)&&(f+=h,c[c.length-(w>0?0:1)]=0,g+=h,p++),l[w]={left:0,top:g,row:p,width:b,height:r},c[c.length-1]+=b+a}),f}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let f=a,p=0,g=0,x=0,w=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:_,itemHeight:S}=OO(i,n,s,b,r);v>0&&g+S+2*a>h&&(f+=p+a,c.push({width:p,height:g}),x+=p+a,w++,p=g=0),l[v]={left:x,top:g,col:w,width:_,height:S},p=Math.max(p,_),g+=S+a}),f+=p,c.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=$s(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=xt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=xt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=xt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=xt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gg(e,this),this._draw(),yg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=We.color,l=$s(e.rtl,this.left,this.width),c=St(o.font),{padding:h}=o,f=c.size,p=f/2;let g;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:x,boxHeight:w,itemHeight:b}=P0(o,f),v=function(M,T,E){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;r.save();const I=oe(E.lineWidth,1);if(r.fillStyle=oe(E.fillStyle,a),r.lineCap=oe(E.lineCap,"butt"),r.lineDashOffset=oe(E.lineDashOffset,0),r.lineJoin=oe(E.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=oe(E.strokeStyle,a),r.setLineDash(oe(E.lineDash,[])),o.usePointStyle){const C={radius:w*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:I},N=l.xPlus(M,x/2),R=T+p;xE(r,C,N,R,o.pointStyleWidth&&x)}else{const C=T+Math.max((f-w)/2,0),N=l.leftForLtr(M,x),R=Na(E.borderRadius);r.beginPath(),Object.values(R).some(A=>A!==0)?Tp(r,{x:N,y:C,w:x,h:w,radius:R}):r.rect(N,C,x,w),r.fill(),I!==0&&r.stroke()}r.restore()},_=function(M,T,E){dl(r,E.text,M,T+b/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},S=this.isHorizontal(),P=this._computeTitleHeight();S?g={x:xt(s,this.left+h,this.right-i[0]),y:this.top+h+P,line:0}:g={x:this.left+h,y:xt(s,this.top+P+h,this.bottom-n[0].height),line:0},kE(this.ctx,e.textDirection);const j=b+h;this.legendItems.forEach((M,T)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const E=r.measureText(M.text).width,I=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),C=x+p+E;let N=g.x,R=g.y;l.setWidth(this.width),S?T>0&&N+C+h>this.right&&(R=g.y+=j,g.line++,N=g.x=xt(s,this.left+h,this.right-i[g.line])):T>0&&R+j>this.bottom&&(N=g.x=N+n[g.line].width+h,g.line++,R=g.y=xt(s,this.top+P+h,this.bottom-n[g.line].height));const A=l.x(N);if(v(A,R,M),N=$P(I,N+x+p,S?N+C:this.right,e.rtl),_(l.x(N),R,M),S)g.x+=C+h;else if(typeof M.text!="string"){const Z=c.lineHeight;g.y+=UE(M,Z)+h}else g.y+=j}),TE(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=St(n.font),r=ln(n.padding);if(!n.display)return;const s=$s(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let h,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+c,f=xt(e.align,f,this.right-p);else{const x=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);h=c+xt(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=xt(a,f,f+p);o.textAlign=s.textAlign(fg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,dl(o,n.text,g,h,i)}_computeTitleHeight(){const e=this.options.title,n=St(e.font),i=ln(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Os(e,this.left,this.right)&&Os(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Os(e,r.left,r.left+r.width)&&Os(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!LO(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=jO(r,i);r&&!s&&Ae(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Ae(n.onHover,[e,i,this],this)}else i&&Ae(n.onClick,[e,i,this],this)}}function OO(t,e,n,i,r){const s=DO(i,t,e,n),o=MO(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function DO(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function MO(t,e,n){let i=t;return typeof e.text!="string"&&(i=UE(e,n)),i}function UE(t,e){const n=t.text?t.text.length:0;return e*n}function LO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var BE={id:"legend",_element:R0,start(t,e,n){const i=t.legend=new R0({ctx:t.ctx,options:n,chart:t});nn.configure(t,i,n),nn.addBox(t,i)},stop(t){nn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;nn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=ln(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $E extends Ln{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=nt(i.text)?i.text.length:1;this._padding=ln(i.padding);const s=r*St(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,h,f;return this.isHorizontal()?(h=xt(a,i,s),f=n+e,c=s-i):(o.position==="left"?(h=i+e,f=xt(a,r,n),l=Be*-.5):(h=s-e,f=xt(a,n,r),l=Be*.5),c=r-n),{titleX:h,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=St(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);dl(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:fg(n.align),textBaseline:"middle",translation:[o,a]})}}function FO(t,e){const n=new $E({ctx:t.ctx,options:e,chart:t});nn.configure(t,n,e),nn.addBox(t,n),t.titleBlock=n}var VO={id:"title",_element:$E,start(t,e,n){FO(t,n)},stop(t){const e=t.titleBlock;nn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;nn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pa={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Ep(e,c);h<r&&(r=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Tn(t,e){return e&&(nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Kn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function zO(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function j0(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=St(e.bodyFont),c=St(e.titleFont),h=St(e.footerFont),f=s.length,p=r.length,g=i.length,x=ln(e.padding);let w=x.height,b=0,v=i.reduce((P,j)=>P+j.before.length+j.lines.length+j.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,f&&(w+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),v){const P=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=g*P+(v-g)*l.lineHeight+(v-1)*e.bodySpacing}p&&(w+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let _=0;const S=function(P){b=Math.max(b,n.measureText(P).width+_)};return n.save(),n.font=c.string,xe(t.title,S),n.font=l.string,xe(t.beforeBody.concat(t.afterBody),S),_=e.displayColors?o+2+e.boxPadding:0,xe(i,P=>{xe(P.before,S),xe(P.lines,S),xe(P.after,S)}),_=0,n.font=h.string,xe(t.footer,S),n.restore(),b+=x.width,{width:b,height:w}}function UO(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function BO(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function $O(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),BO(c,t,e,n)&&(c="center"),c}function O0(t,e,n){const i=n.yAlign||e.yAlign||UO(t,n);return{xAlign:n.xAlign||e.xAlign||$O(t,e,n,i),yAlign:i}}function HO(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function WO(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function D0(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Na(o);let x=HO(e,a);const w=WO(e,l,c);return l==="center"?a==="left"?x+=c:a==="right"&&(x-=c):a==="left"?x-=Math.max(h,p)+r:a==="right"&&(x+=Math.max(f,g)+r),{x:At(x,0,i.width-e.width),y:At(w,0,i.height-e.height)}}function Fc(t,e,n){const i=ln(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function M0(t){return Tn([],Kn(t))}function GO(t,e,n){return rs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function L0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const HE={beforeTitle:Gn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Gn,beforeBody:Gn,beforeLabel:Gn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gn,afterBody:Gn,beforeFooter:Gn,footer:Gn,afterFooter:Gn};function jt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?HE[e].call(n,i):r}class Pp extends Ln{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new CE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=GO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=jt(i,"beforeTitle",this,e),s=jt(i,"title",this,e),o=jt(i,"afterTitle",this,e);let a=[];return a=Tn(a,Kn(r)),a=Tn(a,Kn(s)),a=Tn(a,Kn(o)),a}getBeforeBody(e,n){return M0(jt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return xe(e,s=>{const o={before:[],lines:[],after:[]},a=L0(i,s);Tn(o.before,Kn(jt(a,"beforeLabel",this,s))),Tn(o.lines,jt(a,"label",this,s)),Tn(o.after,Kn(jt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return M0(jt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=jt(i,"beforeFooter",this,e),s=jt(i,"footer",this,e),o=jt(i,"afterFooter",this,e);let a=[];return a=Tn(a,Kn(r)),a=Tn(a,Kn(s)),a=Tn(a,Kn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(zO(this.chart,n[l]));return e.filter&&(a=a.filter((h,f,p)=>e.filter(h,f,p,i))),e.itemSort&&(a=a.sort((h,f)=>e.itemSort(h,f,i))),xe(a,h=>{const f=L0(e.callbacks,h);r.push(jt(f,"labelColor",this,h)),s.push(jt(f,"labelPointStyle",this,h)),o.push(jt(f,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=pa[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=j0(this,i),c=Object.assign({},a,l),h=O0(this.chart,i,c),f=D0(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=Na(a),{x:p,y:g}=e,{width:x,height:w}=n;let b,v,_,S,P,j;return s==="center"?(P=g+w/2,r==="left"?(b=p,v=b-o,S=P+o,j=P-o):(b=p+x,v=b+o,S=P-o,j=P+o),_=b):(r==="left"?v=p+Math.max(l,h)+o:r==="right"?v=p+x-Math.max(c,f)-o:v=this.caretX,s==="top"?(S=g,P=S-o,b=v-o,_=v+o):(S=g+w,P=S+o,b=v+o,_=v-o),j=S),{x1:b,x2:v,x3:_,y1:S,y2:P,y3:j}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=$s(i.rtl,this.x,this.width);for(e.x=Fc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=St(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,h=St(s.bodyFont),f=Fc(this,"left",s),p=r.x(f),g=l<h.lineHeight?(h.lineHeight-l)/2:0,x=n.y+g;if(s.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=r.leftForLtr(p,c)+c/2,v=x+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,kp(e,w,b,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,kp(e,w,b,v)}else{e.lineWidth=me(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=r.leftForLtr(p,c),b=r.leftForLtr(r.xPlus(p,1),c-2),v=Na(o.borderRadius);Object.values(v).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Tp(e,{x:w,y:x,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tp(e,{x:b,y:x+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,x,c,l),e.strokeRect(w,x,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,x+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=St(i.bodyFont);let p=f.lineHeight,g=0;const x=$s(i.rtl,this.x,this.width),w=function(E){n.fillText(E,x.x(e.x+g),e.y+p/2),e.y+=p+s},b=x.textAlign(o);let v,_,S,P,j,M,T;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Fc(this,b,i),n.fillStyle=i.bodyColor,xe(this.beforeBody,w),g=a&&b!=="right"?o==="center"?c/2+h:c+2+h:0,P=0,M=r.length;P<M;++P){for(v=r[P],_=this.labelTextColors[P],n.fillStyle=_,xe(v.before,w),S=v.lines,a&&S.length&&(this._drawColorBox(n,e,P,x,i),p=Math.max(f.lineHeight,l)),j=0,T=S.length;j<T;++j)w(S[j]),p=f.lineHeight;xe(v.after,w)}g=0,p=f.lineHeight,xe(this.afterBody,w),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=$s(i.rtl,this.x,this.width);for(e.x=Fc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=St(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=i,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:x}=Na(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+h-x),n.quadraticCurveTo(a+c,l+h,a+c-x,l+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+g,l+h),n.quadraticCurveTo(a,l+h,a,l+h-g),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=pa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=j0(this,e),l=Object.assign({},o,this._size),c=O0(n,e,l),h=D0(e,l,c,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ln(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),kE(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),TE(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Yu(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Yu(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=pa[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}q(Pp,"positioners",pa);var WE={id:"tooltip",_element:Pp,positioners:pa,afterInit(t,e,n){n&&(t.tooltip=new Pp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qO=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function KO(t,e,n,i){const r=t.indexOf(e);if(r===-1)return qO(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const YO=(t,e)=>t===null?null:At(Math.round(t),0,e);function F0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Rp extends _o{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Se(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:KO(i,e,oe(n,e),this._addedLabels),YO(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return F0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}q(Rp,"id","category"),q(Rp,"defaults",{ticks:{callback:F0}});function QO(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:p}=t,g=s||1,x=h-1,{min:w,max:b}=e,v=!Se(o),_=!Se(a),S=!Se(c),P=(b-w)/(f+1);let j=$x((b-w)/x/g)*g,M,T,E,I;if(j<1e-14&&!v&&!_)return[{value:w},{value:b}];I=Math.ceil(b/j)-Math.floor(w/j),I>x&&(j=$x(I*j/x/g)*g),Se(l)||(M=Math.pow(10,l),j=Math.ceil(j*M)/M),r==="ticks"?(T=Math.floor(w/j)*j,E=Math.ceil(b/j)*j):(T=w,E=b),v&&_&&s&&jP((a-o)/s,j/1e3)?(I=Math.round(Math.min((a-o)/j,h)),j=(a-o)/I,T=o,E=a):S?(T=v?o:T,E=_?a:E,I=c-1,j=(E-T)/I):(I=(E-T)/j,Ia(I,Math.round(I),j/1e3)?I=Math.round(I):I=Math.ceil(I));const C=Math.max(Hx(j),Hx(T));M=Math.pow(10,Se(l)?C:l),T=Math.round(T*M)/M,E=Math.round(E*M)/M;let N=0;for(v&&(p&&T!==o?(n.push({value:o}),T<o&&N++,Ia(Math.round((T+N*j)*M)/M,o,V0(o,P,t))&&N++):T<o&&N++);N<I;++N){const R=Math.round((T+N*j)*M)/M;if(_&&R>a)break;n.push({value:R})}return _&&p&&E!==a?n.length&&Ia(n[n.length-1].value,a,V0(a,P,t))?n[n.length-1].value=a:n.push({value:a}):(!_||E===a)&&n.push({value:E}),n}function V0(t,e,{horizontal:n,minRotation:i}){const r=ei(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class XO extends _o{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=io(r),c=io(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=QO(r,s);return e.bounds==="ticks"&&OP(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return mg(e,this.chart.options.locale,this.options.ticks.format)}}class jp extends XO{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=an(e)?e:0,this.max=an(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ei(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}q(jp,"id","linear"),q(jp,"defaults",{ticks:{callback:vE.formatters.numeric}});const Kd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lt=Object.keys(Kd);function z0(t,e){return t-e}function U0(t,e){if(Se(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),an(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ll(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function B0(t,e,n,i){const r=Lt.length;for(let s=Lt.indexOf(t);s<r-1;++s){const o=Kd[Lt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Lt[s]}return Lt[r-1]}function JO(t,e,n,i,r){for(let s=Lt.length-1;s>=Lt.indexOf(n);s--){const o=Lt[s];if(Kd[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Lt[n?Lt.indexOf(n):0]}function ZO(t){for(let e=Lt.indexOf(t)+1,n=Lt.length;e<n;++e)if(Kd[Lt[e]].common)return Lt[e]}function $0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=hg(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function eD(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function H0(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:eD(t,i,r,n)}class nd extends _o{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new uj._date(e.adapters.date);r.init(n),Ta(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:U0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=an(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=an(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=VP(r,s,o);return this._unit=n.unit||(i.autoSkip?B0(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):JO(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ZO(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),H0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=At(n,0,o),i=At(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||B0(s.minUnit,n,i,this._getLabelCapacity(n)),a=oe(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ll(l)||l===!0,h={};let f=n,p,g;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<i;p=+e.add(p,a,o),g++)$0(h,p,x);return(p===i||r.bounds==="ticks"||g===1)&&$0(h,p,x),Object.keys(h).sort(z0).map(w=>+w)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Ae(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],f=c&&a[c],p=i[n],g=c&&f&&p&&p.major;return this._adapter.format(e,r||(g?f:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=ei(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,H0(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(U0(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return UP(e.sort(z0))}}q(nd,"id","time"),q(nd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vc(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Or(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Or(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class W0 extends nd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Vc(n,this.min),this._tableRange=Vc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)h=r[o+1],l=r[o-1],c=r[o],Math.round((h+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Vc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Vc(this._table,i*this._tableRange+this._minPos,!0)}}q(W0,"id","timeseries"),q(W0,"defaults",nd.defaults);const GE="label";function G0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function tD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function qE(t,e){t.labels=e}function KE(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GE;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function nD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GE;const n={labels:[],datasets:[]};return qE(n,t.labels),KE(n,t.datasets,e),n}function iD(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...p}=t,g=O.useRef(null),x=O.useRef(null),w=()=>{g.current&&(x.current=new Nl(g.current,{type:o,data:nD(a,s),options:l&&{...l},plugins:c}),G0(e,x.current))},b=()=>{G0(e,null),x.current&&(x.current.destroy(),x.current=null)};return O.useEffect(()=>{!r&&x.current&&l&&tD(x.current,l)},[r,l]),O.useEffect(()=>{!r&&x.current&&qE(x.current.config.data,a.labels)},[r,a.labels]),O.useEffect(()=>{!r&&x.current&&a.datasets&&KE(x.current.config.data,a.datasets,s)},[r,a.datasets]),O.useEffect(()=>{x.current&&(r?(b(),setTimeout(w)):x.current.update(f))},[r,l,a.labels,a.datasets,f]),O.useEffect(()=>{x.current&&(b(),setTimeout(w))},[o]),O.useEffect(()=>(w(),()=>b()),[]),Rn.createElement("canvas",{ref:g,role:"img",height:n,width:i,...p},h)}const rD=O.forwardRef(iD);function YE(t,e){return Nl.register(e),O.forwardRef((n,i)=>Rn.createElement(rD,{...n,ref:i,type:t}))}const sD=YE("line",lu),oD=YE("pie",Ip);Nl.register(Rp,jp,du,fa,VO,WE,BE);const aD=()=>{const t=[],e=[],n=[],i=[],r=[];for(let s=6;s>=0;s--){const o=new Date;o.setDate(o.getDate()-s),t.push(o.toLocaleDateString("en-US",{month:"short",day:"numeric"})),e.push(Math.floor(Math.random()*600)+1400),n.push(Math.floor(Math.random()*20)+40),i.push(Math.floor(Math.random()*50)+150),r.push(Math.floor(Math.random()*15)+40)}return{dates:t,calories:e,protein:n,carbs:i,fat:r}},ia=aD(),lD={labels:ia.dates,datasets:[{label:"Calories",data:ia.calories,borderColor:"#A0C878",backgroundColor:"#A0C878",yAxisID:"y",tension:.3},{label:"Protein",data:ia.protein,borderColor:"#3B82F6",backgroundColor:"#3B82F6",yAxisID:"y1",tension:.3},{label:"Carbs",data:ia.carbs,borderColor:"#F97316",backgroundColor:"#F97316",yAxisID:"y1",tension:.3},{label:"Fat",data:ia.fat,borderColor:"#8B5CF6",backgroundColor:"#8B5CF6",yAxisID:"y1",tension:.3}]},cD={responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Calories (kcal)"},grid:{drawOnChartArea:!1}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Nutrients (g)"},grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top"}}},uD=()=>d.jsx("div",{children:d.jsx(sD,{options:cD,data:lD,height:80})}),dD=()=>{const{user:t}=fr(),{foodLogs:e}=gi(),[n,i]=O.useState(""),[r,s]=O.useState(0),[o,a]=O.useState(2e3);O.useEffect(()=>{const h=new Date().toISOString().split("T")[0];i(h),t!=null&&t.calorieGoal&&a(t.calorieGoal);const p=e.filter(g=>g.date===h).reduce((g,x)=>g+x.calories,0);s(p)},[e,t]);const l=e.sort((c,h)=>new Date(h.date).getTime()-new Date(c.date).getTime()).slice(0,5);return d.jsxs("div",{children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Track your nutrition progress and analyze your meals"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsxs("div",{className:"nutrify-card bg-gradient-to-br from-nutrify-secondary to-nutrify-accent",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Calories Today"}),d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsx("p",{className:"text-3xl font-bold text-white",children:r}),d.jsxs("p",{className:"text-sm text-white opacity-90",children:["of ",o," kcal"]})]}),d.jsx("div",{className:"mt-2 bg-white bg-opacity-30 rounded-full h-2.5",children:d.jsx("div",{className:"bg-white h-2.5 rounded-full",style:{width:`${Math.min(100,r/o*100)}%`}})})]}),d.jsx(df,{title:"Protein",value:e.filter(c=>c.date===n).reduce((c,h)=>c+h.protein,0),unit:"g",icon:Qh,color:"bg-blue-500"}),d.jsx(df,{title:"Carbs",value:e.filter(c=>c.date===n).reduce((c,h)=>c+h.carbs,0),unit:"g",icon:Qh,color:"bg-orange-500"}),d.jsx(df,{title:"Fat",value:e.filter(c=>c.date===n).reduce((c,h)=>c+h.fat,0),unit:"g",icon:Qh,color:"bg-purple-500"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[d.jsxs(ve,{to:"/analysis",className:"nutrify-btn-primary flex items-center",children:[d.jsx(Gu,{size:18,className:"mr-2"}),"Analyze Food"]}),d.jsxs(ve,{to:"/meal-log",className:"nutrify-btn-secondary flex items-center",children:[d.jsx(tE,{size:18,className:"mr-2"}),"Log Meal"]}),d.jsxs(ve,{to:"/chatbot",className:"nutrify-btn-outline flex items-center",children:[d.jsx(og,{size:18,className:"mr-2"}),"Ask Nutrition Assistant"]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[d.jsxs("div",{className:"nutrify-card",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Nutrition Trends"}),d.jsxs("select",{className:"text-sm border border-gray-300 rounded-md p-1",children:[d.jsx("option",{value:"7days",children:"Last 7 days"}),d.jsx("option",{value:"30days",children:"Last 30 days"}),d.jsx("option",{value:"90days",children:"Last 90 days"})]})]}),d.jsx(uD,{})]}),d.jsxs("div",{className:"nutrify-card",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Nutrition Summary"}),d.jsx(JN,{date:n})]})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"nutrify-card",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Foods"}),d.jsx(ve,{to:"/meal-log",className:"text-sm text-nutrify-accent hover:text-green-700",children:"View all"})]}),l.length>0?d.jsx("div",{className:"space-y-4",children:l.map(c=>d.jsx(ZN,{food:c},c.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:"No food logs yet"}),d.jsxs(ve,{to:"/analysis",className:"nutrify-btn-primary inline-flex items-center",children:[d.jsx(Gu,{size:18,className:"mr-2"}),"Analyze Your First Meal"]})]})]}),d.jsxs("div",{className:"nutrify-card bg-gradient-to-br from-nutrify-light to-nutrify-secondary",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"bg-white p-2 rounded-full mr-3",children:d.jsx(aN,{size:20,className:"text-nutrify-accent"})}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Health Insights"})]}),d.jsx("p",{className:"text-gray-700 mb-4",children:"Based on your recent data, you're doing well on protein intake but could improve your fiber consumption."}),d.jsx(ve,{to:"/tools",className:"text-nutrify-accent font-medium hover:text-green-700",children:"View health recommendations "})]})]})]})]})},df=({title:t,value:e,unit:n,icon:i,color:r})=>d.jsxs("div",{className:"nutrify-card",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500",children:t}),d.jsx("div",{className:`${r} p-1.5 rounded-full text-white`,children:d.jsx(i,{size:14})})]}),d.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.toFixed(1),d.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:n})]})]}),Op=[{id:"1",name:"Demo User",email:"demo@nutrify.com",password:"nutrify123",age:32,gender:"male",weight:75,height:175,calorieGoal:2200}],hD=(t,e)=>new Promise((n,i)=>{setTimeout(()=>{const r=Op.find(s=>s.email===t);if(r&&r.password===e){const{password:s,...o}=r;n(o)}else i(new Error("Invalid credentials"))},1e3)}),fD=t=>new Promise((e,n)=>{setTimeout(()=>{if(Op.some(o=>o.email===t.email)){n(new Error("Email already in use"));return}const i={id:Date.now().toString(),...t};Op.push(i);const{password:r,...s}=i;e(s)},1500)}),pD=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(""),[r,s]=O.useState(!1),[o,a]=O.useState(null),[l,c]=O.useState(!1),{login:h}=fr(),f=$d(),p=async x=>{x.preventDefault(),a(null),c(!0);try{const w=await hD(t,n);h(w),f("/dashboard")}catch{a("Invalid email or password. Please try again.")}finally{c(!1)}},g=()=>{s(!r)};return d.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center bg-nutrify-light",children:d.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(Tl,{className:"h-10 w-10 text-nutrify-accent"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back to Nutrify"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Sign in to your account"})]}),o&&d.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md mb-6 text-sm",children:o}),d.jsxs("form",{onSubmit:p,children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),d.jsx("input",{id:"email",type:"email",value:t,onChange:x=>e(x.target.value),placeholder:"you@example.com",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsx("a",{href:"#",className:"text-sm text-nutrify-accent hover:text-green-700",children:"Forgot password?"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",type:r?"text":"password",value:n,onChange:x=>i(x.target.value),placeholder:"",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent pr-10"}),d.jsx("button",{type:"button",onClick:g,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:r?d.jsx(Z1,{size:20}):d.jsx(eE,{size:20})})]})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full nutrify-btn-primary py-2 px-4 flex justify-center items-center",children:l?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",d.jsx(ve,{to:"/register",className:"text-nutrify-accent hover:text-green-700 font-medium",children:"Create an account"})]})}),d.jsx("div",{className:"mt-8 p-3 bg-gray-50 rounded-md",children:d.jsxs("p",{className:"text-sm text-gray-700 text-center",children:[d.jsx("strong",{children:"Demo Account:"})," Try using ",d.jsx("br",{}),"Email: ",d.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"demo@nutrify.com"})," ",d.jsx("br",{}),"Password: ",d.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded",children:"nutrify123"})]})})]})})},mD=()=>{const[t,e]=O.useState(1),[n,i]=O.useState({name:"",email:"",password:"",confirmPassword:"",age:"",gender:"",weight:"",height:""}),[r,s]=O.useState(!1),[o,a]=O.useState({}),[l,c]=O.useState(!1),{login:h}=fr(),f=$d(),p=()=>{const S={};return n.name.trim()||(S.name="Name is required"),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(S.email="Email is invalid"):S.email="Email is required",n.password?n.password.length<8&&(S.password="Password must be at least 8 characters"):S.password="Password is required",n.password!==n.confirmPassword&&(S.confirmPassword="Passwords do not match"),a(S),Object.keys(S).length===0},g=()=>{const S={};return n.age&&(isNaN(Number(n.age))||Number(n.age)<0||Number(n.age)>120)&&(S.age="Please enter a valid age (0-120)"),n.weight&&(isNaN(Number(n.weight))||Number(n.weight)<=0)&&(S.weight="Please enter a valid weight"),n.height&&(isNaN(Number(n.height))||Number(n.height)<=0)&&(S.height="Please enter a valid height"),a(S),Object.keys(S).length===0},x=()=>{t===1&&p()&&e(2)},w=()=>{e(1)},b=S=>{const{name:P,value:j}=S.target;i({...n,[P]:j}),o[P]&&a({...o,[P]:""})},v=async S=>{if(S.preventDefault(),t===2&&g()){c(!0);try{const P={...n,age:n.age?parseInt(n.age):void 0,weight:n.weight?parseFloat(n.weight):void 0,height:n.height?parseFloat(n.height):void 0},j=await fD(P);h(j),f("/dashboard")}catch{a({form:"Registration failed. Please try again later."})}finally{c(!1)}}},_=()=>{s(!r)};return d.jsx("div",{className:"pt-16 min-h-screen flex items-center justify-center bg-nutrify-light",children:d.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(Tl,{className:"h-10 w-10 text-nutrify-accent"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create your Nutrify account"}),d.jsx("p",{className:"text-gray-600 mt-1",children:t===1?"Fill in your account details":"Tell us about yourself"})]}),o.form&&d.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md mb-6 text-sm",children:o.form}),d.jsx("form",{onSubmit:v,children:t===1?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),d.jsx("input",{id:"name",name:"name",type:"text",value:n.name,onChange:b,placeholder:"John Doe",className:`w-full px-4 py-2 border rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent ${o.name?"border-red-500":"border-gray-300"}`}),o.name&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),d.jsx("input",{id:"email",name:"email",type:"email",value:n.email,onChange:b,placeholder:"you@example.com",className:`w-full px-4 py-2 border rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent ${o.email?"border-red-500":"border-gray-300"}`}),o.email&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",name:"password",type:r?"text":"password",value:n.password,onChange:b,placeholder:"",className:`w-full px-4 py-2 border rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent pr-10 ${o.password?"border-red-500":"border-gray-300"}`}),d.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:r?d.jsx(Z1,{size:20}):d.jsx(eE,{size:20})})]}),o.password&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),d.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:n.confirmPassword,onChange:b,placeholder:"",className:`w-full px-4 py-2 border rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent ${o.confirmPassword?"border-red-500":"border-gray-300"}`}),o.confirmPassword&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirmPassword})]}),d.jsxs("button",{type:"button",onClick:x,className:"w-full nutrify-btn-primary py-2 px-4 flex justify-center items-center",children:["Next Step ",d.jsx(QA,{size:20,className:"ml-1"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:["Age ",d.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),d.jsx("input",{id:"age",name:"age",type:"number",value:n.age,onChange:b,placeholder:"30",className:`w-full px-4 py-2 border rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent ${o.age?"border-red-500":"border-gray-300"}`}),o.age&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.age})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:["Gender ",d.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),d.jsxs("select",{id:"gender",name:"gender",value:n.gender,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent",children:[d.jsx("option",{value:"",children:"Select gender"}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"other",children:"Other"}),d.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-1",children:["Weight (kg) ",d.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),d.jsx("input",{id:"weight",name:"weight",type:"number",step:"0.1",value:n.weight,onChange:b,placeholder:"70",className:`w-full px-4 py-2 border rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent ${o.weight?"border-red-500":"border-gray-300"}`}),o.weight&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.weight})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 mb-1",children:["Height (cm) ",d.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),d.jsx("input",{id:"height",name:"height",type:"number",step:"0.1",value:n.height,onChange:b,placeholder:"175",className:`w-full px-4 py-2 border rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent ${o.height?"border-red-500":"border-gray-300"}`}),o.height&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.height})]}),d.jsxs("div",{className:"flex justify-between space-x-4",children:[d.jsxs("button",{type:"button",onClick:w,className:"nutrify-btn-outline flex-1 py-2 px-4 flex justify-center items-center",children:[d.jsx(YA,{size:20,className:"mr-1"})," Back"]}),d.jsx("button",{type:"submit",disabled:l,className:"nutrify-btn-primary flex-1 py-2 px-4 flex justify-center items-center",children:l?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Account"})]})]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",d.jsx(ve,{to:"/login",className:"text-nutrify-accent hover:text-green-700 font-medium",children:"Sign in"})]})})]})})};var QE={exports:{}},gD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yD=gD,vD=yD;function XE(){}function JE(){}JE.resetWarningCache=XE;var xD=function(){function t(i,r,s,o,a,l){if(l!==vD){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JE,resetWarningCache:XE};return n.PropTypes=n,n};QE.exports=xD();var _D=QE.exports;const be=om(_D);function kg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function ss(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(i.next(h))}catch(f){o(f)}}function l(h){try{c(i.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}const wD=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function oo(t,e,n){const i=bD(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof i.path!="string"&&q0(i,"path",s),q0(i,"relativePath",s),i}function bD(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const i=e.split(".").pop().toLowerCase(),r=wD.get(i);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function q0(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const ED=[".DS_Store","Thumbs.db"];function SD(t){return ss(this,void 0,void 0,function*(){return id(t)&&kD(t.dataTransfer)?AD(t.dataTransfer,t.type):TD(t)?ID(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?CD(t):[]})}function kD(t){return id(t)}function TD(t){return id(t)&&id(t.target)}function id(t){return typeof t=="object"&&t!==null}function ID(t){return Dp(t.target.files).map(e=>oo(e))}function CD(t){return ss(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>oo(n))})}function AD(t,e){return ss(this,void 0,void 0,function*(){if(t.items){const n=Dp(t.items).filter(r=>r.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(ND));return K0(ZE(i))}return K0(Dp(t.files).map(n=>oo(n)))})}function K0(t){return t.filter(e=>ED.indexOf(e.name)===-1)}function Dp(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function ND(t){if(typeof t.webkitGetAsEntry!="function")return Y0(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?eS(e):Y0(t,e)}function ZE(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?ZE(n):[n]],[])}function Y0(t,e){return ss(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,oo(o)}}const i=t.getAsFile();if(!i)throw new Error(`${t} is not a File`);return oo(i,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function PD(t){return ss(this,void 0,void 0,function*(){return t.isDirectory?eS(t):RD(t)})}function eS(t){const e=t.createReader();return new Promise((n,i)=>{const r=[];function s(){e.readEntries(o=>ss(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(PD));r.push(a),s()}else try{const a=yield Promise.all(r);n(a)}catch(a){i(a)}}),o=>{i(o)})}s()})}function RD(t){return ss(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(i=>{const r=oo(i,t.fullPath);e(r)},i=>{n(i)})})})}var hf=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0};function Q0(t){return DD(t)||OD(t)||nS(t)||jD()}function jD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OD(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DD(t){if(Array.isArray(t))return Mp(t)}function X0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function J0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X0(Object(n),!0).forEach(function(i){tS(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function tS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fl(t,e){return FD(t)||LD(t,e)||nS(t,e)||MD()}function MD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nS(t,e){if(t){if(typeof t=="string")return Mp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mp(t,e)}}function Mp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function LD(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function FD(t){if(Array.isArray(t))return t}var VD=typeof hf=="function"?hf:hf.default,zD="file-invalid-type",UD="file-too-large",BD="file-too-small",$D="too-many-files",HD=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:zD,message:"File type must be ".concat(i)}},Z0=function(e){return{code:UD,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},e_=function(e){return{code:BD,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},WD={code:$D,message:"Too many files"};function iS(t,e){var n=t.type==="application/x-moz-file"||VD(t,e);return[n,n?null:HD(e)]}function rS(t,e,n){if(Nr(t.size))if(Nr(e)&&Nr(n)){if(t.size>n)return[!1,Z0(n)];if(t.size<e)return[!1,e_(e)]}else{if(Nr(e)&&t.size<e)return[!1,e_(e)];if(Nr(n)&&t.size>n)return[!1,Z0(n)]}return[!0,null]}function Nr(t){return t!=null}function GD(t){var e=t.files,n=t.accept,i=t.minSize,r=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=iS(l,n),h=fl(c,1),f=h[0],p=rS(l,i,r),g=fl(p,1),x=g[0],w=a?a(l):null;return f&&x&&!w})}function rd(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function zc(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function t_(t){t.preventDefault()}function qD(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function KD(t){return t.indexOf("Edge/")!==-1}function YD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return qD(t)||KD(t)}function kn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e.some(function(a){return!rd(i)&&a&&a.apply(void 0,[i].concat(s)),rd(i)})}}function QD(){return"showOpenFilePicker"in window}function XD(t){if(Nr(t)){var e=Object.entries(t).filter(function(n){var i=fl(n,2),r=i[0],s=i[1],o=!0;return sS(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(oS))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,i){var r=fl(i,2),s=r[0],o=r[1];return J0(J0({},n),{},tS({},s,o))},{});return[{description:"Files",accept:e}]}return t}function JD(t){if(Nr(t))return Object.entries(t).reduce(function(e,n){var i=fl(n,2),r=i[0],s=i[1];return[].concat(Q0(e),[r],Q0(s))},[]).filter(function(e){return sS(e)||oS(e)}).join(",")}function ZD(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function eM(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function sS(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function oS(t){return/^.*\.[\w]+$/.test(t)}var tM=["children"],nM=["open"],iM=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],rM=["refKey","onChange","onClick"];function sM(t){return lM(t)||aM(t)||aS(t)||oM()}function oM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lM(t){if(Array.isArray(t))return Lp(t)}function ff(t,e){return dM(t)||uM(t,e)||aS(t,e)||cM()}function cM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aS(t,e){if(t){if(typeof t=="string")return Lp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lp(t,e)}}function Lp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function uM(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,o,a;try{for(n=n.call(t);!(r=(o=n.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return i}}function dM(t){if(Array.isArray(t))return t}function n_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(n),!0).forEach(function(i){Fp(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Fp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sd(t,e){if(t==null)return{};var n=hM(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function hM(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Tg=O.forwardRef(function(t,e){var n=t.children,i=sd(t,tM),r=Ig(i),s=r.open,o=sd(r,nM);return O.useImperativeHandle(e,function(){return{open:s}},[s]),Rn.createElement(O.Fragment,null,n(Oe(Oe({},o),{},{open:s})))});Tg.displayName="Dropzone";var lS={disabled:!1,getFilesFromEvent:SD,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Tg.defaultProps=lS;Tg.propTypes={children:be.func,accept:be.objectOf(be.arrayOf(be.string)),multiple:be.bool,preventDropOnDocument:be.bool,noClick:be.bool,noKeyboard:be.bool,noDrag:be.bool,noDragEventsBubbling:be.bool,minSize:be.number,maxSize:be.number,maxFiles:be.number,disabled:be.bool,getFilesFromEvent:be.func,onFileDialogCancel:be.func,onFileDialogOpen:be.func,useFsAccessApi:be.bool,autoFocus:be.bool,onDragEnter:be.func,onDragLeave:be.func,onDragOver:be.func,onDrop:be.func,onDropAccepted:be.func,onDropRejected:be.func,onError:be.func,validator:be.func};var Vp={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ig(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Oe(Oe({},lS),t),n=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,h=e.onDragLeave,f=e.onDragOver,p=e.onDrop,g=e.onDropAccepted,x=e.onDropRejected,w=e.onFileDialogCancel,b=e.onFileDialogOpen,v=e.useFsAccessApi,_=e.autoFocus,S=e.preventDropOnDocument,P=e.noClick,j=e.noKeyboard,M=e.noDrag,T=e.noDragEventsBubbling,E=e.onError,I=e.validator,C=O.useMemo(function(){return JD(n)},[n]),N=O.useMemo(function(){return XD(n)},[n]),R=O.useMemo(function(){return typeof b=="function"?b:i_},[b]),A=O.useMemo(function(){return typeof w=="function"?w:i_},[w]),Z=O.useRef(null),Q=O.useRef(null),fe=O.useReducer(fM,Vp),ae=ff(fe,2),U=ae[0],$=ae[1],Y=U.isFocused,ge=U.isFileDialogActive,te=O.useRef(typeof window<"u"&&window.isSecureContext&&v&&QD()),ye=function(){!te.current&&ge&&setTimeout(function(){if(Q.current){var K=Q.current.files;K.length||($({type:"closeDialog"}),A())}},300)};O.useEffect(function(){return window.addEventListener("focus",ye,!1),function(){window.removeEventListener("focus",ye,!1)}},[Q,ge,A,te]);var Pe=O.useRef([]),Je=function(K){Z.current&&Z.current.contains(K.target)||(K.preventDefault(),Pe.current=[])};O.useEffect(function(){return S&&(document.addEventListener("dragover",t_,!1),document.addEventListener("drop",Je,!1)),function(){S&&(document.removeEventListener("dragover",t_),document.removeEventListener("drop",Je))}},[Z,S]),O.useEffect(function(){return!i&&_&&Z.current&&Z.current.focus(),function(){}},[Z,_,i]);var Te=O.useCallback(function(H){E?E(H):console.error(H)},[E]),Qt=O.useCallback(function(H){H.preventDefault(),H.persist(),xi(H),Pe.current=[].concat(sM(Pe.current),[H.target]),zc(H)&&Promise.resolve(r(H)).then(function(K){if(!(rd(H)&&!T)){var ie=K.length,le=ie>0&&GD({files:K,accept:C,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:I}),Ze=ie>0&&!le;$({isDragAccept:le,isDragReject:Ze,isDragActive:!0,type:"setDraggedFiles"}),c&&c(H)}}).catch(function(K){return Te(K)})},[r,c,Te,T,C,o,s,a,l,I]),Bl=O.useCallback(function(H){H.preventDefault(),H.persist(),xi(H);var K=zc(H);if(K&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return K&&f&&f(H),!1},[f,T]),$l=O.useCallback(function(H){H.preventDefault(),H.persist(),xi(H);var K=Pe.current.filter(function(le){return Z.current&&Z.current.contains(le)}),ie=K.indexOf(H.target);ie!==-1&&K.splice(ie,1),Pe.current=K,!(K.length>0)&&($({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),zc(H)&&h&&h(H))},[Z,h,T]),zn=O.useCallback(function(H,K){var ie=[],le=[];H.forEach(function(Ze){var _i=iS(Ze,C),Bn=ff(_i,2),Co=Bn[0],$n=Bn[1],ds=rS(Ze,o,s),mr=ff(ds,2),gr=mr[0],Ao=mr[1],No=I?I(Ze):null;if(Co&&gr&&!No)ie.push(Ze);else{var yr=[$n,Ao];No&&(yr=yr.concat(No)),le.push({file:Ze,errors:yr.filter(function(Wl){return Wl})})}}),(!a&&ie.length>1||a&&l>=1&&ie.length>l)&&(ie.forEach(function(Ze){le.push({file:Ze,errors:[WD]})}),ie.splice(0)),$({acceptedFiles:ie,fileRejections:le,isDragReject:le.length>0,type:"setFiles"}),p&&p(ie,le,K),le.length>0&&x&&x(le,K),ie.length>0&&g&&g(ie,K)},[$,a,C,o,s,l,p,g,x,I]),Un=O.useCallback(function(H){H.preventDefault(),H.persist(),xi(H),Pe.current=[],zc(H)&&Promise.resolve(r(H)).then(function(K){rd(H)&&!T||zn(K,H)}).catch(function(K){return Te(K)}),$({type:"reset"})},[r,zn,Te,T]),bn=O.useCallback(function(){if(te.current){$({type:"openDialog"}),R();var H={multiple:a,types:N};window.showOpenFilePicker(H).then(function(K){return r(K)}).then(function(K){zn(K,null),$({type:"closeDialog"})}).catch(function(K){ZD(K)?(A(K),$({type:"closeDialog"})):eM(K)?(te.current=!1,Q.current?(Q.current.value=null,Q.current.click()):Te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Te(K)});return}Q.current&&($({type:"openDialog"}),R(),Q.current.value=null,Q.current.click())},[$,R,A,v,zn,Te,N,a]),ls=O.useCallback(function(H){!Z.current||!Z.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),bn())},[Z,bn]),cs=O.useCallback(function(){$({type:"focus"})},[]),us=O.useCallback(function(){$({type:"blur"})},[]),ko=O.useCallback(function(){P||(YD()?setTimeout(bn,0):bn())},[P,bn]),vi=function(K){return i?null:K},To=function(K){return j?null:vi(K)},pr=function(K){return M?null:vi(K)},xi=function(K){T&&K.stopPropagation()},Hl=O.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=H.refKey,ie=K===void 0?"ref":K,le=H.role,Ze=H.onKeyDown,_i=H.onFocus,Bn=H.onBlur,Co=H.onClick,$n=H.onDragEnter,ds=H.onDragOver,mr=H.onDragLeave,gr=H.onDrop,Ao=sd(H,iM);return Oe(Oe(Fp({onKeyDown:To(kn(Ze,ls)),onFocus:To(kn(_i,cs)),onBlur:To(kn(Bn,us)),onClick:vi(kn(Co,ko)),onDragEnter:pr(kn($n,Qt)),onDragOver:pr(kn(ds,Bl)),onDragLeave:pr(kn(mr,$l)),onDrop:pr(kn(gr,Un)),role:typeof le=="string"&&le!==""?le:"presentation"},ie,Z),!i&&!j?{tabIndex:0}:{}),Ao)}},[Z,ls,cs,us,ko,Qt,Bl,$l,Un,j,M,i]),ah=O.useCallback(function(H){H.stopPropagation()},[]),Io=O.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=H.refKey,ie=K===void 0?"ref":K,le=H.onChange,Ze=H.onClick,_i=sd(H,rM),Bn=Fp({accept:C,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:vi(kn(le,Un)),onClick:vi(kn(Ze,ah)),tabIndex:-1},ie,Q);return Oe(Oe({},Bn),_i)}},[Q,n,a,Un,i]);return Oe(Oe({},U),{},{isFocused:Y&&!i,getRootProps:Hl,getInputProps:Io,rootRef:Z,inputRef:Q,open:vi(bn)})}function fM(t,e){switch(e.type){case"focus":return Oe(Oe({},t),{},{isFocused:!0});case"blur":return Oe(Oe({},t),{},{isFocused:!1});case"openDialog":return Oe(Oe({},Vp),{},{isFileDialogActive:!0});case"closeDialog":return Oe(Oe({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Oe(Oe({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Oe(Oe({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Oe({},Vp);default:return t}}function i_(){}const pM=()=>{};var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},mM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),i.push(n[h],n[f],n[p],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new gM;const p=s<<2|a>>4;if(i.push(p),c!==64){const g=a<<4&240|c>>2;if(i.push(g),f!==64){const x=c<<6&192|f;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yM=function(t){const e=cS(t);return uS.encodeByteArray(e,!0)},od=function(t){return yM(t).replace(/\./g,"")},dS=function(t){try{return uS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=()=>vM().__FIREBASE_DEFAULTS__,_M=()=>{if(typeof process>"u"||typeof r_>"u")return;const t=r_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dS(t[1]);return e&&JSON.parse(e)},Yd=()=>{try{return pM()||xM()||_M()||wM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hS=t=>{var e,n;return(n=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bM=t=>{const e=hS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},fS=()=>{var t;return(t=Yd())===null||t===void 0?void 0:t.config},pS=t=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){return t.endsWith(".cloudworkstations.dev")}async function mS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[od(JSON.stringify(n)),od(JSON.stringify(o)),""].join(".")}const Pa={};function kM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pa))Pa[e]?t.emulator.push(e):t.prod.push(e);return t}function TM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let s_=!1;function gS(t,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||Pa[t]===e||Pa[t]||s_)return;Pa[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=kM().prod.length>0;function o(){const p=document.getElementById(i);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{s_=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=TM(i),g=n("text"),x=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;a(S),h(b,w);const P=c();l(_,v),S.append(_,x,b,P),document.body.appendChild(S)}s?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function CM(){var t;const e=(t=Yd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RM(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jM(){return!CM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OM(){try{return typeof indexedDB=="object"}catch{return!1}}function DM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="FirebaseError";class yi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=MM,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?LM(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new yi(r,a,i)}}function LM(t,e){return t.replace(FM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const FM=/\{\$([^}]+)}/g;function VM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(o_(s)&&o_(o)){if(!Yr(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function o_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zM(t,e){const n=new UM(t,e);return n.subscribe.bind(n)}class UM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BM(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=pf),r.error===void 0&&(r.error=pf),r.complete===void 0&&(r.complete=pf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new EM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WM(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HM(t){return t===Ar?void 0:t}function WM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $M(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const qM={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},KM=se.INFO,YM={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},QM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=YM[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=KM,this._logHandler=QM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const XM=(t,e)=>e.some(n=>t instanceof n);let a_,l_;function JM(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZM(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yS=new WeakMap,zp=new WeakMap,vS=new WeakMap,mf=new WeakMap,Ag=new WeakMap;function e4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yS.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function t4(t){if(zp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zp.set(t,e)}let Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n4(t){Up=t(Up)}function i4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gf(this),e,...n);return vS.set(i,e.sort?e.sort():[e]),Ji(i)}:ZM().includes(t)?function(...e){return t.apply(gf(this),e),Ji(yS.get(this))}:function(...e){return Ji(t.apply(gf(this),e))}}function r4(t){return typeof t=="function"?i4(t):(t instanceof IDBTransaction&&t4(t),XM(t,JM())?new Proxy(t,Up):t)}function Ji(t){if(t instanceof IDBRequest)return e4(t);if(mf.has(t))return mf.get(t);const e=r4(t);return e!==t&&(mf.set(t,e),Ag.set(e,t)),e}const gf=t=>Ag.get(t);function s4(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Ji(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ji(o.result),l.oldVersion,l.newVersion,Ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const o4=["get","getKey","getAll","getAllKeys","count"],a4=["put","add","delete","clear"],yf=new Map;function c_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=a4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||o4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return yf.set(e,s),s}n4(t=>({...t,get:(e,n,i)=>c_(e,n)||t.get(e,n,i),has:(e,n)=>!!c_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function c4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",u_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Cg("@firebase/app"),u4="@firebase/app-compat",d4="@firebase/analytics-compat",h4="@firebase/analytics",f4="@firebase/app-check-compat",p4="@firebase/app-check",m4="@firebase/auth",g4="@firebase/auth-compat",y4="@firebase/database",v4="@firebase/data-connect",x4="@firebase/database-compat",_4="@firebase/functions",w4="@firebase/functions-compat",b4="@firebase/installations",E4="@firebase/installations-compat",S4="@firebase/messaging",k4="@firebase/messaging-compat",T4="@firebase/performance",I4="@firebase/performance-compat",C4="@firebase/remote-config",A4="@firebase/remote-config-compat",N4="@firebase/storage",P4="@firebase/storage-compat",R4="@firebase/firestore",j4="@firebase/ai",O4="@firebase/firestore-compat",D4="firebase",M4="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",L4={[Bp]:"fire-core",[u4]:"fire-core-compat",[h4]:"fire-analytics",[d4]:"fire-analytics-compat",[p4]:"fire-app-check",[f4]:"fire-app-check-compat",[m4]:"fire-auth",[g4]:"fire-auth-compat",[y4]:"fire-rtdb",[v4]:"fire-data-connect",[x4]:"fire-rtdb-compat",[_4]:"fire-fn",[w4]:"fire-fn-compat",[b4]:"fire-iid",[E4]:"fire-iid-compat",[S4]:"fire-fcm",[k4]:"fire-fcm-compat",[T4]:"fire-perf",[I4]:"fire-perf-compat",[C4]:"fire-rc",[A4]:"fire-rc-compat",[N4]:"fire-gcs",[P4]:"fire-gcs-compat",[R4]:"fire-fst",[O4]:"fire-fst-compat",[j4]:"fire-vertex","fire-js":"fire-js",[D4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,F4=new Map,Hp=new Map;function d_(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(Hp.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,t);for(const n of ad.values())d_(n,t);for(const n of F4.values())d_(n,t);return!0}function Ng(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Rl("app","Firebase",V4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=M4;function xS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$p,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Zi.create("bad-app-name",{appName:String(r)});if(n||(n=fS()),!n)throw Zi.create("no-options");const s=ad.get(r);if(s){if(Yr(n,s.options)&&Yr(i,s.config))return s;throw Zi.create("duplicate-app",{appName:r})}const o=new GM(r);for(const l of Hp.values())o.addComponent(l);const a=new z4(n,i,o);return ad.set(r,a),a}function _S(t=$p){const e=ad.get(t);if(!e&&t===$p&&fS())return xS();if(!e)throw Zi.create("no-app",{appName:t});return e}function er(t,e,n){var i;let r=(i=L4[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(a.join(" "));return}ao(new Qr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="firebase-heartbeat-database",B4=1,pl="firebase-heartbeat-store";let vf=null;function wS(){return vf||(vf=s4(U4,B4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),vf}async function $4(t){try{const n=(await wS()).transaction(pl),i=await n.objectStore(pl).get(bS(t));return await n.done,i}catch(e){if(e instanceof yi)ui.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function h_(t,e){try{const i=(await wS()).transaction(pl,"readwrite");await i.objectStore(pl).put(e,bS(t)),await i.done}catch(n){if(n instanceof yi)ui.warn(n.message);else{const i=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(i.message)}}}function bS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=1024,W4=30;class G4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>W4){const o=Y4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ui.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f_(),{heartbeatsToSend:i,unsentEntries:r}=q4(this._heartbeatsCache.heartbeats),s=od(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ui.warn(n),""}}}function f_(){return new Date().toISOString().substring(0,10)}function q4(t,e=H4){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),p_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),p_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class K4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OM()?DM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p_(t){return od(JSON.stringify({version:2,heartbeats:t})).length}function Y4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){ao(new Qr("platform-logger",e=>new l4(e),"PRIVATE")),ao(new Qr("heartbeat",e=>new G4(e),"PRIVATE")),er(Bp,u_,t),er(Bp,u_,"esm2017"),er("fire-js","")}Q4("");var X4="firebase",J4="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(X4,J4,"app");function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z4=ES,SS=new Rl("auth","Firebase",ES());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Cg("@firebase/auth");function eL(t,...e){ld.logLevel<=se.WARN&&ld.warn(`Auth (${wo}): ${t}`,...e)}function hu(t,...e){ld.logLevel<=se.ERROR&&ld.error(`Auth (${wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,...e){throw Pg(t,...e)}function Dn(t,...e){return Pg(t,...e)}function kS(t,e,n){const i=Object.assign(Object.assign({},Z4()),{[e]:n});return new Rl("auth","Firebase",i).create(e,{appName:t.name})}function Vr(t){return kS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SS.create(t,...e)}function J(t,e,...n){if(!t)throw Pg(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hu(e),new Error(e)}function hi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tL(){return m_()==="http:"||m_()==="https:"}function m_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tL()||NM()||"connection"in navigator)?navigator.onLine:!0}function iL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=IM()||PM()}get(){return nL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oL=new Ol(3e4,6e4);function jg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bo(t,e,n,i,r={}){return IS(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=jl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return AM()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(c.credentials="include"),TS.fetch()(await CS(t,t.config.apiHost,n,a),c)})}async function IS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},rL),e);try{const r=new lL(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uc(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kS(t,h,c);di(t,h)}}catch(r){if(r instanceof yi)throw r;di(t,"network-request-failed",{message:String(r)})}}async function aL(t,e,n,i,r={}){const s=await bo(t,e,n,i,r);return"mfaPendingCredential"in s&&di(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function CS(t,e,n,i){const r=`${e}${n}?${i}`,s=t,o=s.config.emulator?Rg(t.config,r):`${t.config.apiScheme}://${r}`;return sL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class lL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Dn(this.auth,"network-request-failed")),oL.get())})}}function Uc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Dn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return bo(t,"POST","/v1/accounts:delete",e)}async function cd(t,e){return bo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uL(t,e=!1){const n=wn(t),i=await n.getIdToken(e),r=Og(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ra(xf(r.auth_time)),issuedAtTime:Ra(xf(r.iat)),expirationTime:Ra(xf(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function Og(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return hu("JWT malformed, contained fewer than 3 sections"),null;try{const r=dS(n);return r?JSON.parse(r):(hu("Failed to decode base64 JWT payload"),null)}catch(r){return hu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function g_(t){const e=Og(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof yi&&dL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function dL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ml(t,cd(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AS(s.providerUserInfo):[],a=pL(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function fL(t){const e=wn(t);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function AS(t){return t.map(e=>{var{providerId:n}=e,i=kg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){const n=await IS(t,{},async()=>{const i=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=await CS(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TS.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gL(t,e){return bo(t,"POST","/v2/accounts:revokeToken",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=g_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await mL(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ws;return i&&(J(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ml(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uL(this,e)}reload(){return fL(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ud(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await ml(this,cL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:P,isAnonymous:j,providerData:M,stsTokenManager:T}=n;J(S&&T,e,"internal-error");const E=Ws.fromJSON(this.name,T);J(typeof S=="string",e,"internal-error"),ki(f,e.name),ki(p,e.name),J(typeof P=="boolean",e,"internal-error"),J(typeof j=="boolean",e,"internal-error"),ki(g,e.name),ki(x,e.name),ki(w,e.name),ki(b,e.name),ki(v,e.name),ki(_,e.name);const I=new gn({uid:S,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:j,photoURL:x,phoneNumber:g,tenantId:w,stsTokenManager:E,createdAt:v,lastLoginAt:_});return M&&Array.isArray(M)&&(I.providerData=M.map(C=>Object.assign({},C))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ws;r.updateFromServerResponse(n);const s=new gn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ud(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];J(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?AS(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Ws;a.updateFromIdToken(i);const l=new gn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Gp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function ni(t){hi(t instanceof Function,"Expected a class definition");let e=y_.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NS.type="NONE";const v_=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t,e,n){return`firebase:${t}:${e}:${n}`}class Gs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=fu(this.userKey,r.apiKey,s),this.fullPersistenceKey=fu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cd(this.auth,{idToken:e}).catch(()=>{});return n?gn._fromGetAccountInfoResponse(this.auth,n,e):null}return gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Gs(ni(v_),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||ni(v_);const o=fu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const p=await cd(e,{idToken:h}).catch(()=>{});if(!p)break;f=await gn._fromGetAccountInfoResponse(e,p,h)}else f=gn._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Gs(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Gs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MS(e))return"Blackberry";if(LS(e))return"Webos";if(RS(e))return"Safari";if((e.includes("chrome/")||jS(e))&&!e.includes("edge/"))return"Chrome";if(DS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function PS(t=Tt()){return/firefox\//i.test(t)}function RS(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jS(t=Tt()){return/crios\//i.test(t)}function OS(t=Tt()){return/iemobile/i.test(t)}function DS(t=Tt()){return/android/i.test(t)}function MS(t=Tt()){return/blackberry/i.test(t)}function LS(t=Tt()){return/webos/i.test(t)}function Dg(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yL(t=Tt()){var e;return Dg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vL(){return RM()&&document.documentMode===10}function FS(t=Tt()){return Dg(t)||DS(t)||LS(t)||MS(t)||/windows phone/i.test(t)||OS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e=[]){let n;switch(t){case"Browser":n=x_(Tt());break;case"Worker":n=`${x_(Tt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e={}){return bo(t,"GET","/v2/passwordPolicy",jg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=6;class bL{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:wL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new xL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Gs.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cd(this,{idToken:e}),i=await gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Vr(this));const n=e?wn(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _L(this),n=new bL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await gL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Gs.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mg(t){return wn(t)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=zM(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SL(t){Lg=t}function kL(t){return Lg.loadJS(t)}function TL(){return Lg.gapiScript}function IL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e){const n=Ng(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Yr(s,e??{}))return r;di(r,"already-initialized")}return n.initialize({options:e})}function AL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NL(t,e,n){const i=Mg(t);J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=zS(e),{host:o,port:a}=PL(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){J(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),J(Yr(c,i.config.emulator)&&Yr(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Pl(o)?(mS(`${s}//${o}${l}`),gS("Auth",!0)):RL()}function zS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PL(t){const e=zS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:w_(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:w_(o)}}}function w_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return aL(t,"POST","/v1/accounts:signInWithIdp",jg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="http://localhost";class Xr extends US{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=kg(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Xr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,qs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:jL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends BS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Dl{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Dl{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Dl{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Mi.credential(n,i)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await gn._fromIdTokenResponse(e,i,r),o=b_(i);return new lo({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=b_(i);return new lo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function b_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends yi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new dd(e,n,i,r)}}function $S(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,s,e,i):s})}async function OL(t,e,n=!1){const i=await ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e,n=!1){const{auth:i}=t;if(Pn(i.app))return Promise.reject(Vr(i));const r="reauthenticate";try{const s=await ml(t,$S(i,r,e,t),n);J(s.idToken,i,"internal-error");const o=Og(s.idToken);J(o,i,"internal-error");const{sub:a}=o;return J(t.uid===a,i,"user-mismatch"),lo._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&di(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e,n=!1){if(Pn(t.app))return Promise.reject(Vr(t));const i="signIn",r=await $S(t,i,e),s=await lo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}function LL(t,e,n,i){return wn(t).onIdTokenChanged(e,n,i)}function FL(t,e,n){return wn(t).beforeAuthStateChanged(e,n)}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=1e3,zL=10;class WS extends HS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);vL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,zL):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WS.type="LOCAL";const UL=WS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends HS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GS.type="SESSION";const qS=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Qd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await BL(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Fg("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function HL(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function WL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qL(){return KS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",KL=1,fd="firebaseLocalStorage",QS="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xd(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function YL(){const t=indexedDB.deleteDatabase(YS);return new Ml(t).toPromise()}function qp(){const t=indexedDB.open(YS,KL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(fd,{keyPath:QS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(fd)?e(i):(i.close(),await YL(),e(await qp()))})})}async function E_(t,e,n){const i=Xd(t,!0).put({[QS]:e,value:n});return new Ml(i).toPromise()}async function QL(t,e){const n=Xd(t,!1).get(e),i=await new Ml(n).toPromise();return i===void 0?null:i.value}function S_(t,e){const n=Xd(t,!0).delete(e);return new Ml(n).toPromise()}const XL=800,JL=3;class XS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>JL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(qL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WL(),!this.activeServiceWorker)return;this.sender=new $L(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await E_(e,hd,"1"),await S_(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>E_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>QL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Xd(r,!1).getAll();return new Ml(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XS.type="LOCAL";const ZL=XS;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e){return e?ni(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends US{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t3(t){return ML(t.auth,new Vg(t),t.bypassAuthState)}function n3(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),DL(n,new Vg(t),t.bypassAuthState)}async function i3(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),OL(n,new Vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t3;case"linkViaPopup":case"linkViaRedirect":return i3;case"reauthViaPopup":case"reauthViaRedirect":return n3;default:di(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Ol(2e3,1e4);class Ds extends JS{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r3.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="pendingRedirect",pu=new Map;class o3 extends JS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const i=await a3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a3(t,e){const n=u3(e),i=c3(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function l3(t,e){pu.set(t._key(),e)}function c3(t){return ni(t._redirectPersistence)}function u3(t){return fu(s3,t.config.apiKey,t.name)}async function d3(t,e,n=!1){if(Pn(t.app))return Promise.reject(Vr(t));const i=Mg(t),r=e3(i,e),o=await new o3(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=10*60*1e3;class f3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ZS(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h3&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(e))}saveEventToCache(e){this.cachedEventUids.add(k_(e)),this.lastProcessedEventTime=Date.now()}}function k_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return bo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function v3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m3(t);for(const n of e)try{if(x3(n))return}catch{}di(t,"unauthorized-domain")}function x3(t){const e=Wp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!y3.test(n))return!1;if(g3.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Ol(3e4,6e4);function T_(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w3(t){return new Promise((e,n)=>{var i,r,s;function o(){T_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T_(),n(Dn(t,"network-request-failed"))},timeout:_3.get()})}if(!((r=(i=Mn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Mn().gapi)===null||s===void 0)&&s.load)o();else{const a=IL("iframefcb");return Mn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},kL(`${TL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mu=null,e})}let mu=null;function b3(t){return mu=mu||w3(t),mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new Ol(5e3,15e3),S3="__/auth/iframe",k3="emulator/auth/iframe",T3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C3(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rg(e,k3):`https://${t.config.authDomain}/${S3}`,i={apiKey:e.apiKey,appName:t.name,v:wo},r=I3.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${jl(i).slice(1)}`}async function A3(t){const e=await b3(t),n=Mn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:C3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T3,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Mn().setTimeout(()=>{s(o)},E3.get());function l(){Mn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,R3=600,j3="_blank",O3="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3(t,e,n,i=P3,r=R3){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},N3),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Tt().toLowerCase();n&&(a=jS(c)?j3:n),PS(c)&&(e=e||O3,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if(yL(c)&&a!=="_self")return M3(e||"",a),new I_(null);const f=window.open(e||"",a,h);J(f,t,"popup-blocked");try{f.focus()}catch{}return new I_(f)}function M3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="__/auth/handler",F3="emulator/auth/handler",V3=encodeURIComponent("fac");async function C_(t,e,n,i,r,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:wo,eventId:r};if(e instanceof BS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Dl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${V3}=${encodeURIComponent(l)}`:"";return`${z3(t)}?${jl(a).slice(1)}${c}`}function z3({config:t}){return t.emulator?Rg(t,F3):`https://${t.authDomain}/${L3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class U3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=d3,this._overrideRedirectResult=l3}async _openPopup(e,n,i,r){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C_(e,n,i,Wp(),r);return D3(e,o,Fg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await C_(e,n,i,Wp(),r);return HL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(hi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await A3(e),i=new f3(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_f,{type:_f},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[_f];o!==void 0&&n(!!o),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FS()||RS()||Dg()}}const B3=U3;var A_="@firebase/auth",N_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W3(t){ao(new Qr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(t)},c=new EL(i,r,s,l);return AL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ao(new Qr("auth-internal",e=>{const n=Mg(e.getProvider("auth").getImmediate());return(i=>new $3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(A_,N_,H3(t)),er(A_,N_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=5*60,q3=pS("authIdTokenMaxAge")||G3;let P_=null;const K3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>q3)return;const r=n==null?void 0:n.token;P_!==r&&(P_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Y3(t=_S()){const e=Ng(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CL(t,{popupRedirectResolver:B3,persistence:[ZL,UL,qS]}),i=pS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=K3(s.toString());FL(n,o,()=>o(n.currentUser)),LL(n,a=>o(a))}}const r=hS("auth");return r&&NL(n,`http://${r}`),n}function Q3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Dn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Q3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W3("Browser");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function I(){}I.prototype=E.prototype,T.D=E.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(C,N,R){for(var A=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)A[Z-2]=arguments[Z];return E.prototype[N].apply(C,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)C[N]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(N=0;16>N;++N)C[N]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=T.g[0],I=T.g[1],N=T.g[2];var R=T.g[3],A=E+(R^I&(N^R))+C[0]+3614090360&4294967295;E=I+(A<<7&4294967295|A>>>25),A=R+(N^E&(I^N))+C[1]+3905402710&4294967295,R=E+(A<<12&4294967295|A>>>20),A=N+(I^R&(E^I))+C[2]+606105819&4294967295,N=R+(A<<17&4294967295|A>>>15),A=I+(E^N&(R^E))+C[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=E+(R^I&(N^R))+C[4]+4118548399&4294967295,E=I+(A<<7&4294967295|A>>>25),A=R+(N^E&(I^N))+C[5]+1200080426&4294967295,R=E+(A<<12&4294967295|A>>>20),A=N+(I^R&(E^I))+C[6]+2821735955&4294967295,N=R+(A<<17&4294967295|A>>>15),A=I+(E^N&(R^E))+C[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=E+(R^I&(N^R))+C[8]+1770035416&4294967295,E=I+(A<<7&4294967295|A>>>25),A=R+(N^E&(I^N))+C[9]+2336552879&4294967295,R=E+(A<<12&4294967295|A>>>20),A=N+(I^R&(E^I))+C[10]+4294925233&4294967295,N=R+(A<<17&4294967295|A>>>15),A=I+(E^N&(R^E))+C[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=E+(R^I&(N^R))+C[12]+1804603682&4294967295,E=I+(A<<7&4294967295|A>>>25),A=R+(N^E&(I^N))+C[13]+4254626195&4294967295,R=E+(A<<12&4294967295|A>>>20),A=N+(I^R&(E^I))+C[14]+2792965006&4294967295,N=R+(A<<17&4294967295|A>>>15),A=I+(E^N&(R^E))+C[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=E+(N^R&(I^N))+C[1]+4129170786&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^N&(E^I))+C[6]+3225465664&4294967295,R=E+(A<<9&4294967295|A>>>23),A=N+(E^I&(R^E))+C[11]+643717713&4294967295,N=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(N^R))+C[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=E+(N^R&(I^N))+C[5]+3593408605&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^N&(E^I))+C[10]+38016083&4294967295,R=E+(A<<9&4294967295|A>>>23),A=N+(E^I&(R^E))+C[15]+3634488961&4294967295,N=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(N^R))+C[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=E+(N^R&(I^N))+C[9]+568446438&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^N&(E^I))+C[14]+3275163606&4294967295,R=E+(A<<9&4294967295|A>>>23),A=N+(E^I&(R^E))+C[3]+4107603335&4294967295,N=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(N^R))+C[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=E+(N^R&(I^N))+C[13]+2850285829&4294967295,E=I+(A<<5&4294967295|A>>>27),A=R+(I^N&(E^I))+C[2]+4243563512&4294967295,R=E+(A<<9&4294967295|A>>>23),A=N+(E^I&(R^E))+C[7]+1735328473&4294967295,N=R+(A<<14&4294967295|A>>>18),A=I+(R^E&(N^R))+C[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=E+(I^N^R)+C[5]+4294588738&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^N)+C[8]+2272392833&4294967295,R=E+(A<<11&4294967295|A>>>21),A=N+(R^E^I)+C[11]+1839030562&4294967295,N=R+(A<<16&4294967295|A>>>16),A=I+(N^R^E)+C[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=E+(I^N^R)+C[1]+2763975236&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^N)+C[4]+1272893353&4294967295,R=E+(A<<11&4294967295|A>>>21),A=N+(R^E^I)+C[7]+4139469664&4294967295,N=R+(A<<16&4294967295|A>>>16),A=I+(N^R^E)+C[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=E+(I^N^R)+C[13]+681279174&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^N)+C[0]+3936430074&4294967295,R=E+(A<<11&4294967295|A>>>21),A=N+(R^E^I)+C[3]+3572445317&4294967295,N=R+(A<<16&4294967295|A>>>16),A=I+(N^R^E)+C[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=E+(I^N^R)+C[9]+3654602809&4294967295,E=I+(A<<4&4294967295|A>>>28),A=R+(E^I^N)+C[12]+3873151461&4294967295,R=E+(A<<11&4294967295|A>>>21),A=N+(R^E^I)+C[15]+530742520&4294967295,N=R+(A<<16&4294967295|A>>>16),A=I+(N^R^E)+C[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=E+(N^(I|~R))+C[0]+4096336452&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~N))+C[7]+1126891415&4294967295,R=E+(A<<10&4294967295|A>>>22),A=N+(E^(R|~I))+C[14]+2878612391&4294967295,N=R+(A<<15&4294967295|A>>>17),A=I+(R^(N|~E))+C[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=E+(N^(I|~R))+C[12]+1700485571&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~N))+C[3]+2399980690&4294967295,R=E+(A<<10&4294967295|A>>>22),A=N+(E^(R|~I))+C[10]+4293915773&4294967295,N=R+(A<<15&4294967295|A>>>17),A=I+(R^(N|~E))+C[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=E+(N^(I|~R))+C[8]+1873313359&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~N))+C[15]+4264355552&4294967295,R=E+(A<<10&4294967295|A>>>22),A=N+(E^(R|~I))+C[6]+2734768916&4294967295,N=R+(A<<15&4294967295|A>>>17),A=I+(R^(N|~E))+C[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=E+(N^(I|~R))+C[4]+4149444226&4294967295,E=I+(A<<6&4294967295|A>>>26),A=R+(I^(E|~N))+C[11]+3174756917&4294967295,R=E+(A<<10&4294967295|A>>>22),A=N+(E^(R|~I))+C[2]+718787259&4294967295,N=R+(A<<15&4294967295|A>>>17),A=I+(R^(N|~E))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+R&4294967295}i.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var I=E-this.blockSize,C=this.B,N=this.h,R=0;R<E;){if(N==0)for(;R<=I;)r(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<E;)if(C[N++]=T.charCodeAt(R++),N==this.blockSize){r(this,C),N=0;break}}else for(;R<E;)if(C[N++]=T[R++],N==this.blockSize){r(this,C),N=0;break}}this.h=N,this.o+=E},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var I=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=I&255,I/=256;for(this.u(T),T=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)T[I++]=this.g[E]>>>C&255;return T};function s(T,E){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=E(T)}function o(T,E){this.h=E;for(var I=[],C=!0,N=T.length-1;0<=N;N--){var R=T[N]|0;C&&R==E||(I[N]=R,C=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(c(-T));for(var E=[],I=1,C=0;T>=I;C++)E[C]=T/I|0,I*=4294967296;return new o(E,0)}function h(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return b(h(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),C=f,N=0;N<T.length;N+=8){var R=Math.min(8,T.length-N),A=parseInt(T.substring(N,N+R),E);8>R?(R=c(Math.pow(E,R)),C=C.j(R).add(c(A))):(C=C.j(I),C=C.add(c(A)))}return C}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();for(var T=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);T+=(0<=C?C:4294967296+C)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(w(this))return"-"+b(this).toString(T);for(var E=c(Math.pow(T,6)),I=this,C="";;){var N=P(I,E).g;I=v(I,N.j(E));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=N,x(I))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=v(this,T),w(T)?-1:x(T)?0:1};function b(T){for(var E=T.g.length,I=[],C=0;C<E;C++)I[C]=~T.g[C];return new o(I,~T.h).add(p)}t.abs=function(){return w(this)?b(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0,N=0;N<=E;N++){var R=C+(this.i(N)&65535)+(T.i(N)&65535),A=(R>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);C=A>>>16,R&=65535,A&=65535,I[N]=A<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(T,E){return T.add(b(E))}t.j=function(T){if(x(this)||x(T))return f;if(w(this))return w(T)?b(this).j(b(T)):b(b(this).j(T));if(w(T))return b(this.j(b(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<T.g.length;N++){var R=this.i(C)>>>16,A=this.i(C)&65535,Z=T.i(N)>>>16,Q=T.i(N)&65535;I[2*C+2*N]+=A*Q,_(I,2*C+2*N),I[2*C+2*N+1]+=R*Q,_(I,2*C+2*N+1),I[2*C+2*N+1]+=A*Z,_(I,2*C+2*N+1),I[2*C+2*N+2]+=R*Z,_(I,2*C+2*N+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new o(I,0)};function _(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function S(T,E){this.g=T,this.h=E}function P(T,E){if(x(E))throw Error("division by zero");if(x(T))return new S(f,f);if(w(T))return E=P(b(T),E),new S(b(E.g),b(E.h));if(w(E))return E=P(T,b(E)),new S(b(E.g),E.h);if(30<T.g.length){if(w(T)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,C=E;0>=C.l(T);)I=j(I),C=j(C);var N=M(I,1),R=M(C,1);for(C=M(C,2),I=M(I,2);!x(C);){var A=R.add(C);0>=A.l(T)&&(N=N.add(I),R=A),C=M(C,1),I=M(I,1)}return E=v(T,N.j(E)),new S(N,E)}for(N=f;0<=T.l(E);){for(I=Math.max(1,Math.floor(T.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=c(I),A=R.j(E);w(A)||0<A.l(T);)I-=C,R=c(I),A=R.j(E);x(R)&&(R=p),N=N.add(R),T=v(T,A)}return new S(N,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&T.i(C);return new o(I,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|T.i(C);return new o(I,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^T.i(C);return new o(I,this.h^T.h)};function j(T){for(var E=T.g.length+1,I=[],C=0;C<E;C++)I[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(I,T.h)}function M(T,E){var I=E>>5;E%=32;for(var C=T.g.length-I,N=[],R=0;R<C;R++)N[R]=0<E?T.i(R+I)>>>E|T.i(R+I+1)<<32-E:T.i(R+I);return new o(N,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,zg=o}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ek,ma,tk,gu,Kp,nk,ik,rk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function r(u,m){if(m)e:{var y=i;u=u.split(".");for(var k=0;k<u.length-1;k++){var D=u[k];if(!(D in y))break e;y=y[D]}u=u[u.length-1],k=y[u],m=m(k),m!=k&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var y=0,k=!1,D={next:function(){if(!k&&y<u.length){var L=y++;return{value:m(L,u[L]),done:!1}}return k=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(u){return u||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,y){return u.call.apply(u.bind,arguments)}function f(u,m,y){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,k),u.apply(m,D)}}return function(){return u.apply(m,arguments)}}function p(u,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var k=y.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function x(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(k,D,L){for(var B=Array(arguments.length-2),we=2;we<arguments.length;we++)B[we-2]=arguments[we];return m.prototype[D].apply(k,B)}}function w(u){const m=u.length;if(0<m){const y=Array(m);for(let k=0;k<m;k++)y[k]=u[k];return y}return[]}function b(u,m){for(let y=1;y<arguments.length;y++){const k=arguments[y];if(l(k)){const D=u.length||0,L=k.length||0;u.length=D+L;for(let B=0;B<L;B++)u[D+B]=k[B]}else u.push(k)}}class v{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var j=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(u,m,y){for(const k in u)m.call(y,u[k],k,u)}function T(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function E(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let y,k;for(let D=1;D<arguments.length;D++){k=arguments[D];for(y in k)u[y]=k[y];for(let L=0;L<I.length;L++)y=I[L],Object.prototype.hasOwnProperty.call(k,y)&&(u[y]=k[y])}}function N(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function R(u){a.setTimeout(()=>{throw u},0)}function A(){var u=$;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Z{constructor(){this.h=this.g=null}add(m,y){const k=Q.get();k.set(m,y),this.h?this.h.next=k:this.g=k,this.h=k}}var Q=new v(()=>new fe,u=>u.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,U=!1,$=new Z,Y=()=>{const u=a.Promise.resolve(void 0);ae=()=>{u.then(ge)}};var ge=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){R(y)}var m=Q;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}U=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return u}();function Je(u,m){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(j){e:{try{P(m.nodeName);var D=!0;break e}catch{}D=!1}D||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Je.aa.h.call(this)}}x(Je,ye);var Te={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),Bl=0;function $l(u,m,y,k,D){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!k,this.ha=D,this.key=++Bl,this.da=this.fa=!1}function zn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Un(u){this.src=u,this.g={},this.h=0}Un.prototype.add=function(u,m,y,k,D){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var B=ls(u,m,k,D);return-1<B?(m=u[B],y||(m.fa=!1)):(m=new $l(m,this.src,L,!!k,D),m.fa=y,u.push(m)),m};function bn(u,m){var y=m.type;if(y in u.g){var k=u.g[y],D=Array.prototype.indexOf.call(k,m,void 0),L;(L=0<=D)&&Array.prototype.splice.call(k,D,1),L&&(zn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ls(u,m,y,k){for(var D=0;D<u.length;++D){var L=u[D];if(!L.da&&L.listener==m&&L.capture==!!y&&L.ha==k)return D}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),us={};function ko(u,m,y,k,D){if(Array.isArray(m)){for(var L=0;L<m.length;L++)ko(u,m[L],y,k,D);return null}return y=K(y),u&&u[Qt]?u.K(m,y,c(k)?!!k.capture:!!k,D):vi(u,m,y,!1,k,D)}function vi(u,m,y,k,D,L){if(!m)throw Error("Invalid event type");var B=c(D)?!!D.capture:!!D,we=Io(u);if(we||(u[cs]=we=new Un(u)),y=we.add(m,y,k,B,L),y.proxy)return y;if(k=To(),y.proxy=k,k.src=u,k.listener=y,u.addEventListener)Pe||(D=B),D===void 0&&(D=!1),u.addEventListener(m.toString(),k,D);else if(u.attachEvent)u.attachEvent(Hl(m.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return y}function To(){function u(y){return m.call(u.src,u.listener,y)}const m=ah;return u}function pr(u,m,y,k,D){if(Array.isArray(m))for(var L=0;L<m.length;L++)pr(u,m[L],y,k,D);else k=c(k)?!!k.capture:!!k,y=K(y),u&&u[Qt]?(u=u.i,m=String(m).toString(),m in u.g&&(L=u.g[m],y=ls(L,y,k,D),-1<y&&(zn(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete u.g[m],u.h--)))):u&&(u=Io(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ls(m,y,k,D)),(y=-1<u?m[u]:null)&&xi(y))}function xi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])bn(m.i,u);else{var y=u.type,k=u.proxy;m.removeEventListener?m.removeEventListener(y,k,u.capture):m.detachEvent?m.detachEvent(Hl(y),k):m.addListener&&m.removeListener&&m.removeListener(k),(y=Io(m))?(bn(y,u),y.h==0&&(y.src=null,m[cs]=null)):zn(u)}}}function Hl(u){return u in us?us[u]:us[u]="on"+u}function ah(u,m){if(u.da)u=!0;else{m=new Je(m,this);var y=u.listener,k=u.ha||u.src;u.fa&&xi(u),u=y.call(k,m)}return u}function Io(u){return u=u[cs],u instanceof Un?u:null}var H="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(u){return typeof u=="function"?u:(u[H]||(u[H]=function(m){return u.handleEvent(m)}),u[H])}function ie(){te.call(this),this.i=new Un(this),this.M=this,this.F=null}x(ie,te),ie.prototype[Qt]=!0,ie.prototype.removeEventListener=function(u,m,y,k){pr(this,u,m,y,k)};function le(u,m){var y,k=u.F;if(k)for(y=[];k;k=k.F)y.push(k);if(u=u.M,k=m.type||m,typeof m=="string")m=new ye(m,u);else if(m instanceof ye)m.target=m.target||u;else{var D=m;m=new ye(k,u),C(m,D)}if(D=!0,y)for(var L=y.length-1;0<=L;L--){var B=m.g=y[L];D=Ze(B,k,!0,m)&&D}if(B=m.g=u,D=Ze(B,k,!0,m)&&D,D=Ze(B,k,!1,m)&&D,y)for(L=0;L<y.length;L++)B=m.g=y[L],D=Ze(B,k,!1,m)&&D}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],k=0;k<y.length;k++)zn(y[k]);delete u.g[m],u.h--}}this.F=null},ie.prototype.K=function(u,m,y,k){return this.i.add(String(u),m,!1,y,k)},ie.prototype.L=function(u,m,y,k){return this.i.add(String(u),m,!0,y,k)};function Ze(u,m,y,k){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var D=!0,L=0;L<m.length;++L){var B=m[L];if(B&&!B.da&&B.capture==y){var we=B.listener,ot=B.ha||B.src;B.fa&&bn(u.i,B),D=we.call(ot,k)!==!1&&D}}return D&&!k.defaultPrevented}function _i(u,m,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Bn(u){u.g=_i(()=>{u.g=null,u.i&&(u.i=!1,Bn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Co extends te{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(u){te.call(this),this.h=u,this.g={}}x($n,te);var ds=[];function mr(u){M(u.g,function(m,y){this.g.hasOwnProperty(y)&&xi(m)},u),u.g={}}$n.prototype.N=function(){$n.aa.N.call(this),mr(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=a.JSON.stringify,Ao=a.JSON.parse,No=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function yr(){}yr.prototype.h=null;function Wl(u){return u.h||(u.h=u.i())}function ay(){}var Po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lh(){ye.call(this,"d")}x(lh,ye);function ch(){ye.call(this,"c")}x(ch,ye);var vr={},ly=null;function Gl(){return ly=ly||new ie}vr.La="serverreachability";function cy(u){ye.call(this,vr.La,u)}x(cy,ye);function Ro(u){const m=Gl();le(m,new cy(m))}vr.STAT_EVENT="statevent";function uy(u,m){ye.call(this,vr.STAT_EVENT,u),this.stat=m}x(uy,ye);function It(u){const m=Gl();le(m,new uy(m,u))}vr.Ma="timingevent";function dy(u,m){ye.call(this,vr.Ma,u),this.size=m}x(dy,ye);function jo(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Oo(){this.g=!0}Oo.prototype.xa=function(){this.g=!1};function dT(u,m,y,k,D,L){u.info(function(){if(u.g)if(L)for(var B="",we=L.split("&"),ot=0;ot<we.length;ot++){var pe=we[ot].split("=");if(1<pe.length){var pt=pe[0];pe=pe[1];var mt=pt.split("_");B=2<=mt.length&&mt[1]=="type"?B+(pt+"="+pe+"&"):B+(pt+"=redacted&")}}else B=null;else B=L;return"XMLHTTP REQ ("+k+") [attempt "+D+"]: "+m+`
`+y+`
`+B})}function hT(u,m,y,k,D,L,B){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+D+"]: "+m+`
`+y+`
`+L+" "+B})}function hs(u,m,y,k){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+pT(u,y)+(k?" "+k:"")})}function fT(u,m){u.info(function(){return"TIMEOUT: "+m})}Oo.prototype.info=function(){};function pT(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var k=y[u];if(!(2>k.length)){var D=k[1];if(Array.isArray(D)&&!(1>D.length)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(var B=1;B<D.length;B++)D[B]=""}}}}return gr(y)}catch{return m}}var ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uh;function Kl(){}x(Kl,yr),Kl.prototype.g=function(){return new XMLHttpRequest},Kl.prototype.i=function(){return{}},uh=new Kl;function wi(u,m,y,k){this.j=u,this.i=m,this.l=y,this.R=k||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fy}function fy(){this.i=null,this.g="",this.h=!1}var py={},dh={};function hh(u,m,y){u.L=1,u.v=Jl(Hn(m)),u.m=y,u.P=!0,my(u,null)}function my(u,m){u.F=Date.now(),Yl(u),u.A=Hn(u.v);var y=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),Ay(y.i,"t",k),u.C=0,y=u.j.J,u.h=new fy,u.g=qy(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Co(p(u.Y,u,u.g),u.O)),m=u.U,y=u.g,k=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(ds[0]=D.toString()),D=ds);for(var L=0;L<D.length;L++){var B=ko(y,D[L],k||m.handleEvent,!1,m.h||m);if(!B)break;m.g[B.key]=B}m=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ro(),dT(u.i,u.u,u.A,u.l,u.R,u.m)}wi.prototype.ca=function(u){u=u.target;const m=this.M;m&&Wn(u)==3?m.j():this.Y(u)},wi.prototype.Y=function(u){try{if(u==this.g)e:{const mt=Wn(this.g);var m=this.g.Ba();const ms=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||My(this.g)))){this.J||mt!=4||m==7||(m==8||0>=ms?Ro(3):Ro(2)),fh(this);var y=this.g.Z();this.X=y;t:if(gy(this)){var k=My(this.g);u="";var D=k.length,L=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),Do(this);var B="";break t}this.h.i=new a.TextDecoder}for(m=0;m<D;m++)this.h.h=!0,u+=this.h.i.decode(k[m],{stream:!(L&&m==D-1)});k.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=y==200,hT(this.i,this.u,this.A,this.l,this.R,mt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ot=this.g;if((we=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(we)){var pe=we;break t}}pe=null}if(y=pe)hs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ph(this,y);else{this.o=!1,this.s=3,It(12),xr(this),Do(this);break e}}if(this.P){y=!0;let cn;for(;!this.J&&this.C<B.length;)if(cn=mT(this,B),cn==dh){mt==4&&(this.s=4,It(14),y=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==py){this.s=4,It(15),hs(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else hs(this.i,this.l,cn,null),ph(this,cn);if(gy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||B.length!=0||this.h.h||(this.s=1,It(16),y=!1),this.o=this.o&&y,!y)hs(this.i,this.l,B,"[Invalid Chunked Response]"),xr(this),Do(this);else if(0<B.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),_h(pt),pt.M=!0,It(11))}}else hs(this.i,this.l,B,null),ph(this,B);mt==4&&xr(this),this.o&&!this.J&&(mt==4?$y(this.j,this):(this.o=!1,Yl(this)))}else RT(this.g),y==400&&0<B.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),xr(this),Do(this)}}}catch{}finally{}};function gy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mT(u,m){var y=u.C,k=m.indexOf(`
`,y);return k==-1?dh:(y=Number(m.substring(y,k)),isNaN(y)?py:(k+=1,k+y>m.length?dh:(m=m.slice(k,k+y),u.C=k+y,m)))}wi.prototype.cancel=function(){this.J=!0,xr(this)};function Yl(u){u.S=Date.now()+u.I,yy(u,u.I)}function yy(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=jo(p(u.ba,u),m)}function fh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}wi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fT(this.i,this.A),this.L!=2&&(Ro(),It(17)),xr(this),this.s=2,Do(this)):yy(this,this.S-u)};function Do(u){u.j.G==0||u.J||$y(u.j,u)}function xr(u){fh(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,mr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ph(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||mh(y.h,u))){if(!u.K&&mh(y.h,u)&&y.G==3){try{var k=y.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var D=k;if(D[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)rc(y),nc(y);else break e;xh(y),It(18)}}else y.za=D[1],0<y.za-y.T&&37500>D[2]&&y.F&&y.v==0&&!y.C&&(y.C=jo(p(y.Za,y),6e3));if(1>=_y(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wr(y,11)}else if((u.K||y.g==u)&&rc(y),!_(m))for(D=y.Da.g.parse(m),m=0;m<D.length;m++){let pe=D[m];if(y.T=pe[0],pe=pe[1],y.G==2)if(pe[0]=="c"){y.K=pe[1],y.ia=pe[2];const pt=pe[3];pt!=null&&(y.la=pt,y.j.info("VER="+y.la));const mt=pe[4];mt!=null&&(y.Aa=mt,y.j.info("SVER="+y.Aa));const ms=pe[5];ms!=null&&typeof ms=="number"&&0<ms&&(k=1.5*ms,y.L=k,y.j.info("backChannelRequestTimeoutMs_="+k)),k=y;const cn=u.g;if(cn){const oc=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var L=k.h;L.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(gh(L,L.h),L.h=null))}if(k.D){const wh=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;wh&&(k.ya=wh,Ie(k.I,k.D,wh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),k=y;var B=u;if(k.qa=Gy(k,k.J?k.ia:null,k.W),B.K){wy(k.h,B);var we=B,ot=k.L;ot&&(we.I=ot),we.B&&(fh(we),Yl(we)),k.g=B}else Uy(k);0<y.i.length&&ic(y)}else pe[0]!="stop"&&pe[0]!="close"||wr(y,7);else y.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?wr(y,7):vh(y):pe[0]!="noop"&&y.l&&y.l.ta(pe),y.v=0)}}Ro(4)}catch{}}var gT=class{constructor(u,m){this.g=u,this.map=m}};function vy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _y(u){return u.h?1:u.g?u.g.size:0}function mh(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function gh(u,m){u.g?u.g.add(m):u.h=m}function wy(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vy.prototype.cancel=function(){if(this.i=by(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function by(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return w(u.i)}function yT(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],y=u.length,k=0;k<y;k++)m.push(u[k]);return m}m=[],y=0;for(k in u)m[y++]=u[k];return m}function vT(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const k in u)m[y++]=k;return m}}}function Ey(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=vT(u),k=yT(u),D=k.length,L=0;L<D;L++)m.call(void 0,k[L],y&&y[L],u)}var Sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xT(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var k=u[y].indexOf("="),D=null;if(0<=k){var L=u[y].substring(0,k);D=u[y].substring(k+1)}else L=u[y];m(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function _r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _r){this.h=u.h,Ql(this,u.j),this.o=u.o,this.g=u.g,Xl(this,u.s),this.l=u.l;var m=u.i,y=new Fo;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),ky(this,y),this.m=u.m}else u&&(m=String(u).match(Sy))?(this.h=!1,Ql(this,m[1]||"",!0),this.o=Mo(m[2]||""),this.g=Mo(m[3]||"",!0),Xl(this,m[4]),this.l=Mo(m[5]||"",!0),ky(this,m[6]||"",!0),this.m=Mo(m[7]||"")):(this.h=!1,this.i=new Fo(null,this.h))}_r.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Lo(m,Ty,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lo(m,Ty,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Lo(y,y.charAt(0)=="/"?bT:wT,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Lo(y,ST)),u.join("")};function Hn(u){return new _r(u)}function Ql(u,m,y){u.j=y?Mo(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xl(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ky(u,m,y){m instanceof Fo?(u.i=m,kT(u.i,u.h)):(y||(m=Lo(m,ET)),u.i=new Fo(m,u.h))}function Ie(u,m,y){u.i.set(m,y)}function Jl(u){return Ie(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mo(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lo(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,_T),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _T(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ty=/[#\/\?@]/g,wT=/[#\?:]/g,bT=/[#\?]/g,ET=/[#\?@]/g,ST=/#/g;function Fo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bi(u){u.g||(u.g=new Map,u.h=0,u.i&&xT(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Fo.prototype,t.add=function(u,m){bi(this),this.i=null,u=fs(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Iy(u,m){bi(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cy(u,m){return bi(u),m=fs(u,m),u.g.has(m)}t.forEach=function(u,m){bi(this),this.g.forEach(function(y,k){y.forEach(function(D){u.call(m,D,k,this)},this)},this)},t.na=function(){bi(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let k=0;k<m.length;k++){const D=u[k];for(let L=0;L<D.length;L++)y.push(m[k])}return y},t.V=function(u){bi(this);let m=[];if(typeof u=="string")Cy(this,u)&&(m=m.concat(this.g.get(fs(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return bi(this),this.i=null,u=fs(this,u),Cy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ay(u,m,y){Iy(u,m),0<y.length&&(u.i=null,u.g.set(fs(u,m),w(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var k=m[y];const L=encodeURIComponent(String(k)),B=this.V(k);for(k=0;k<B.length;k++){var D=L;B[k]!==""&&(D+="="+encodeURIComponent(String(B[k]))),u.push(D)}}return this.i=u.join("&")};function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function kT(u,m){m&&!u.j&&(bi(u),u.i=null,u.g.forEach(function(y,k){var D=k.toLowerCase();k!=D&&(Iy(this,k),Ay(this,D,y))},u)),u.j=m}function TT(u,m){const y=new Oo;if(a.Image){const k=new Image;k.onload=g(Ei,y,"TestLoadImage: loaded",!0,m,k),k.onerror=g(Ei,y,"TestLoadImage: error",!1,m,k),k.onabort=g(Ei,y,"TestLoadImage: abort",!1,m,k),k.ontimeout=g(Ei,y,"TestLoadImage: timeout",!1,m,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else m(!1)}function IT(u,m){const y=new Oo,k=new AbortController,D=setTimeout(()=>{k.abort(),Ei(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:k.signal}).then(L=>{clearTimeout(D),L.ok?Ei(y,"TestPingServer: ok",!0,m):Ei(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(D),Ei(y,"TestPingServer: error",!1,m)})}function Ei(u,m,y,k,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),k(y)}catch{}}function CT(){this.g=new No}function AT(u,m,y){const k=y||"";try{Ey(u,function(D,L){let B=D;c(D)&&(B=gr(D)),m.push(k+L+"="+encodeURIComponent(B))})}catch(D){throw m.push(k+"type="+encodeURIComponent("_badmap")),D}}function Zl(u){this.l=u.Ub||null,this.j=u.eb||!1}x(Zl,yr),Zl.prototype.g=function(){return new ec(this.l,this.j)},Zl.prototype.i=function(u){return function(){return u}}({});function ec(u,m){ie.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ec,ie),t=ec.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,zo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zo(this)),this.g&&(this.readyState=3,zo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ny(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ny(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vo(this):zo(this),this.readyState==3&&Ny(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Vo(this))},t.Qa=function(u){this.g&&(this.response=u,Vo(this))},t.ga=function(){this.g&&Vo(this)};function Vo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,zo(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function zo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Py(u){let m="";return M(u,function(y,k){m+=k,m+=":",m+=y,m+=`\r
`}),m}function yh(u,m,y){e:{for(k in y){var k=!1;break e}k=!0}k||(y=Py(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ie(u,m,y))}function Fe(u){ie.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Fe,ie);var NT=/^https?$/i,PT=["POST","PUT"];t=Fe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uh.g(),this.v=this.o?Wl(this.o):Wl(uh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(L){Ry(this,L);return}if(u=y||"",y=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var D in k)y.set(D,k[D]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const L of k.keys())y.set(L,k.get(L));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),D=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PT,m,void 0))||k||D||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,B]of y)this.g.setRequestHeader(L,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dy(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Ry(this,L)}};function Ry(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,jy(u),tc(u)}function jy(u){u.A||(u.A=!0,le(u,"complete"),le(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,le(this,"complete"),le(this,"abort"),tc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tc(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oy(this):this.bb())},t.bb=function(){Oy(this)};function Oy(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Wn(u)!=4||u.Z()!=2)){if(u.u&&Wn(u)==4)_i(u.Ea,0,u);else if(le(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var k;if(k=B===0){var D=String(u.D).match(Sy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),k=!NT.test(D?D.toLowerCase():"")}y=k}if(y)le(u,"complete"),le(u,"success");else{u.m=6;try{var L=2<Wn(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",jy(u)}}finally{tc(u)}}}}function tc(u,m){if(u.g){Dy(u);const y=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||le(u,"ready");try{y.onreadystatechange=k}catch{}}}function Dy(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ao(m)}};function My(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function RT(u){const m={};u=(u.g&&2<=Wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(_(u[k]))continue;var y=N(u[k]);const D=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=m[D]||[];m[D]=L,L.push(y)}T(m,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ly(u){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,u),this.cb=Uo("retryDelaySeedMs",1e4,u),this.Wa=Uo("forwardChannelMaxRetries",2,u),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vy(u&&u.concurrentRequestLimit),this.Da=new CT,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ly.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,k){It(0),this.W=u,this.H=m||{},y&&k!==void 0&&(this.H.OSID=y,this.H.OAID=k),this.F=this.X,this.I=Gy(this,null,this.W),ic(this)};function vh(u){if(Fy(u),u.G==3){var m=u.U++,y=Hn(u.I);if(Ie(y,"SID",u.K),Ie(y,"RID",m),Ie(y,"TYPE","terminate"),Bo(u,y),m=new wi(u,u.j,m),m.L=2,m.v=Jl(Hn(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=qy(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Yl(m)}Wy(u)}function nc(u){u.g&&(_h(u),u.g.cancel(),u.g=null)}function Fy(u){nc(u),u.u&&(a.clearTimeout(u.u),u.u=null),rc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ic(u){if(!xy(u.h)&&!u.s){u.s=!0;var m=u.Ga;ae||Y(),U||(ae(),U=!0),$.add(m,u),u.B=0}}function jT(u,m){return _y(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=jo(p(u.Ga,u,m),Hy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new wi(this,this.j,u);let L=this.o;if(this.S&&(L?(L=E(L),C(L,this.S)):L=this.S),this.m!==null||this.O||(D.H=L,L=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var k=this.i[y];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=zy(this,D,m),y=Hn(this.I),Ie(y,"RID",u),Ie(y,"CVER",22),this.D&&Ie(y,"X-HTTP-Session-Id",this.D),Bo(this,y),L&&(this.O?m="headers="+encodeURIComponent(String(Py(L)))+"&"+m:this.m&&yh(y,this.m,L)),gh(this.h,D),this.Ua&&Ie(y,"TYPE","init"),this.P?(Ie(y,"$req",m),Ie(y,"SID","null"),D.T=!0,hh(D,y,null)):hh(D,y,m),this.G=2}}else this.G==3&&(u?Vy(this,u):this.i.length==0||xy(this.h)||Vy(this))};function Vy(u,m){var y;m?y=m.l:y=u.U++;const k=Hn(u.I);Ie(k,"SID",u.K),Ie(k,"RID",y),Ie(k,"AID",u.T),Bo(u,k),u.m&&u.o&&yh(k,u.m,u.o),y=new wi(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=zy(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),gh(u.h,y),hh(y,k,m)}function Bo(u,m){u.H&&M(u.H,function(y,k){Ie(m,k,y)}),u.l&&Ey({},function(y,k){Ie(m,k,y)})}function zy(u,m,y){y=Math.min(u.i.length,y);var k=u.l?p(u.l.Na,u.l,u):null;e:{var D=u.i;let L=-1;for(;;){const B=["count="+y];L==-1?0<y?(L=D[0].g,B.push("ofs="+L)):L=0:B.push("ofs="+L);let we=!0;for(let ot=0;ot<y;ot++){let pe=D[ot].g;const pt=D[ot].map;if(pe-=L,0>pe)L=Math.max(0,D[ot].g-100),we=!1;else try{AT(pt,B,"req"+pe+"_")}catch{k&&k(pt)}}if(we){k=B.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,k}function Uy(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ae||Y(),U||(ae(),U=!0),$.add(m,u),u.v=0}}function xh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=jo(p(u.Fa,u),Hy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,By(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=jo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),nc(this),By(this))};function _h(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function By(u){u.g=new wi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Hn(u.qa);Ie(m,"RID","rpc"),Ie(m,"SID",u.K),Ie(m,"AID",u.T),Ie(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ie(m,"TO",u.ja),Ie(m,"TYPE","xmlhttp"),Bo(u,m),u.m&&u.o&&yh(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Jl(Hn(m)),y.m=null,y.P=!0,my(y,u)}t.Za=function(){this.C!=null&&(this.C=null,nc(this),xh(this),It(19))};function rc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $y(u,m){var y=null;if(u.g==m){rc(u),_h(u),u.g=null;var k=2}else if(mh(u.h,m))y=m.D,wy(u.h,m),k=1;else return;if(u.G!=0){if(m.o)if(k==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var D=u.B;k=Gl(),le(k,new dy(k,y)),ic(u)}else Uy(u);else if(D=m.s,D==3||D==0&&0<m.X||!(k==1&&jT(u,m)||k==2&&xh(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),D){case 1:wr(u,5);break;case 4:wr(u,10);break;case 3:wr(u,6);break;default:wr(u,2)}}}function Hy(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function wr(u,m){if(u.j.info("Error code "+m),m==2){var y=p(u.fb,u),k=u.Xa;const D=!k;k=new _r(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ql(k,"https"),Jl(k),D?TT(k.toString(),y):IT(k.toString(),y)}else It(2);u.G=0,u.l&&u.l.sa(m),Wy(u),Fy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Wy(u){if(u.G=0,u.ka=[],u.l){const m=by(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function Gy(u,m,y){var k=y instanceof _r?Hn(y):new _r(y);if(k.g!="")m&&(k.g=m+"."+k.g),Xl(k,k.s);else{var D=a.location;k=D.protocol,m=m?m+"."+D.hostname:D.hostname,D=+D.port;var L=new _r(null);k&&Ql(L,k),m&&(L.g=m),D&&Xl(L,D),y&&(L.l=y),k=L}return y=u.D,m=u.ya,y&&m&&Ie(k,y,m),Ie(k,"VER",u.la),Bo(u,k),k}function qy(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Fe(new Zl({eb:y})):new Fe(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ky(){}t=Ky.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sc(){}sc.prototype.g=function(u,m){return new $t(u,m)};function $t(u,m){ie.call(this),this.g=new Ly(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!_(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ps(this)}x($t,ie),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){vh(this.g)},$t.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=gr(u),u=y);m.i.push(new gT(m.Ya++,u)),m.G==3&&ic(m)},$t.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,$t.aa.N.call(this)};function Yy(u){lh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Yy,lh);function Qy(){ch.call(this),this.status=1}x(Qy,ch);function ps(u){this.g=u}x(ps,Ky),ps.prototype.ua=function(){le(this.g,"a")},ps.prototype.ta=function(u){le(this.g,new Yy(u))},ps.prototype.sa=function(u){le(this.g,new Qy)},ps.prototype.ra=function(){le(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,rk=function(){return new sc},ik=function(){return Gl()},nk=vr,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ql.NO_ERROR=0,ql.TIMEOUT=8,ql.HTTP_ERROR=6,gu=ql,hy.COMPLETE="complete",tk=hy,ay.EventType=Po,Po.OPEN="a",Po.CLOSE="b",Po.ERROR="c",Po.MESSAGE="d",ie.prototype.listen=ie.prototype.K,ma=ay,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,ek=Fe}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",O_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Cg("@firebase/firestore");function _s(){return Jr.logLevel}function G(t,...e){if(Jr.logLevel<=se.DEBUG){const n=e.map(Ug);Jr.debug(`Firestore (${Eo}): ${t}`,...n)}}function Zr(t,...e){if(Jr.logLevel<=se.ERROR){const n=e.map(Ug);Jr.error(`Firestore (${Eo}): ${t}`,...n)}}function Jd(t,...e){if(Jr.logLevel<=se.WARN){const n=e.map(Ug);Jr.warn(`Firestore (${Eo}): ${t}`,...n)}}function Ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,sk(t,i,n)}function sk(t,e,n){let i=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zr(i),new Error(i)}function $e(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||sk(e,r,i)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class J3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z3{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new ok(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class eF{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tF{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new eF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const i=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=iF(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function ue(t,e){return t<e?-1:t>e?1:0}function Yp(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return ue(i,r);{const s=rF(),o=sF(s.encode(M_(t,n)),s.encode(M_(e,n)));return o!==0?o:ue(i,r)}}n+=i>65535?2:1}return ue(t.length,e.length)}function M_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function sF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ue(t[n],e[n]);return ue(t.length,e.length)}function co(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-62135596800,F_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*F_);return new st(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L_)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-L_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new st(0,0))}static max(){return new Re(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class An{constructor(e,n,i){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ne(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return An.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof An?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=An.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return ue(e.length,n.length)}static compareSegments(e,n){const i=An.isNumericId(e),r=An.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?An.extractNumericId(e).compare(An.extractNumericId(n)):Yp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zg.fromString(e.substring(4,e.length-2))}}class ze extends An{construct(e,n,i){return new ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const oF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends An{construct(e,n,i){return new ut(e,n,i)}static isValidIdentifier(e){return oF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new ut([V_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(ze.fromString(e))}static fromName(e){return new ee(ze.fromString(e).popFirst(5))}static empty(){return new ee(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function aF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(i===1e9?new st(n+1,0):new st(n,i));return new sr(r,ee.empty(),e)}function lF(t){return new sr(t.readTime,t.key,gl)}class sr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new sr(Re.min(),ee.empty(),gl)}static max(){return new sr(Re.max(),ee.empty(),gl)}}function cF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==uF)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,i)=>{n(e)})}static reject(e){return new F((n,i)=>{i(e)})}static waitFor(e){return new F((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=F.resolve(!1);for(const i of e)n=n.next(r=>r?F.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new F((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new F((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function hF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$g.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function Wg(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function fF(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="";function pF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=z_(e)),e=mF(t.get(n),e);return z_(e)}function mF(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case lk:n+="";break;default:n+=s}}return n}function z_(t){return t+lk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??lt.RED,this.left=r??lt.EMPTY,this.right=s??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new lt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return lt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new yn([])}unionWith(e){let n=new ht(ut.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gF("Invalid base64 string: "+s):s}}(e);return new Fn(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const yF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=yF.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="server_timestamp",dk="__type__",hk="__previous_value__",fk="__local_write_time__";function Gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dk])===null||n===void 0?void 0:n.stringValue)===uk}function qg(t){const e=t.mapValue.fields[hk];return Gg(e)?qg(e):e}function md(t){const e=es(t.mapValue.fields[fk].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,i,r,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const gd="(default)";class yd{constructor(e,n){this.projectId=e,this.database=n||gd}static empty(){return new yd("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="__type__",mk="__max__",Hc={mapValue:{fields:{__type__:{stringValue:mk}}}},gk="__vector__",Qp="value";function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:_F(t)?9007199254740991:xF(t)?10:11:ne(28295,{value:t})}function Vn(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return md(t).isEqual(md(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=es(r.timestampValue),a=es(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return uo(r.bytesValue).isEqual(uo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ct(r.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ct(r.integerValue)===ct(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ct(r.doubleValue),a=ct(s.doubleValue);return o===a?pd(o)===pd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return co(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(U_(o)!==U_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vn(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function yl(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=ts(t),i=ts(e);if(n!==i)return ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ct(s.integerValue||s.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $_(t.timestampValue,e.timestampValue);case 4:return $_(md(t),md(e));case 5:return Yp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=uo(s),l=uo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ue(a[c],l[c]);if(h!==0)return h}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ue(ct(s.latitude),ct(o.latitude));return a!==0?a:ue(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return H_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const f=s.fields||{},p=o.fields||{},g=(a=f[Qp])===null||a===void 0?void 0:a.arrayValue,x=(l=p[Qp])===null||l===void 0?void 0:l.arrayValue,w=ue(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:H_(g,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hc.mapValue&&o===Hc.mapValue)return 0;if(s===Hc.mapValue)return 1;if(o===Hc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Yp(l[f],h[f]);if(p!==0)return p;const g=ho(a[l[f]],c[h[f]]);if(g!==0)return g}return ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function $_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=es(t),i=es(e),r=ue(n.seconds,i.seconds);return r!==0?r:ue(n.nanos,i.nanos)}function H_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ho(n[r],i[r]);if(s)return s}return ue(n.length,i.length)}function fo(t){return Xp(t)}function Xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=es(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Xp(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Xp(n.fields[o])}`;return r+"}"}(t.mapValue):ne(61005,{value:t})}function yu(t){switch(ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qg(t);return e?16+yu(e):16;case 5:return 2*t.stringValue.length;case 6:return uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+yu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return So(i.fields,(s,o)=>{r+=s.length+yu(o)}),r}(t.mapValue);default:throw ne(13486,{value:t})}}function Jp(t){return!!t&&"integerValue"in t}function Kg(t){return!!t&&"arrayValue"in t}function vu(t){return!!t&&"mapValue"in t}function xF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pk])===null||n===void 0?void 0:n.stringValue)===gk}function ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ja(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _F(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=ut.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ja(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];vu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){So(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new mn(ja(this.value))}}function yk(t){const e=[];return So(t.fields,(n,i)=>{const r=new ut([n]);if(vu(i)){const s=yk(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Re.min(),Re.min(),Re.min(),mn.empty(),0)}static newFoundDocument(e,n,i,r){return new pn(e,1,n,Re.min(),i,r,0)}static newNoDocument(e,n){return new pn(e,2,n,Re.min(),Re.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Re.min(),Re.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.position=e,this.inclusive=n}}function W_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ee.comparator(ee.fromName(o.referenceValue),n.key):i=ho(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function G_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n="asc"){this.field=e,this.dir=n}}function wF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{}class it extends vk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new EF(e,n,i):n==="array-contains"?new TF(e,i):n==="in"?new IF(e,i):n==="not-in"?new CF(e,i):n==="array-contains-any"?new AF(e,i):new it(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new SF(e,i):new kF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends vk{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new or(e,n)}matches(e){return xk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function xk(t){return t.op==="and"}function _k(t){return bF(t)&&xk(t)}function bF(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Zp(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(_k(t))return t.filters.map(e=>Zp(e)).join(",");{const e=t.filters.map(n=>Zp(n)).join(",");return`${t.op}(${e})`}}function wk(t,e){return t instanceof it?function(i,r){return r instanceof it&&i.op===r.op&&i.field.isEqual(r.field)&&Vn(i.value,r.value)}(t,e):t instanceof or?function(i,r){return r instanceof or&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&wk(o,r.filters[a]),!0):!1}(t,e):void ne(19439)}function bk(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(bk).join(" ,")+"}"}(t):"Filter"}class EF extends it{constructor(e,n,i){super(e,n,i),this.key=ee.fromName(i.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class SF extends it{constructor(e,n){super(e,"in",n),this.keys=Ek("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kF extends it{constructor(e,n){super(e,"not-in",n),this.keys=Ek("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ek(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ee.fromName(i.referenceValue))}class TF extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kg(n)&&yl(n.arrayValue,this.value)}}class IF extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yl(this.value.arrayValue,n)}}class CF extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yl(this.value.arrayValue,n)}}class AF extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>yl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function q_(t,e=null,n=[],i=[],r=null,s=null,o=null){return new NF(t,e,n,i,r,s,o)}function Yg(t){const e=ke(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Zp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Wg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>fo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>fo(i)).join(",")),e.Ie=n}return e.Ie}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G_(t.startAt,e.startAt)&&G_(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PF(t,e,n,i,r,s,o,a){return new Zd(t,e,n,i,r,s,o,a)}function RF(t){return new Zd(t)}function K_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jF(t){return t.collectionGroup!==null}function Oa(t){const e=ke(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new xd(s,i))}),n.has(ut.keyField().canonicalString())||e.Ee.push(new xd(ut.keyField(),i))}return e.Ee}function Ur(t){const e=ke(t);return e.de||(e.de=OF(e,Oa(t))),e.de}function OF(t,e){if(t.limitType==="F")return q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new xd(r.field,s)});const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function em(t,e,n){return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sk(t,e){return Qg(Ur(t),Ur(e))&&t.limitType===e.limitType}function kk(t){return`${Yg(Ur(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>bk(r)).join(", ")}]`),Wg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>fo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>fo(r)).join(",")),`Target(${i})`}(Ur(t))}; limitType=${t.limitType})`}function Xg(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ee.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Oa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=W_(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Oa(i),r)||i.endAt&&!function(o,a,l){const c=W_(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Oa(i),r))}(t,e)}function DF(t){return(e,n)=>{let i=!1;for(const r of Oa(t)){const s=MF(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function MF(t,e,n){const i=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ho(l,c):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return ck(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new Bt(ee.comparator);function _d(){return LF}const Tk=new Bt(ee.comparator);function Wc(...t){let e=Tk;for(const n of t)e=e.insert(n.key,n);return e}function Ik(t){let e=Tk;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Dr(){return Da()}function Ck(){return Da()}function Da(){return new os(t=>t.toString(),(t,e)=>t.isEqual(e))}const FF=new Bt(ee.comparator),VF=new ht(ee.comparator);function bt(...t){let e=VF;for(const n of t)e=e.add(n);return e}const zF=new ht(ue);function UF(){return zF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function Ak(t){return{integerValue:""+t}}function BF(t,e){return fF(e)?Ak(e):Jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function $F(t,e,n){return t instanceof wd?function(r,s){const o={fields:{[dk]:{stringValue:uk},[fk]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Gg(s)&&(s=qg(s)),s&&(o.fields[hk]=s),{mapValue:o}}(n,e):t instanceof vl?Pk(t,e):t instanceof xl?Rk(t,e):function(r,s){const o=Nk(r,s),a=Y_(o)+Y_(r.Re);return Jp(o)&&Jp(r.Re)?Ak(a):Jg(r.serializer,a)}(t,e)}function HF(t,e,n){return t instanceof vl?Pk(t,e):t instanceof xl?Rk(t,e):n}function Nk(t,e){return t instanceof bd?function(i){return Jp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class wd extends eh{}class vl extends eh{constructor(e){super(),this.elements=e}}function Pk(t,e){const n=jk(e);for(const i of t.elements)n.some(r=>Vn(r,i))||n.push(i);return{arrayValue:{values:n}}}class xl extends eh{constructor(e){super(),this.elements=e}}function Rk(t,e){let n=jk(e);for(const i of t.elements)n=n.filter(r=>!Vn(r,i));return{arrayValue:{values:n}}}class bd extends eh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Y_(t){return ct(t.integerValue||t.doubleValue)}function jk(t){return Kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WF(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof vl&&r instanceof vl||i instanceof xl&&r instanceof xl?co(i.elements,r.elements,Vn):i instanceof bd&&r instanceof bd?Vn(i.Re,r.Re):i instanceof wd&&r instanceof wd}(t.transform,e.transform)}class GF{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class th{}function Ok(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mk(t.key,ri.none()):new Fl(t.key,t.data,ri.none());{const n=t.data,i=mn.empty();let r=new ht(ut.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new as(t.key,i,new yn(r.toArray()),ri.none())}}function qF(t,e,n){t instanceof Fl?function(r,s,o){const a=r.value.clone(),l=X_(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof as?function(r,s,o){if(!xu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=X_(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Dk(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,i){return t instanceof Fl?function(s,o,a,l){if(!xu(s.precondition,o))return a;const c=s.value.clone(),h=J_(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof as?function(s,o,a,l){if(!xu(s.precondition,o))return a;const c=J_(s.fieldTransforms,l,o),h=o.data;return h.setAll(Dk(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return xu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function KF(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=Nk(i.transform,r||null);s!=null&&(n===null&&(n=mn.empty()),n.set(i.field,s))}return n||null}function Q_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&co(i,r,(s,o)=>WF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fl extends th{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class as extends th{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function X_(t,e,n){const i=new Map;$e(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,HF(o,a,n[r]))}return i}function J_(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,$F(s,o,e))}return i}class Mk extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YF extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&qF(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ma(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ma(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Ck();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=Ok(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),bt())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,i)=>Q_(n,i))&&co(this.baseMutations,e.baseMutations,(n,i)=>Q_(n,i))}}class Zg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){$e(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return FF}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Zg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ce;function JF(t){switch(t){case z.OK:return ne(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function ZF(t){if(t===void 0)return Zr("GRPC error has no .code"),z.UNKNOWN;switch(t){case qe.OK:return z.OK;case qe.CANCELLED:return z.CANCELLED;case qe.UNKNOWN:return z.UNKNOWN;case qe.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case qe.INTERNAL:return z.INTERNAL;case qe.UNAVAILABLE:return z.UNAVAILABLE;case qe.UNAUTHENTICATED:return z.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case qe.NOT_FOUND:return z.NOT_FOUND;case qe.ALREADY_EXISTS:return z.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return z.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case qe.ABORTED:return z.ABORTED;case qe.OUT_OF_RANGE:return z.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return z.UNIMPLEMENTED;case qe.DATA_LOSS:return z.DATA_LOSS;default:return ne(39323,{code:t})}}(ce=qe||(qe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zg([4294967295,4294967295],0);class e5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n5(t,e){return tm(t,e.toTimestamp())}function Ks(t){return $e(!!t,49232),Re.fromTimestamp(function(n){const i=es(n);return new st(i.seconds,i.nanos)}(t))}function Lk(t,e){return nm(t,e).canonicalString()}function nm(t,e){const n=function(r){return new ze(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function i5(t){const e=ze.fromString(t);return $e(d5(e),10190,{key:e.toString()}),e}function im(t,e){return Lk(t.databaseId,e.path)}function r5(t){const e=i5(t);return e.length===4?ze.emptyPath():o5(e)}function s5(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o5(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Z_(t,e,n){return{name:im(t,e),fields:n.value.mapValue.fields}}function a5(t,e){let n;if(e instanceof Fl)n={update:Z_(t,e.key,e.value)};else if(e instanceof Mk)n={delete:im(t,e.key)};else if(e instanceof as)n={update:Z_(t,e.key,e.data),updateMask:u5(e.fieldMask)};else{if(!(e instanceof YF))return ne(16599,{ft:e.type});n={verify:im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof wd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:n5(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne(27497)}(t,e.precondition)),n}function l5(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map(n=>function(r,s){let o=r.updateTime?Ks(r.updateTime):Ks(s);return o.isEqual(Re.min())&&(o=Ks(s)),new GF(o,r.transformResults||[])}(n,e))):[]}function c5(t){let e=r5(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){$e(i===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=Fk(f);return p instanceof or&&_k(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new xd(ws(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Wg(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new vd(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new vd(g,p)}(n.endAt)),PF(e,r,o,s,a,"F",l,c)}function Fk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ws(n.unaryFilter.field);return it.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(n.unaryFilter.field);return it.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ws(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(ws(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(i=>Fk(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function ws(t){return ut.fromServerFormat(t.fieldPath)}function u5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function d5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.wt=e}}function f5(t){const e=c5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.Cn=new m5}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(sr.min())}updateCollectionGroup(e,n,i){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class m5{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ht(ze.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ht(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vk=41943040;class Dt{static withCacheSize(e){return new Dt(e,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(Vk,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new po(0)}static lr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="LruGarbageCollector",g5=1048576;function nw([t,e],[n,i]){const r=ue(t,n);return r===0?ue(e,i):r}class y5{constructor(e){this.Er=e,this.buffer=new ht(nw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();nw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class v5{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(tw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?G(tw,"Ignoring IndexedDB error during garbage collection: ",n):await Bg(n)}await this.mr(3e5)})}}class x5{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return F.resolve($g.le);const i=new y5(n);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(ew)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ew):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,r,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),_s()<=se.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}function _5(t,e){return new x5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?F.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ma(i.mutation,r,yn.empty(),st.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,bt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=bt()){const r=Dr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Wc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Dr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,bt()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=_d();const o=Da(),a=function(){return Da()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof as)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ma(h.mutation,c,h.mutation.getFieldMask(),st.now())):o.set(c.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new b5(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Da();let r=new Bt((o,a)=>o-a),s=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||yn.empty();h=a.applyToLocalView(c,h),i.set(l,h);const f=(r.get(a.batchId)||bt()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=Ck();h.forEach(p=>{if(!s.has(p)){const g=Ok(n.get(p),i.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):F.resolve(Dr());let a=gl,l=s;return o.next(c=>F.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,bt())).next(h=>({batchId:a,changes:Ik(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(i=>{let r=Wc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Wc();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(f,p){return new Zd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,pn.newInvalidDocument(h)))});let a=Wc();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Ma(h.mutation,c,yn.empty(),st.now()),Xg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Ks(r.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(r){return{name:r.name,query:f5(r.bundledQuery),readTime:Ks(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.overlays=new Bt(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Dr();return F.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.bt(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),F.resolve()}getOverlaysForCollection(e,n,i){const r=Dr(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return F.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Bt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=Dr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Dr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return F.resolve(a)}bt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new XF(n,i));let s=this.Qr.get(n);s===void 0&&(s=bt(),this.Qr.set(n,s)),this.Qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.$r=new ht(et.Ur),this.Kr=new ht(et.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new et(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new et(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new ee(new ze([])),i=new et(n,e),r=new et(n,e+1),s=[];return this.Kr.forEachInRange([i,r],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new ze([])),i=new et(n,e),r=new et(n,e+1);let s=bt();return this.Kr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||ue(e.Zr,n.Zr)}static Wr(e,n){return ue(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ht(et.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QF(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Xr=this.Xr.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ti(i),s=r<0?0:r;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Hg:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),r=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],o=>{const a=this.ei(o.Zr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ht(ue);return n.forEach(r=>{const s=new et(r,0),o=new et(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{i=i.add(a.Zr)})}),F.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ee.isDocumentKey(s)||(s=s.child(""));const o=new et(new ee(s),0);let a=new ht(ue);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(i=>{const r=this.ei(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){$e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return F.forEach(n.mutations,r=>{const s=new et(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new et(n,0),r=this.Xr.firstAfterOrEqual(i);return F.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.ii=e,this.docs=function(){return new Bt(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return F.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let i=_d();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():pn.newInvalidDocument(r))}),F.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=_d();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||cF(lF(h),i)<=0||(r.has(h.key)||Xg(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ne(9500)}si(e,n){return F.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new A5(this)}getSize(e){return F.resolve(this.size)}}class A5 extends w5{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.persistence=e,this.oi=new os(n=>Yg(n),Qg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new ey,this.targetCount=0,this.ui=po.cr()}forEachTarget(e,n){return this.oi.forEach((i,r)=>n(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new po(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),F.waitFor(s).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return F.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),F.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return F.resolve(i)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.ci={},this.overlays={},this.li=new $g(0),this.hi=!1,this.hi=!0,this.Pi=new T5,this.referenceDelegate=e(this),this.Ti=new N5(this),this.indexManager=new p5,this.remoteDocumentCache=function(r){return new C5(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new h5(n),this.Ei=new S5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new I5(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){G("MemoryPersistence","Starting transaction:",e);const r=new P5(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(e,n){return F.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class P5 extends dF{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Vi=new ey,this.mi=null}static fi(e){return new ty(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),F.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,i=>{const r=ee.fromPath(i);return this.pi(e,r).next(s=>{s||n.removeEntry(r,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ed{constructor(e,n){this.persistence=e,this.yi=new os(i=>pF(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=_5(this,n)}static fi(e,n){return new Ed(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Sr(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(s=>s?F.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,o=>this.Dr(e,o,n).next(a=>{a||(i++,s.removeEntry(o,Re.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yu(e.data.value)),n}Dr(e,n,i){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.yi.get(n);return F.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ds=i,this.As=r}static Rs(e,n){let i=bt(),r=bt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ny(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return jM()?8:hF(Tt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new R5;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,i,r){return i.documentReadCount<this.gs?(_s()<=se.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(_s()<=se.DEBUG&&G("QueryEngine","Query:",ra(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(_s()<=se.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):F.resolve())}ws(e,n){if(K_(n))return F.resolve(null);let i=Ur(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=em(n,null,"F"),i=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=bt(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,em(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,i,r){return K_(n)||r.isEqual(Re.min())?F.resolve(null):this.ys.getDocuments(e,i).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,i,r)?F.resolve(null):(_s()<=se.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ra(n)),this.Fs(e,o,n,aF(r,gl)).next(a=>a))})}vs(e,n){let i=new ht(DF(e));return n.forEach((r,s)=>{Xg(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}bs(e,n,i){return _s()<=se.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ra(n)),this.ys.getDocumentsMatchingQuery(e,n,sr.min(),i)}Fs(e,n,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="LocalStore";class D5{constructor(e,n,i,r){this.persistence=e,this.Ms=n,this.serializer=r,this.xs=new Bt(ue),this.Os=new os(s=>Yg(s),Qg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E5(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function M5(t,e,n,i){return new D5(t,e,n,i)}async function Uk(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=bt();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function L5(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let g=F.resolve();return p.forEach(x=>{g=g.next(()=>h.getEntry(l,x)).next(w=>{const b=c.docVersions.get(x);$e(b!==null,48541),w.version.compareTo(b)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=bt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function F5(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function V5(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Hg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class iw{constructor(){this.activeTargetIds=UF()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z5{constructor(){this.xo=new iw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new iw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="ConnectivityMonitor";class sw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G(rw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G(rw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function rm(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",B5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $5{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===gd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,n,i,r,s){const o=rm(),a=this.jo(e,n.toUriEncodedString());G(wf,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,r,s);const{host:c}=new URL(a),h=Pl(c);return this.Jo(e,a,l,i,h).then(f=>(G(wf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Jd(wf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",i),f})}Yo(e,n,i,r,s,o){return this.zo(e,n,i,r,s)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}jo(e,n){const i=B5[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt="WebChannelConnection";class W5 extends $5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const o=rm();return new Promise((a,l)=>{const c=new ek;c.setWithCredentials(!0),c.listenOnce(tk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gu.NO_ERROR:const f=c.getResponseJson();G(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case gu.TIMEOUT:G(vt,`RPC '${e}' ${o} timed out`),l(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const p=c.getStatus();if(G(vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const w=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(x.status);l(new X(w,x.message))}else l(new X(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(z.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(vt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);G(vt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",h,i,15)})}T_(e,n,i){const r=rm(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rk(),a=ik(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");G(vt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const x=new H5({Zo:b=>{g?G(vt,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(p||(G(vt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),G(vt,`RPC '${e}' stream ${r} sending:`,b),f.send(b))},Xo:()=>f.close()}),w=(b,v,_)=>{b.listen(v,S=>{try{_(S)}catch(P){setTimeout(()=>{throw P},0)}})};return w(f,ma.EventType.OPEN,()=>{g||(G(vt,`RPC '${e}' stream ${r} transport opened.`),x.__())}),w(f,ma.EventType.CLOSE,()=>{g||(g=!0,G(vt,`RPC '${e}' stream ${r} transport closed`),x.u_())}),w(f,ma.EventType.ERROR,b=>{g||(g=!0,Jd(vt,`RPC '${e}' stream ${r} transport errored. Name:`,b.name,"Message:",b.message),x.u_(new X(z.UNAVAILABLE,"The operation could not be completed")))}),w(f,ma.EventType.MESSAGE,b=>{var v;if(!g){const _=b.data[0];$e(!!_,16349);const S=_,P=(S==null?void 0:S.error)||((v=S[0])===null||v===void 0?void 0:v.error);if(P){G(vt,`RPC '${e}' stream ${r} received error:`,P);const j=P.status;let M=function(I){const C=qe[I];if(C!==void 0)return ZF(C)}(j),T=P.message;M===void 0&&(M=z.INTERNAL,T="Unknown error status: "+j+" with message "+P.message),g=!0,x.u_(new X(M,T)),f.close()}else G(vt,`RPC '${e}' stream ${r} received:`,_),x.c_(_)}}),w(a,nk.STAT_EVENT,b=>{b.stat===Kp.PROXY?G(vt,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===Kp.NOPROXY&&G(vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return new e5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,i=1e3,r=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=i,this.E_=r,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),r=Math.max(0,n-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="PersistentStream";class G5{constructor(e,n,i,r,s,o,a,l){this.xi=e,this.y_=i,this.w_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Bk(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.S_===n&&this.K_(i,r)},i=>{e(()=>{const r=new X(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(r)})})}K_(e,n){const i=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.W_(r))}),this.stream.onMessage(r=>{i(()=>++this.v_==1?this.z_(r):this.onNext(r))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(ow,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(ow,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q5 extends G5{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=l5(e.writeResults,e.commitTime),i=Ks(e.commitTime);return this.listener.ea(i,n)}ta(){const e={};e.database=s5(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>a5(this.serializer,i))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{}class Y5 extends K5{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.na=!1}ra(){if(this.na)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,nm(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(z.UNKNOWN,s.toString())})}Yo(e,n,i,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,nm(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Q5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Zr(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class X5{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{i.enqueueAndForget(async()=>{Ul(this)&&(G(Vl,"Restarting streams for network reachability change."),await async function(l){const c=ke(l);c.Ta.add(4),await zl(c),c.da.set("Unknown"),c.Ta.delete(4),await ih(c)}(this))})}),this.da=new Q5(i,r)}}async function ih(t){if(Ul(t))for(const e of t.Ia)await e(!0)}async function zl(t){for(const e of t.Ia)await e(!1)}function Ul(t){return ke(t).Ta.size===0}async function $k(t,e,n){if(!Ll(e))throw e;t.Ta.add(1),await zl(t),t.da.set("Offline"),n||(n=()=>F5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Vl,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await ih(t)})}function Hk(t,e){return e().catch(n=>$k(t,n,e))}async function rh(t){const e=ke(t),n=ar(e);let i=e.ha.length>0?e.ha[e.ha.length-1].batchId:Hg;for(;J5(e);)try{const r=await V5(e.localStore,i);if(r===null){e.ha.length===0&&n.N_();break}i=r.batchId,Z5(e,r)}catch(r){await $k(e,r)}Wk(e)&&Gk(e)}function J5(t){return Ul(t)&&t.ha.length<10}function Z5(t,e){t.ha.push(e);const n=ar(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function Wk(t){return Ul(t)&&!ar(t).F_()&&t.ha.length>0}function Gk(t){ar(t).start()}async function e6(t){ar(t).ta()}async function t6(t){const e=ar(t);for(const n of t.ha)e.Z_(n.mutations)}async function n6(t,e,n){const i=t.ha.shift(),r=Zg.from(i,e,n);await Hk(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await rh(t)}async function i6(t,e){e&&ar(t).Y_&&await async function(i,r){if(function(o){return JF(o)&&o!==z.ABORTED}(r.code)){const s=i.ha.shift();ar(i).O_(),await Hk(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await rh(i)}}(t,e),Wk(t)&&Gk(t)}async function aw(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),G(Vl,"RemoteStore received new credentials");const i=Ul(n);n.Ta.add(3),await zl(n),i&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await ih(n)}async function r6(t,e){const n=ke(t);e?(n.Ta.delete(2),await ih(n)):e||(n.Ta.add(2),await zl(n),n.da.set("Unknown"))}function ar(t){return t.Va||(t.Va=function(n,i,r){const s=ke(n);return s.ra(),new q5(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:e6.bind(null,t),i_:i6.bind(null,t),X_:t6.bind(null,t),ea:n6.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await rh(t)):(await t.Va.stop(),t.ha.length>0&&(G(Vl,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new iy(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qk(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),Ll(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}class s6{constructor(){this.queries=lw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,i){const r=ke(n),s=r.queries;r.queries=lw(),s.forEach((o,a)=>{for(const l of a.ya)l.onError(i)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function lw(){return new os(t=>kk(t),Sk)}function o6(t){t.ba.forEach(e=>{e.next()})}var cw,uw;(uw=cw||(cw={})).Ca="default",uw.Cache="cache";const a6="SyncEngine";class l6{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new os(a=>kk(a),Sk),this.cu=new Map,this.lu=new Set,this.hu=new Bt(ee.comparator),this.Pu=new Map,this.Tu=new ey,this.Iu={},this.Eu=new Map,this.du=po.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function c6(t,e,n){const i=f6(t);try{const r=await function(o,a){const l=ke(o),c=st.now(),h=a.reduce((g,x)=>g.add(x.key),bt());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=_d(),w=bt();return l.Bs.getEntries(g,h).next(b=>{x=b,x.forEach((v,_)=>{_.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(b=>{f=b;const v=[];for(const _ of a){const S=KF(_,f.get(_.key).overlayedDocument);S!=null&&v.push(new as(_.key,S,yk(S.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,v,a)}).next(b=>{p=b;const v=b.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(g,b.batchId,v)})}).then(()=>({batchId:p.batchId,changes:Ik(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new Bt(ue)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(i,r.batchId,n),await sh(i,r.changes),await rh(i.remoteStore)}catch(r){const s=qk(r,"Failed to persist write");n.reject(s)}}function dw(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ke(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.ya)p.Da(a)&&(c=!0)}),c&&o6(l)}(i.eventManager,e),r.length&&i.au.j_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function u6(t,e){const n=ke(t),i=e.batch.batchId;try{const r=await L5(n.localStore,e);Yk(n,i,null),Kk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sh(n,r)}catch(r){await Bg(r)}}async function d6(t,e,n){const i=ke(t);try{const r=await function(o,a){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>($e(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);Yk(i,e,n),Kk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await sh(i,r)}catch(r){await Bg(r)}}function Kk(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function Yk(t,e,n){const i=ke(t);let r=i.Iu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Iu[i.currentUser.toKey()]=r}}async function sh(t,e,n){const i=ke(t),r=[],s=[],o=[];i.uu.isEmpty()||(i.uu.forEach((a,l)=>{o.push(i.Ru(l,e,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(h=void 0)===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=ny.Rs(l.targetId,c);s.push(f)}}))}),await Promise.all(o),i.au.j_(r),await async function(l,c){const h=ke(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,p=>F.forEach(p.ds,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>F.forEach(p.As,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Ll(f))throw f;G(O5,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.xs.get(p),x=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(x);h.xs=h.xs.insert(p,w)}}}(i.localStore,s))}async function h6(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){G(a6,"User change. New user:",e.toKey());const i=await Uk(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new X(z.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await sh(n,i.ks)}}function f6(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d6.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return M5(this.persistence,new j5,e.initialUser,this.serializer)}yu(e){return new zk(ty.fi,this.serializer)}pu(e){return new z5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class p6 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){$e(this.persistence.referenceDelegate instanceof Ed,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new v5(i,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new zk(i=>Ed.fi(i,n),this.serializer)}}class sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h6.bind(null,this.syncEngine),await r6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s6}()}createDatastore(e){const n=nh(e.databaseInfo.databaseId),i=function(s){return new W5(s)}(e.databaseInfo);return function(s,o,a,l){return new Y5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new X5(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dw(this.syncEngine,n,0),function(){return sw.C()?new sw:new U5}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,h){const f=new l6(r,s,o,a,l,c);return h&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=ke(r);G(Vl,"RemoteStore shutting down."),s.Ta.add(5),await zl(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class m6{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=_t.UNAUTHENTICATED,this.clientId=ak.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{G(lr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(G(lr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=qk(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ef(t,e){t.asyncQueue.verifyOperationInProgress(),G(lr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Uk(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g6(t);G(lr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>aw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>aw(e.remoteStore,r)),t._onlineComponents=e}async function g6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(lr,"Using user provided OfflineComponentProvider");try{await Ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===z.FAILED_PRECONDITION||r.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Jd("Error using user provided cache. Falling back to memory cache: "+n),await Ef(t,new Sd)}}else G(lr,"Using default OfflineComponentProvider"),await Ef(t,new p6(void 0));return t._offlineComponents}async function y6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(lr,"Using user provided OnlineComponentProvider"),await hw(t,t._uninitializedComponentsProvider._online)):(G(lr,"Using default OnlineComponentProvider"),await hw(t,new sm))),t._onlineComponents}function v6(t){return y6(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x6(t,e,n,i){if(e===!0&&i===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pw(t){if(!ee.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mw(t){if(ee.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Jk(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ry(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firestore.googleapis.com",gw=!0;class yw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zk,this.ssl=gw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:gw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g5)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new X3;switch(i.type){case"firstParty":return new tF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=fw.get(n);i&&(G("ComponentProvider","Removing Datastore"),fw.delete(n),i.terminate())}(this),Promise.resolve()}}function _6(t,e,n,i={}){var r;t=Jk(t,oh);const s=Pl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(mS(`https://${l}`),gS("Firestore",!0)),o.host!==Zk&&o.host!==l&&Jd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:i});if(!Yr(c,a)&&(t._setSettings(c),i.mockUserToken)){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=_t.MOCK_USER;else{h=SM(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _t(p)}t._authCredentials=new J3(new ok(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sy(this.firestore,e,this._query)}}class si{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}}class tr extends sy{constructor(e,n,i){super(e,n,RF(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new ee(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function w6(t,e,...n){if(t=wn(t),Xk("collection","path",e),t instanceof oh){const i=ze.fromString(e,...n);return mw(i),new tr(t,null,i)}{if(!(t instanceof si||t instanceof tr))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ze.fromString(e,...n));return mw(i),new tr(t.firestore,null,i)}}function b6(t,e,...n){if(t=wn(t),arguments.length===1&&(e=ak.newId()),Xk("doc","path",e),t instanceof oh){const i=ze.fromString(e,...n);return pw(i),new si(t,null,new ee(i))}{if(!(t instanceof si||t instanceof tr))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ze.fromString(e,...n));return pw(i),new si(t.firestore,t instanceof tr?t.converter:null,new ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="AsyncQueue";class xw{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Bk(this,"async_queue_retry"),this.ec=()=>{const i=bf();i&&G(vw,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=e;const n=bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new zr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ll(e))throw e;G(vw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(i=>{throw this.Ju=i,this.Yu=!1,Zr("INTERNAL UNHANDLED ERROR: ",_w(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=n,n}enqueueAfterDelay(e,n,i){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const r=iy.createAndSchedule(this,e,n,i,s=>this.oc(s));return this.Hu.push(r),r}nc(){this.Ju&&ne(47125,{_c:_w(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function _w(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class eT extends oh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new xw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xw(e),this._firestoreClient=void 0,await e}}}function E6(t,e){const n=typeof t=="object"?t:_S(),i=typeof t=="string"?t:gd,r=Ng(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=bM("firestore");s&&_6(r,...s)}return r}function S6(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k6(t),t._firestoreClient}function k6(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,h){return new vF(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Qk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new m6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(Fn.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _l(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=/^__.*__$/;class I6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}function sT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:t})}}class oy{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tc({path:i,Ec:!1});return r.dc(e),r}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tc({path:i,Ec:!1});return r.Pc(),r}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return kd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(sT(this.hc)&&T6.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class C6{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||nh(e)}gc(e,n,i,r=!1){return new oy({hc:e,methodName:n,fc:i,path:ut.emptyPath(),Ec:!1,mc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A6(t){const e=t._freezeSettings(),n=nh(t._databaseId);return new C6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N6(t,e,n,i,r,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,r);cT("Data must be an object, but it was:",o,i);const a=aT(i,o);let l,c;if(s.merge)l=new yn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=P6(e,f,n);if(!o.contains(p))throw new X(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);O6(h,p)||h.push(p)}l=new yn(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new I6(new mn(a),l,c)}function oT(t,e){if(lT(t=wn(t)))return cT("Unsupported field value:",e,t),aT(t,e);if(t instanceof nT)return function(i,r){if(!sT(r.hc))throw r.Vc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Vc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=oT(a,r.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=wn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BF(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=st.fromDate(i);return{timestampValue:tm(r.serializer,s)}}if(i instanceof st){const s=new st(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:tm(r.serializer,s)}}if(i instanceof iT)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _l)return{bytesValue:t5(r.serializer,i._byteString)};if(i instanceof si){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lk(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof rT)return function(o,a){return{mapValue:{fields:{[pk]:{stringValue:gk},[Qp]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return Jg(a.serializer,c)})}}}}}}(i,r);throw r.Vc(`Unsupported field value: ${ry(i)}`)}(t,e)}function aT(t,e){const n={};return ck(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(i,r)=>{const s=oT(r,e.Ic(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function lT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof iT||t instanceof _l||t instanceof si||t instanceof nT||t instanceof rT)}function cT(t,e,n){if(!lT(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=ry(n);throw i==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+i)}}function P6(t,e,n){if((e=wn(e))instanceof tT)return e._internalPath;if(typeof e=="string")return j6(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const R6=new RegExp("[~\\*/\\[\\]]");function j6(t,e,n){if(e.search(R6)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tT(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new X(z.INVALID_ARGUMENT,a+t+l)}function O6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t,e,n){let i;return i=t?t.toFirestore(e):e,i}function M6(t,e){const n=Jk(t.firestore,eT),i=b6(t),r=D6(t.converter,e);return L6(n,[N6(A6(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}function L6(t,e){return function(i,r){const s=new zr;return i.asyncQueue.enqueueAndForget(async()=>c6(await v6(i),r,s)),s.promise}(S6(t),e)}(function(e,n=!0){(function(r){Eo=r})(wo),ao(new Qr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new eT(new Z3(i.getProvider("auth-internal")),new nF(o,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(c.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),er(j_,O_,e),er(j_,O_,"esm2017")})();const F6={apiKey:"YOUR_API_KEY",authDomain:"nutrify-7ce3e.firebaseapp.com",projectId:"nutrify-7ce3e",storageBucket:"nutrify-7ce3e.appspot.com",messagingSenderId:"XXXX",appId:"XXXX"},uT=xS(F6),V6=Y3(uT),z6=E6(uT),U6=({isLoading:t})=>{const{recentAnalysis:e,addFoodItem:n,setRecentAnalysis:i}=gi(),[r,s]=O.useState(!1),[o,a]=O.useState(!1),[l,c]=O.useState(null),h=O.useRef(null),{getRootProps:f,getInputProps:p,isDragActive:g}=Ig({accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxFiles:1,onDrop:async w=>{if(!(!w||w.length===0)){a(!0),c(null);try{const b=await Bs(w[0]);i(b)}catch{c("Failed to analyze image. Please try again.")}finally{a(!1)}}}});Rn.useEffect(()=>{if(!r){h.current&&h.current.srcObject&&(h.current.srcObject.getTracks().forEach(b=>b.stop()),h.current.srcObject=null);return}return navigator.mediaDevices.getUserMedia({video:!0}).then(w=>{h.current&&(h.current.srcObject=w)}).catch(()=>c("Unable to access camera.")),()=>{h.current&&h.current.srcObject&&(h.current.srcObject.getTracks().forEach(b=>b.stop()),h.current.srcObject=null)}},[r]);const x=async w=>{const b=new Date().toISOString().split("T")[0],v=V6.currentUser;if(n({...w,id:Date.now().toString(),date:b,mealType:"lunch"}),v)try{await M6(w6(z6,"foodLogs"),{uid:v.uid,...w,date:b,mealType:"lunch",createdAt:new Date})}catch{c("Failed to save food log to cloud.")}};return t?d.jsx("div",{className:"nutrify-card bg-white",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block mx-auto mb-4",children:d.jsxs("svg",{className:"animate-spin h-12 w-12 text-nutrify-accent",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),d.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Analyzing your food..."}),d.jsx("p",{className:"text-gray-600",children:"Our AI is identifying food items and calculating nutritional information"})]})}):!e||!e.foodItems||e.foodItems.length===0?d.jsxs("div",{className:"nutrify-card bg-white",children:[d.jsxs("div",{className:"flex justify-end mb-4",children:[d.jsx("button",{className:`nutrify-btn-primary flex items-center px-4 py-2 mr-2 ${r?"":"bg-nutrify-blue"}`,onClick:()=>s(!1),disabled:!r,children:"Upload/Drag Image"}),d.jsx("button",{className:`nutrify-btn-primary flex items-center px-4 py-2 ${r?"bg-nutrify-blue":""}`,onClick:()=>s(!0),disabled:r,children:"Camera"})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[d.jsxs("div",{className:"flex-1",children:[r?d.jsxs("div",{className:"w-full h-72 flex items-center justify-center bg-gray-100 rounded-lg relative mb-6 md:mb-0",children:[d.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover rounded-lg",id:"food-camera-video"}),d.jsx("button",{onClick:()=>s(!1),className:"absolute top-2 right-2 bg-white bg-opacity-80 p-1 rounded-full text-gray-700 hover:text-red-500 transition-colors",children:"Close"}),d.jsx("button",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 nutrify-btn-primary px-6 py-2",disabled:o,onClick:async()=>{if(!h.current)return;a(!0),c(null),h.current.readyState<2&&await new Promise(v=>{var _;(_=h.current)==null||_.addEventListener("loadeddata",v,{once:!0})}),await new Promise(v=>setTimeout(v,5e3));const w=document.createElement("canvas");w.width=h.current.videoWidth,w.height=h.current.videoHeight;const b=w.getContext("2d");if(!b){a(!1);return}b.drawImage(h.current,0,0,w.width,w.height),w.toBlob(async v=>{if(!v){a(!1);return}const _=new File([v],`capture-${Date.now()}.png`,{type:"image/png"});try{const S=await Bs(_);i(S),s(!1)}catch{c("Failed to analyze photo. Please try again.")}finally{a(!1)}},"image/png")},children:o?"Capturing in 5s & Analyzing...":"Take Photo in 5s & Analyze"})]}):d.jsxs("div",{...f(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors mb-6 md:mb-0 ${g?"border-nutrify-blue bg-nutrify-blue-light":"border-gray-300 hover:border-nutrify-blue hover:bg-nutrify-blue-light"}`,children:[d.jsx("input",{...p()}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:`mb-4 ${g?"text-nutrify-blue":"text-gray-400"}`,children:[" ",d.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4"}),d.jsx("rect",{x:"4",y:"16",width:"16",height:"4",rx:"2"})]}),g?d.jsx("p",{className:"text-nutrify-blue font-medium",children:"Drop your image here..."}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Drag & drop a food image"}),d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse files"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG (max 5MB)"})]})]})]}),l&&d.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-600 rounded-md text-sm",children:l})]}),d.jsx("div",{className:"w-full md:w-80 flex-shrink-0",children:d.jsxs("div",{className:"bg-nutrify-blue-light border border-nutrify-blue/30 rounded-lg p-5 shadow-sm",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Tips for Best Results"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"1"}),"Take photos in good lighting"]}),d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"2"}),"Include all food items in the frame"]}),d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"3"}),"Take photos from above for best recognition"]}),d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"4"}),"Include common objects for scale (e.g., utensils)"]})]})]})})]}),l&&d.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-600 rounded-md text-sm",children:l}),d.jsxs("div",{className:"text-center py-12 relative",children:[d.jsx("button",{type:"button",title:"Back to analysis form",onClick:()=>{i(null),c(null),a(!1),s(!1)},children:d.jsx(Xh,{size:28,className:"rotate-180 text-nutrify-blue"})}),d.jsx("div",{className:"w-24 h-24 bg-nutrify-blue-light rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Xh,{size:32,className:"text-nutrify-blue ml-2"})}),d.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-3",children:"Food not recognized"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Failed to analyze image. Please try again."}),d.jsx("p",{className:"text-sm text-gray-500",children:"Make sure your photo is clear and contains recognizable food items, or try a different image or text input."})]})]}):d.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"nutrify-card bg-white mb-6",children:[d.jsxs("div",{className:"flex justify-end mb-4",children:[d.jsx("button",{className:`nutrify-btn-primary flex items-center px-4 py-2 mr-2 ${r?"":"bg-nutrify-blue"}`,onClick:()=>s(!1),disabled:!r,children:"Upload/Drag Image"}),d.jsx("button",{className:`nutrify-btn-primary flex items-center px-4 py-2 ${r?"bg-nutrify-blue":""}`,onClick:()=>s(!0),disabled:r,children:"Camera"})]}),r?d.jsxs("div",{className:"w-full h-72 flex items-center justify-center bg-gray-100 rounded-lg relative mb-6",children:[d.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover rounded-lg",id:"food-camera-video"}),d.jsx("button",{onClick:()=>s(!1),className:"absolute top-2 right-2 bg-white bg-opacity-80 p-1 rounded-full text-gray-700 hover:text-red-500 transition-colors",children:"Close"}),d.jsx("button",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 nutrify-btn-primary px-6 py-2",disabled:o,onClick:async()=>{if(!h.current)return;a(!0),c(null),h.current.readyState<2&&await new Promise(v=>{var _;(_=h.current)==null||_.addEventListener("loadeddata",v,{once:!0})}),await new Promise(v=>setTimeout(v,5e3));const w=document.createElement("canvas");w.width=h.current.videoWidth,w.height=h.current.videoHeight;const b=w.getContext("2d");if(!b){a(!1);return}b.drawImage(h.current,0,0,w.width,w.height),w.toBlob(async v=>{if(!v){a(!1);return}const _=new File([v],`capture-${Date.now()}.png`,{type:"image/png"});try{const S=await Bs(_);i(S),s(!1)}catch{c("Failed to analyze photo. Please try again.")}finally{a(!1)}},"image/png")},children:o?"Capturing in 5s & Analyzing...":"Take Photo in 5s & Analyze"})]}):d.jsxs("div",{...f(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors mb-6 ${g?"border-nutrify-blue bg-nutrify-blue-light":"border-gray-300 hover:border-nutrify-blue hover:bg-nutrify-blue-light"}`,children:[d.jsx("input",{...p()}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:`mb-4 ${g?"text-nutrify-blue":"text-gray-400"}`,children:[" ",d.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4"}),d.jsx("rect",{x:"4",y:"16",width:"16",height:"4",rx:"2"})]}),g?d.jsx("p",{className:"text-nutrify-blue font-medium",children:"Drop your image here..."}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Drag & drop a food image"}),d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse files"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG (max 5MB)"})]})]})]}),l&&d.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-600 rounded-md text-sm",children:l})]}),d.jsxs("div",{className:"nutrify-card bg-nutrify-blue-light border border-nutrify-blue/30 rounded-lg p-5 shadow-sm",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Tips for Best Results"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"1"}),"Take photos in good lighting"]}),d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"2"}),"Include all food items in the frame"]}),d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"3"}),"Take photos from above for best recognition"]}),d.jsxs("li",{children:[d.jsx("span",{className:"inline-block w-6 h-6 bg-nutrify-blue text-white rounded-full text-center mr-2",children:"4"}),"Include common objects for scale (e.g., utensils)"]})]})]})]}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{className:"nutrify-card bg-white",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Analysis Results"}),d.jsx("p",{className:"text-gray-600",children:"Here's the nutritional breakdown of your food"})]}),d.jsxs("div",{className:"bg-nutrify-blue-light rounded-lg p-4 mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Total Nutritional Value"}),d.jsxs("span",{className:"bg-nutrify-blue text-white text-sm font-medium py-1 px-2 rounded",children:[e.totalCalories," kcal"]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[d.jsx(Sf,{label:"Protein",value:e.totalProtein,unit:"g"}),d.jsx(Sf,{label:"Carbs",value:e.totalCarbs,unit:"g"}),d.jsx(Sf,{label:"Fat",value:e.totalFat,unit:"g"})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("button",{onClick:()=>{e.foodItems.forEach(w=>x(w))},className:"w-full nutrify-btn-primary flex justify-center items-center py-2",children:[d.jsx(qu,{size:16,className:"mr-1"}),"Add All to Meal Log"]})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Detected Food Items"}),e.foodItems.map((w,b)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),d.jsx("p",{className:"text-sm text-gray-600",children:w.portion})]}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[w.calories," kcal"]})]}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Protein:"})," ",typeof w.protein=="number"?w.protein.toFixed(1):"0.0","g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Carbs:"})," ",typeof w.carbs=="number"?w.carbs.toFixed(1):"0.0","g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Fat:"})," ",typeof w.fat=="number"?w.fat.toFixed(1):"0.0","g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Fiber:"})," ",typeof w.fiber=="number"?w.fiber.toFixed(1):"0.0","g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Sodium:"})," ",typeof w.sodium=="number"?w.sodium.toFixed(1):"0.0","mg"]})]}),d.jsxs("button",{onClick:()=>x(w),className:"mt-3 text-nutrify-blue hover:text-blue-700 text-sm font-medium flex items-center",children:[d.jsx(qu,{size:14,className:"mr-1"}),"Add to Meal Log"]})]},b))]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:d.jsxs(ve,{to:"/meal-log",className:"text-nutrify-blue hover:text-blue-700 font-medium flex items-center",children:["Go to Meal Log ",d.jsx(Xh,{size:16,className:"ml-1"})]})})]})})]})},Sf=({label:t,value:e,unit:n})=>d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:t}),d.jsxs("p",{className:"font-semibold text-gray-900",children:[e.toFixed(1),d.jsx("span",{className:"text-xs ml-1",children:n})]})]}),B6=()=>{const[t,e]=O.useState(null),[n,i]=O.useState(null),[r,s]=O.useState(!1),[o,a]=O.useState(null),[l,c]=O.useState(!1);gi();const h=Rn.useRef(null),f=Rn.useRef(null),p=O.useCallback(g=>{if(a(null),g&&g.length>0){const x=g[0];if(!x.type.startsWith("image/")){a("Please upload an image file (JPEG, PNG, etc.)");return}if(x.size>5*1024*1024){a("Image size should be less than 5MB");return}e(x),i(URL.createObjectURL(x))}},[]);return Ig({onDrop:p,accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxFiles:1}),Rn.useEffect(()=>{const g=()=>{console.debug("[FoodAnalysisPage] openCameraCapture event received"),c(!0)};return window.addEventListener("openCameraCapture",g),()=>window.removeEventListener("openCameraCapture",g)},[]),Rn.useEffect(()=>(l?navigator.mediaDevices.getUserMedia({video:!0}).then(g=>{f.current=g,h.current&&(h.current.srcObject=g)}).catch(g=>{a("Unable to access camera."),c(!1)}):(f.current&&(f.current.getTracks().forEach(g=>g.stop()),f.current=null),h.current&&(h.current.srcObject=null)),()=>{f.current&&(f.current.getTracks().forEach(g=>g.stop()),f.current=null),h.current&&(h.current.srcObject=null)}),[l]),d.jsxs("div",{children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Food Analysis"}),d.jsx("p",{className:"text-gray-600",children:"Upload a photo of your food to get detailed nutritional information"})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:d.jsx("div",{className:"lg:col-span-5",children:d.jsx(U6,{isLoading:r})})})]})},$6=({item:t})=>{const{removeFoodItem:e}=gi(),[n,i]=O.useState(!1),r=()=>{i(!n)},s=()=>{confirm("Are you sure you want to remove this item from your meal log?")&&e(t.id)};return d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-sm transition-shadow",children:[d.jsxs("div",{className:"p-4 cursor-pointer",onClick:r,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),d.jsx("p",{className:"text-sm text-gray-600",children:t.portion})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"font-semibold text-gray-900",children:[t.calories," kcal"]})})]}),d.jsxs("div",{className:"mt-2 flex space-x-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Protein:"})," ",t.protein.toFixed(1),"g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Carbs:"})," ",t.carbs.toFixed(1),"g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Fat:"})," ",t.fat.toFixed(1),"g"]})]})]}),n&&d.jsxs("div",{className:"px-4 pb-4 pt-1 border-t border-gray-100 bg-nutrify-light bg-opacity-50",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[t.fiber!==void 0&&d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Fiber:"})," ",t.fiber.toFixed(1),"g"]}),t.sugar!==void 0&&d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Sugar:"})," ",t.sugar.toFixed(1),"g"]}),t.sodium!==void 0&&d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Sodium:"})," ",t.sodium.toFixed(0),"mg"]})]}),d.jsx("div",{className:"mt-3 flex justify-end",children:d.jsxs("button",{onClick:s,className:"text-red-500 hover:text-red-700 flex items-center text-sm",children:[d.jsx(oN,{size:14,className:"mr-1"}),"Remove"]})})]})]})},H6=({date:t,mealType:e,onClose:n})=>{const{addFoodItem:i}=gi(),[r,s]=O.useState(""),[o,a]=O.useState(""),[l,c]=O.useState(!1),[h,f]=O.useState([]),[p,g]=O.useState(null),x=async()=>{if(r.trim()){c(!0);try{const v=await Bs(r);f(v.foodItems||[])}catch(v){console.error("Error searching for food items:",v)}finally{c(!1)}}},w=v=>{g(v),f([])},b=()=>{if(!p)return;const v={id:Date.now().toString(),name:p.name,portion:o||p.portion,calories:p.calories,protein:p.protein,carbs:p.carbs,fat:p.fat,fiber:p.fiber,sugar:p.sugar,sodium:p.sodium,date:t,mealType:e};i(v),n()};return d.jsx("div",{children:p?d.jsxs("div",{children:[d.jsxs("div",{className:"bg-nutrify-light p-3 rounded-md mb-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:p.name}),d.jsx("p",{className:"text-sm text-gray-600",children:p.portion})]}),d.jsx("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700",children:d.jsx(nE,{size:18})})]}),d.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Calories:"})," ",p.calories," kcal"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Protein:"})," ",p.protein.toFixed(1),"g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Carbs:"})," ",p.carbs.toFixed(1),"g"]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Fat:"})," ",p.fat.toFixed(1),"g"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"portion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Portion Size (optional)"}),d.jsx("input",{id:"portion",type:"text",value:o,onChange:v=>a(v.target.value),placeholder:p.portion,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-nutrify-accent focus:border-nutrify-accent"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Override the default portion size if needed. E.g., "2 slices" or "150g"'})]}),d.jsxs("div",{className:"flex justify-between space-x-4",children:[d.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:"Cancel"}),d.jsxs("button",{onClick:b,className:"nutrify-btn-primary flex items-center",children:[d.jsx(qu,{size:16,className:"mr-1"}),"Add to Log"]})]})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search for a food"}),d.jsxs("div",{className:"flex",children:[d.jsx("input",{id:"searchTerm",type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"e.g. grilled chicken, apple, pasta...",className:"flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:ring-nutrify-accent focus:border-nutrify-accent"}),d.jsx("button",{onClick:x,disabled:l||!r.trim(),className:"bg-nutrify-accent text-white px-3 py-2 rounded-r-md hover:bg-green-600 transition-colors flex items-center",children:l?d.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(Ku,{size:18})})]})]}),h.length>0?d.jsx("div",{className:"mb-4 max-h-60 overflow-y-auto border border-gray-200 rounded-md",children:h.map((v,_)=>d.jsx("div",{onClick:()=>w(v),className:"p-3 border-b border-gray-200 last:border-b-0 hover:bg-nutrify-light cursor-pointer",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900",children:v.name}),d.jsx("p",{className:"text-sm text-gray-600",children:v.portion})]}),d.jsxs("span",{className:"font-medium",children:[v.calories," kcal"]})]})},_))}):r&&!l?d.jsx("p",{className:"text-gray-500 text-center py-2 mb-4",children:"No results found. Try a different search term."}):null,d.jsx("div",{className:"flex justify-between",children:d.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:"Cancel"})})]})})};Nl.register(ha,WE,BE);const W6=({date:t})=>{const{foodLogs:e}=gi(),n=O.useMemo(()=>{const s=e.filter(g=>g.date===t),o=s.reduce((g,x)=>g+x.calories,0),a=s.reduce((g,x)=>g+x.protein,0),l=s.reduce((g,x)=>g+x.carbs,0),c=s.reduce((g,x)=>g+x.fat,0),h=a*4,f=l*4,p=c*9;return{totalCalories:o,totalProtein:a,totalCarbs:l,totalFat:c,proteinPercentage:o?Math.round(h/o*100):0,carbsPercentage:o?Math.round(f/o*100):0,fatPercentage:o?Math.round(p/o*100):0}},[e,t]),i={labels:["Protein","Carbs","Fat"],datasets:[{data:[n.proteinPercentage,n.carbsPercentage,n.fatPercentage],backgroundColor:["#3B82F6","#F97316","#8B5CF6"],borderWidth:0}]},r={responsive:!0,plugins:{legend:{position:"bottom",labels:{boxWidth:10,padding:10}}}};return d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Daily Summary"}),n.totalCalories>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-center mb-4",children:[d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.totalCalories}),d.jsx("p",{className:"text-sm text-gray-600",children:"Total Calories"})]}),d.jsx("div",{className:"h-40 mb-4",children:d.jsx(oD,{data:i,options:r})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[d.jsx(kf,{label:"Protein",value:n.totalProtein,percentage:n.proteinPercentage,color:"#3B82F6"}),d.jsx(kf,{label:"Carbs",value:n.totalCarbs,percentage:n.carbsPercentage,color:"#F97316"}),d.jsx(kf,{label:"Fat",value:n.totalFat,percentage:n.fatPercentage,color:"#8B5CF6"})]})]}):d.jsx("div",{className:"text-center py-6",children:d.jsx("p",{className:"text-gray-500",children:"No food logged for this date"})})]})},kf=({label:t,value:e,percentage:n,color:i})=>d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",style:{color:i},children:t}),d.jsxs("p",{className:"font-semibold text-gray-900",children:[e.toFixed(1),"g"]}),d.jsxs("p",{className:"text-xs text-gray-500",children:[n,"%"]})]}),G6=()=>{const{foodLogs:t,getFoodLogsByDate:e}=gi(),[n,i]=O.useState(""),[r,s]=O.useState(!1),[o,a]=O.useState("breakfast"),[l,c]=O.useState([]);O.useEffect(()=>{const v=new Date().toISOString().split("T")[0];i(v)},[]),O.useEffect(()=>{if(n){const v=e(n);c(v)}},[n,t,e]);const h=v=>{i(v.target.value)},f=v=>{a(v),s(!0)},p=()=>{s(!1)},g=l.filter(v=>v.mealType==="breakfast"),x=l.filter(v=>v.mealType==="lunch"),w=l.filter(v=>v.mealType==="dinner"),b=l.filter(v=>v.mealType==="snack");return d.jsxs("div",{children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meal Log"}),d.jsx("p",{className:"text-gray-600",children:"Track your daily food intake and monitor your nutrition"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"nutrify-card mb-6",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(KA,{size:20,className:"text-nutrify-accent"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Date"})]}),d.jsx("input",{type:"date",value:n,onChange:h,className:"w-full border border-gray-300 rounded-md px-3 py-2 mb-4 focus:ring-nutrify-accent focus:border-nutrify-accent"}),d.jsx(W6,{date:n})]})}),d.jsxs("div",{className:"lg:col-span-3",children:[d.jsx(qc,{title:"Breakfast",items:g,onAddMeal:()=>f("breakfast")}),d.jsx(qc,{title:"Lunch",items:x,onAddMeal:()=>f("lunch")}),d.jsx(qc,{title:"Dinner",items:w,onAddMeal:()=>f("dinner")}),d.jsx(qc,{title:"Snacks",items:b,onAddMeal:()=>f("snack")})]})]}),r&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Add ",o.charAt(0).toUpperCase()+o.slice(1)," Item"]}),d.jsx(H6,{date:n,mealType:o,onClose:p})]})})})]})},qc=({title:t,items:e,onAddMeal:n})=>d.jsxs("div",{className:"nutrify-card mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t}),d.jsxs("button",{onClick:n,className:"text-nutrify-accent hover:text-green-700 flex items-center text-sm font-medium",children:[d.jsx(iN,{size:16,className:"mr-1"}),"Add Item"]})]}),e.length>0?d.jsx("div",{className:"space-y-4",children:e.map(i=>d.jsx($6,{item:i},i.id))}):d.jsxs("div",{className:"text-center py-6 border border-dashed border-gray-200 rounded-lg",children:[d.jsxs("p",{className:"text-gray-500",children:["No ",t.toLowerCase()," items logged"]}),d.jsxs("button",{onClick:n,className:"mt-2 text-nutrify-accent hover:text-green-700 text-sm font-medium",children:["Add your first ",t.toLowerCase()," item"]})]})]}),q6=sg()(t=>({messages:[],isLoading:!1,addMessage:e=>t(n=>({messages:[...n.messages,{...e,id:Date.now().toString(),timestamp:Date.now()}]})),setLoading:e=>t({isLoading:e}),clearMessages:()=>t({messages:[]})})),K6=({message:t})=>{const{role:e,content:n}=t,i=new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e==="user"?d.jsxs("div",{className:"flex items-start gap-3 justify-end",children:[d.jsxs("div",{className:"py-2 px-4 bg-nutrify-accent text-white rounded-2xl rounded-tr-none max-w-xs md:max-w-md break-words",children:[d.jsx("p",{children:n}),d.jsx("span",{className:"block text-right mt-1 text-xs text-white text-opacity-70",children:i})]}),d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center",children:d.jsx(Gd,{size:18,className:"text-gray-600"})})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-nutrify-accent flex items-center justify-center",children:d.jsx(J1,{size:18,className:"text-white"})}),d.jsxs("div",{className:"py-2 px-4 bg-gray-100 rounded-2xl rounded-tl-none max-w-xs md:max-w-md break-words",children:[d.jsx("p",{children:n}),d.jsx("span",{className:"block text-left mt-1 text-xs text-gray-500",children:i})]})]})},Y6="AIzaSyAGkTWovXeyZ5TBKchb9gv5xbU5yuKoQwo",Q6=async t=>{var e,n,i,r,s;try{const o=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key="+Y6,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are a nutrition assistant. Only answer questions related to nutrition, food, diet, calories, healthy eating, or meal planning. If the question is not about nutrition, politely say you can only answer nutrition-related questions.
User: ${t}`}]}],generationConfig:{temperature:.7,maxOutputTokens:256}})});return o.ok?((s=(r=(i=(n=(e=(await o.json()).candidates)==null?void 0:e[0])==null?void 0:n.content)==null?void 0:i.parts)==null?void 0:r[0])==null?void 0:s.text)||"Sorry, I couldn't generate a response.":`Gemini API error: ${o.statusText}`}catch{return"Failed to connect to Gemini. Please try again later."}},X6=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(!1),{messages:r,addMessage:s,isLoading:o,setLoading:a}=q6(),l=O.useRef(null);O.useEffect(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth"})},[r]);const c=async h=>{if(h.preventDefault(),!!t.trim()){s({role:"user",content:t}),e(""),i(!0),a(!0);try{const f=await Q6(t);s({role:"assistant",content:f})}catch{s({role:"assistant",content:"I'm sorry, I couldn't process your request. Please try again."})}finally{i(!1),a(!1)}}};return O.useEffect(()=>{r.length===0&&s({role:"assistant",content:"Hello! I'm your Nutrify nutrition assistant. You can ask me about calories, nutrients, diet tips, recipe ideas, or any nutrition-related questions. How can I help you today?"})},[r.length,s]),d.jsxs("div",{className:"h-[calc(100vh-180px)] flex flex-col",children:[d.jsxs("header",{className:"mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nutrition Assistant"}),d.jsx("p",{className:"text-gray-600",children:"Ask me anything about nutrition, diets, or healthy eating"})]}),d.jsx("div",{className:"flex-1 flex flex-col",children:d.jsxs("div",{className:"nutrify-card flex-1 mb-6 overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(h=>d.jsx(K6,{message:h},h.id)),n&&d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-nutrify-accent flex items-center justify-center",children:d.jsx(J1,{size:18,className:"text-white"})}),d.jsx("div",{className:"py-2 px-4 bg-gray-100 rounded-2xl rounded-tl-none",children:d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),d.jsx("div",{ref:l})]}),d.jsx("div",{className:"border-t border-gray-200 p-4",children:d.jsxs("form",{onSubmit:c,className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),placeholder:"Ask a nutrition question...",className:"flex-1 border border-gray-300 rounded-full px-4 py-2 focus:ring-nutrify-accent focus:border-nutrify-accent",disabled:o}),d.jsx("button",{type:"submit",disabled:o||!t.trim(),className:`rounded-full p-2 ${t.trim()?"bg-nutrify-accent text-white hover:bg-green-600":"bg-gray-200 text-gray-400"} transition-colors`,children:d.jsx(sN,{size:20})})]})})]})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Suggested questions:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Kc,{text:"How many calories in an apple?",onClick:()=>e("How many calories in an apple?")}),d.jsx(Kc,{text:"Protein-rich vegetarian foods",onClick:()=>e("What are good protein-rich vegetarian foods?")}),d.jsx(Kc,{text:"Is coffee healthy?",onClick:()=>e("Is coffee healthy or unhealthy?")}),d.jsx(Kc,{text:"Healthy snack ideas",onClick:()=>e("Give me some healthy snack ideas")})]})]})]})},Kc=({text:t,onClick:e})=>d.jsx("button",{onClick:e,className:"bg-nutrify-light border border-nutrify-secondary text-gray-800 rounded-full px-3 py-1 text-sm hover:bg-nutrify-secondary transition-colors",children:t}),J6=()=>{const{user:t}=fr(),[e,n]=O.useState(""),[i,r]=O.useState(""),[s,o]=O.useState(null),[a,l]=O.useState("");O.useEffect(()=>{t!=null&&t.height&&n(t.height.toString()),t!=null&&t.weight&&r(t.weight.toString())},[t]);const c=()=>{if(!e||!i)return;const f=parseFloat(e)/100,p=parseFloat(i);if(f<=0||p<=0){alert("Please enter valid height and weight values");return}const g=p/(f*f);o(g),g<18.5?l("Underweight"):g>=18.5&&g<25?l("Normal weight"):g>=25&&g<30?l("Overweight"):l("Obesity")},h=()=>{switch(a){case"Underweight":return"text-blue-500";case"Normal weight":return"text-green-500";case"Overweight":return"text-orange-500";case"Obesity":return"text-red-500";default:return"text-gray-900"}};return d.jsxs("div",{className:"nutrify-card",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx("div",{className:"bg-nutrify-secondary p-2 rounded-md",children:d.jsx(Wd,{size:22,className:"text-nutrify-accent"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"BMI Calculator"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),d.jsx("input",{id:"height",type:"number",value:e,onChange:f=>n(f.target.value),placeholder:"e.g., 175",min:"50",max:"250",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-nutrify-accent focus:border-nutrify-accent"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),d.jsx("input",{id:"weight",type:"number",value:i,onChange:f=>r(f.target.value),placeholder:"e.g., 70",min:"20",max:"300",step:"0.1",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-nutrify-accent focus:border-nutrify-accent"})]}),d.jsx("button",{onClick:c,className:"w-full nutrify-btn-primary py-2",children:"Calculate BMI"})]}),s!==null&&d.jsxs("div",{className:"mt-8 text-center",children:[d.jsx("div",{className:"w-24 h-24 rounded-full bg-nutrify-light mx-auto mb-3 flex items-center justify-center",children:d.jsx("span",{className:"text-2xl font-bold text-gray-900",children:s.toFixed(1)})}),d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Your BMI is ",s.toFixed(1)]}),d.jsx("p",{className:`text-lg font-medium mb-4 ${h()}`,children:a}),d.jsx("div",{className:"bg-nutrify-light p-4 rounded-lg text-sm text-gray-700",children:d.jsx("p",{children:"BMI provides a simple numeric measure of your weight relative to height. It's one of several indicators used to assess weight status."})})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"BMI Categories"}),d.jsxs("div",{className:"h-8 flex rounded-lg overflow-hidden",children:[d.jsx("div",{className:"bg-blue-500 flex-1 flex items-center justify-center text-xs text-white font-medium",children:"<18.5"}),d.jsx("div",{className:"bg-green-500 flex-1 flex items-center justify-center text-xs text-white font-medium",children:"18.5-24.9"}),d.jsx("div",{className:"bg-orange-500 flex-1 flex items-center justify-center text-xs text-white font-medium",children:"25-29.9"}),d.jsx("div",{className:"bg-red-500 flex-1 flex items-center justify-center text-xs text-white font-medium",children:"30"})]}),d.jsxs("div",{className:"flex text-xs mt-1",children:[d.jsx("div",{className:"flex-1 text-center text-blue-600",children:"Underweight"}),d.jsx("div",{className:"flex-1 text-center text-green-600",children:"Normal"}),d.jsx("div",{className:"flex-1 text-center text-orange-600",children:"Overweight"}),d.jsx("div",{className:"flex-1 text-center text-red-600",children:"Obesity"})]})]})]})},Z6=()=>{const{addFoodItem:t}=gi(),[e,n]=O.useState(""),[i,r]=O.useState(""),[s,o]=O.useState(!1),[a,l]=O.useState([]),[c,h]=O.useState(null),[f,p]=O.useState(null),g=_=>{_.target.files&&_.target.files[0]&&(p(_.target.files[0]),n(""))},x=async()=>{if(!(!e.trim()&&!f)){o(!0);try{const S=await Bs(f||e);l(S.foodItems||[])}catch(_){console.error("Error searching for food:",_)}finally{o(!1)}}},w=_=>{h(_),l([])},b=()=>{if(!c)return;const _=new Date().toISOString().split("T")[0],S=i.trim()?i:c.portion;t({id:Date.now().toString(),name:c.name,portion:S,calories:c.calories,protein:c.protein,carbs:c.carbs,fat:c.fat,fiber:c.fiber,sugar:c.sugar,sodium:c.sodium,date:_,mealType:"snack"}),h(null),n(""),r(""),p(null)},v=()=>{h(null),n(""),r(""),l([]),p(null)};return d.jsxs("div",{className:"nutrify-card",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx("div",{className:"bg-nutrify-secondary p-2 rounded-md",children:d.jsx(Ku,{size:22,className:"text-nutrify-accent"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Calorie Estimator"})]}),c?d.jsxs("div",{children:[d.jsxs("div",{className:"bg-nutrify-light p-4 rounded-lg mb-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:c.name}),d.jsx("p",{className:"text-sm text-gray-600",children:c.portion})]}),d.jsxs("span",{className:"font-bold text-gray-900",children:[c.calories," kcal"]})]}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"bg-white p-2 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Protein"}),d.jsxs("div",{className:"font-medium",children:[c.protein.toFixed(1),"g"]})]}),d.jsxs("div",{className:"bg-white p-2 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Carbs"}),d.jsxs("div",{className:"font-medium",children:[c.carbs.toFixed(1),"g"]})]}),d.jsxs("div",{className:"bg-white p-2 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Fat"}),d.jsxs("div",{className:"font-medium",children:[c.fat.toFixed(1),"g"]})]}),c.fiber!==void 0&&d.jsxs("div",{className:"bg-white p-2 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Fiber"}),d.jsxs("div",{className:"font-medium",children:[c.fiber.toFixed(1),"g"]})]}),c.sugar!==void 0&&d.jsxs("div",{className:"bg-white p-2 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Sugar"}),d.jsxs("div",{className:"font-medium",children:[c.sugar.toFixed(1),"g"]})]}),c.sodium!==void 0&&d.jsxs("div",{className:"bg-white p-2 rounded-md",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Sodium"}),d.jsxs("div",{className:"font-medium",children:[c.sodium.toFixed(0),"mg"]})]})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"portion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Portion (optional)"}),d.jsx("input",{id:"portion",type:"text",value:i,onChange:_=>r(_.target.value),placeholder:`e.g., 2 servings, 100g (default: ${c.portion})`,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-nutrify-accent focus:border-nutrify-accent"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Specify a custom portion size if different from default"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs("button",{onClick:b,className:"nutrify-btn-primary flex-1 flex items-center justify-center",children:[d.jsx(qu,{size:16,className:"mr-1"}),"Add to Meal Log"]}),d.jsx("button",{onClick:v,className:"nutrify-btn-outline flex-1",children:"Start New Search"})]})]}):d.jsxs("div",{children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"searchFood",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search for a food"}),d.jsxs("div",{className:"flex",children:[d.jsx("input",{id:"searchFood",type:"text",value:e,onChange:_=>n(_.target.value),placeholder:"e.g., apple, chicken breast, rice...",className:"flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:ring-nutrify-accent focus:border-nutrify-accent"}),d.jsx("button",{onClick:x,disabled:s||!e.trim(),className:"bg-nutrify-accent text-white px-4 py-2 rounded-r-md hover:bg-green-600 transition-colors flex items-center",children:s?d.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(Ku,{size:18})})]}),e&&!s&&a.length===0&&d.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No results found. Try a different search term or be more specific."})]}),d.jsx("div",{className:"mb-2",children:d.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"mb-2"})}),a.length>0&&d.jsxs("div",{className:"border border-gray-200 rounded-md overflow-hidden mb-6",children:[d.jsx("div",{className:"text-sm font-medium text-gray-700 bg-gray-50 px-4 py-2 border-b border-gray-200",children:"Search Results"}),d.jsx("div",{className:"max-h-80 overflow-y-auto",children:a.map((_,S)=>d.jsx("div",{className:"border-b border-gray-200 last:border-b-0 p-3 hover:bg-nutrify-light cursor-pointer transition-colors",onClick:()=>w(_),children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),d.jsx("p",{className:"text-sm text-gray-600",children:_.portion})]}),d.jsxs("span",{className:"font-semibold text-gray-900",children:[_.calories," kcal"]})]})},S))})]}),d.jsxs("div",{className:"bg-nutrify-light rounded-lg p-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Search Tips"}),d.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[d.jsx("li",{children:' Be specific (e.g., "grilled chicken breast" instead of just "chicken")'}),d.jsx("li",{children:" Include preparation method when possible"}),d.jsx("li",{children:" For packaged foods, include brand names"}),d.jsx("li",{children:' Use common names (e.g., "bell pepper" instead of "capsicum")'})]})]})]})]})},eV=()=>{const[t,e]=O.useState("bmi");return d.jsxs("div",{children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nutrition Tools"}),d.jsx("p",{className:"text-gray-600",children:"Useful calculators and tools to support your nutrition journey"})]}),d.jsxs("div",{className:"flex border-b border-gray-200 mb-8",children:[d.jsx("button",{onClick:()=>e("bmi"),className:`py-3 px-6 font-medium text-sm focus:outline-none ${t==="bmi"?"text-nutrify-accent border-b-2 border-nutrify-accent":"text-gray-600 hover:text-gray-900"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Wd,{size:18,className:"mr-2"}),"BMI Calculator"]})}),d.jsx("button",{onClick:()=>e("calorie"),className:`py-3 px-6 font-medium text-sm focus:outline-none ${t==="calorie"?"text-nutrify-accent border-b-2 border-nutrify-accent":"text-gray-600 hover:text-gray-900"}`,children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ku,{size:18,className:"mr-2"}),"Calorie Estimator"]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[d.jsx("div",{className:"lg:col-span-3",children:t==="bmi"?d.jsx(J6,{}):d.jsx(Z6,{})}),d.jsx("div",{className:"lg:col-span-2",children:t==="bmi"?d.jsx(tV,{}):d.jsx(nV,{})})]})]})},tV=()=>d.jsxs("div",{className:"nutrify-card bg-nutrify-light",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About BMI"}),d.jsxs("div",{className:"space-y-4 text-gray-700",children:[d.jsx("p",{children:"Body Mass Index (BMI) is a measure of body fat based on height and weight that applies to adult men and women."}),d.jsx("h3",{className:"font-medium text-gray-900",children:"BMI Categories:"}),d.jsxs("ul",{className:"space-y-2 ml-5 list-disc",children:[d.jsx("li",{children:"Underweight: BMI less than 18.5"}),d.jsx("li",{children:"Normal weight: BMI 18.5 to 24.9"}),d.jsx("li",{children:"Overweight: BMI 25 to 29.9"}),d.jsx("li",{children:"Obesity: BMI 30 or greater"})]}),d.jsx("h3",{className:"font-medium text-gray-900",children:"Limitations of BMI:"}),d.jsxs("ul",{className:"space-y-2 ml-5 list-disc",children:[d.jsx("li",{children:"Doesn't account for muscle mass"}),d.jsx("li",{children:"Doesn't consider body composition"}),d.jsx("li",{children:"May not be accurate for athletes or elderly"})]}),d.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mt-4",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[d.jsx("strong",{children:"Note:"})," BMI is a screening tool, not a diagnostic tool. Consult with healthcare professionals for a complete health assessment."]})})]})]}),nV=()=>d.jsxs("div",{className:"nutrify-card bg-nutrify-light",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Calorie Estimator Guide"}),d.jsxs("div",{className:"space-y-4 text-gray-700",children:[d.jsx("p",{children:"Our AI-powered calorie estimator helps you quickly find nutritional information for any food item."}),d.jsx("h3",{className:"font-medium text-gray-900",children:"How It Works:"}),d.jsxs("ol",{className:"space-y-2 ml-5 list-decimal",children:[d.jsx("li",{children:"Enter a food name and portion size"}),d.jsx("li",{children:"Our AI searches a comprehensive nutrition database"}),d.jsx("li",{children:"View detailed nutritional breakdown including macros"}),d.jsx("li",{children:"Add items to your meal log with one click"})]}),d.jsx("h3",{className:"font-medium text-gray-900",children:"Tips for Accuracy:"}),d.jsxs("ul",{className:"space-y-2 ml-5 list-disc",children:[d.jsx("li",{children:'Be specific about the food item (e.g., "grilled chicken breast" instead of just "chicken")'}),d.jsx("li",{children:"Include preparation method if known"}),d.jsx("li",{children:"Specify portion size in grams or standard units"})]}),d.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mt-4",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[d.jsx("strong",{children:"Pro Tip:"})," For mixed meals or recipes, break them down into individual ingredients for the most accurate results."]})})]})]}),iV=()=>{const{user:t,updateProfile:e}=fr(),[n,i]=O.useState(!1),[r,s]=O.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",age:(t==null?void 0:t.age)||"",gender:(t==null?void 0:t.gender)||"",weight:(t==null?void 0:t.weight)||"",height:(t==null?void 0:t.height)||"",calorieGoal:(t==null?void 0:t.calorieGoal)||2e3}),o=l=>{const{name:c,value:h}=l.target;s(f=>({...f,[c]:h}))},a=l=>{l.preventDefault();const c={...r,age:r.age?parseInt(r.age.toString()):void 0,weight:r.weight?parseFloat(r.weight.toString()):void 0,height:r.height?parseFloat(r.height.toString()):void 0,calorieGoal:r.calorieGoal?parseInt(r.calorieGoal.toString()):2e3};e(c),i(!1)};return d.jsxs("div",{children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),d.jsx("p",{className:"text-gray-600",children:"View and update your personal information"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"nutrify-card text-center",children:[d.jsx("div",{className:"w-24 h-24 rounded-full bg-nutrify-accent mx-auto mb-4 flex items-center justify-center",children:d.jsx(Gd,{size:40,className:"text-white"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:(t==null?void 0:t.name)||"User"}),d.jsx("p",{className:"text-gray-600 mb-4",children:(t==null?void 0:t.email)||"user@example.com"}),d.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:d.jsxs("dl",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("dt",{className:"text-gray-500",children:"Member Since"}),d.jsx("dd",{className:"font-medium text-gray-900",children:"June 2023"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("dt",{className:"text-gray-500",children:"Meals Logged"}),d.jsx("dd",{className:"font-medium text-gray-900",children:"24"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("dt",{className:"text-gray-500",children:"Daily Calorie Goal"}),d.jsxs("dd",{className:"font-medium text-gray-900",children:[r.calorieGoal," kcal"]})]})]})})]})}),d.jsxs("div",{className:"lg:col-span-2",children:[d.jsxs("div",{className:"nutrify-card",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),n?d.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:"Cancel"}):d.jsxs("button",{onClick:()=>i(!0),className:"nutrify-btn-outline flex items-center",children:[d.jsx(nN,{size:16,className:"mr-1"}),"Edit Profile"]})]}),d.jsxs("form",{onSubmit:a,children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),d.jsx("input",{id:"name",name:"name",type:"text",value:r.name,onChange:o,disabled:!n,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent disabled:bg-gray-50 disabled:text-gray-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),d.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:o,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent disabled:bg-gray-50 disabled:text-gray-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),d.jsx("input",{id:"age",name:"age",type:"number",value:r.age,onChange:o,disabled:!n,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent disabled:bg-gray-50 disabled:text-gray-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),d.jsxs("select",{id:"gender",name:"gender",value:r.gender,onChange:o,disabled:!n,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent disabled:bg-gray-50 disabled:text-gray-500",children:[d.jsx("option",{value:"",children:"Select gender"}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"other",children:"Other"}),d.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),d.jsx("input",{id:"weight",name:"weight",type:"number",step:"0.1",value:r.weight,onChange:o,disabled:!n,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent disabled:bg-gray-50 disabled:text-gray-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),d.jsx("input",{id:"height",name:"height",type:"number",step:"0.1",value:r.height,onChange:o,disabled:!n,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent disabled:bg-gray-50 disabled:text-gray-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"calorieGoal",className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Calorie Goal"}),d.jsx("input",{id:"calorieGoal",name:"calorieGoal",type:"number",step:"50",value:r.calorieGoal,onChange:o,disabled:!n,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-nutrify-accent focus:border-nutrify-accent disabled:bg-gray-50 disabled:text-gray-500"})]})]}),n&&d.jsxs("button",{type:"submit",className:"nutrify-btn-primary flex items-center",children:[d.jsx(rN,{size:16,className:"mr-1"}),"Save Changes"]})]})]}),d.jsxs("div",{className:"nutrify-card mt-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preferences"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates and reminders"})]}),d.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),d.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-nutrify-secondary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-nutrify-accent"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Dark Mode"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Use dark theme"})]}),d.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer"}),d.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-nutrify-secondary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-nutrify-accent"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-gray-900",children:"Daily Reminders"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Get reminders to log your meals"})]}),d.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),d.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-nutrify-secondary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-nutrify-accent"})]})]})]})]})]})]})]})},rV=({children:t})=>{const{isAuthenticated:e}=fr();return e?d.jsx(d.Fragment,{children:t}):d.jsx($1,{to:"/login",replace:!0})};function sV(){return d.jsx(aA,{children:d.jsxs(eA,{children:[d.jsxs(Ot,{path:"/",element:d.jsx(dN,{}),children:[d.jsx(Ot,{index:!0,element:d.jsx(gN,{})}),d.jsx(Ot,{path:"about",element:d.jsx(yN,{})}),d.jsx(Ot,{path:"login",element:d.jsx(pD,{})}),d.jsx(Ot,{path:"register",element:d.jsx(mD,{})})]}),d.jsxs(Ot,{path:"/",element:d.jsx(rV,{children:d.jsx(mN,{})}),children:[d.jsx(Ot,{path:"dashboard",element:d.jsx(dD,{})}),d.jsx(Ot,{path:"analysis",element:d.jsx(B6,{})}),d.jsx(Ot,{path:"meal-log",element:d.jsx(G6,{})}),d.jsx(Ot,{path:"chatbot",element:d.jsx(X6,{})}),d.jsx(Ot,{path:"tools",element:d.jsx(eV,{})}),d.jsx(Ot,{path:"profile",element:d.jsx(iV,{})})]}),d.jsx(Ot,{path:"*",element:d.jsx($1,{to:"/",replace:!0})})]})})}j1(document.getElementById("root")).render(d.jsx(O.StrictMode,{children:d.jsx(sV,{})}));
